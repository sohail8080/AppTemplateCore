<!DOCTYPE html>
<!-- saved from url=(0092)https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1 -->
<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus js-focus-visible theme-high-contrast" lang="en-us" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="true" data-target="docs" x-ms-format-detection="none"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="Configuration in ASP.NET Core">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/">
			<meta property="og:description" content="Learn how to use the Configuration API to configure an ASP.NET Core app.">
		<meta property="og:image" content="https://docs.microsoft.com/en-us/media/logos/logo-ms-social.png">
		<meta property="og:image:alt" content="Microsoft Logo">

	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@docsmsft">


	<meta name="author" content="Rick-Anderson">
<meta name="breadcrumb_path" content="/aspnet/core/breadcrumb/toc.json">
<meta name="depot_name" content="MSDN.aspnet-core-conceptual">
<meta name="description" content="Learn how to use the Configuration API to configure an ASP.NET Core app.">
<meta name="document_id" content="0eb4d762-3910-2c57-8741-3306c15537b6">
<meta name="document_version_independent_id" content="ba2254a0-ea8e-9b28-e94b-edd0fc58c043">
<meta name="gitcommit" content="https://github.com/dotnet/AspNetCore.Docs/blob/c0840da0794acc38a9f7d756c81e8f6f23e8c8ab/aspnetcore/fundamentals/configuration/index.md">
<meta name="locale" content="en-us">
<meta name="monikerRange" content="&gt;= aspnetcore-2.1">
<meta name="monikers" content="aspnetcore-2.1">
<meta name="monikers" content="aspnetcore-2.2">
<meta name="monikers" content="aspnetcore-3.0">
<meta name="monikers" content="aspnetcore-3.1">
<meta name="monikers" content="aspnetcore-5.0">
<meta name="ms.author" content="riande">
<meta name="ms.custom" content="mvc">
<meta name="ms.date" content="3/29/2020">
<meta name="ms.prod" content="aspnet-core">
<meta name="ms.technology" content="aspnetcore-fundamentals">
<meta name="ms.topic" content="conceptual">
<meta name="original_content_git_url" content="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/fundamentals/configuration/index.md">
<meta name="search.ms_docsetname" content="aspnet-core-conceptual">
<meta name="search.ms_product" content="MSDN">
<meta name="search.ms_sitename" content="Docs">
<meta name="site_name" content="Docs">
<meta name="uhfHeaderId" content="MSDocsHeader-DotNet">
<meta name="uid" content="fundamentals/configuration/index">
<meta name="updated_at" content="2020-04-09 10:24 PM">
<meta name="page_type" content="conceptual">
<meta name="toc_rel" content="../../toc.json">
<meta name="pdf_url_template" content="https://docs.microsoft.com/pdfstore/en-us/MSDN.aspnet-core-conceptual/{branchName}{pdfName}">
<meta name="word_count" content="11598">


	<meta name="scope" content="ASP.NET Core">
<link href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/" rel="canonical">
	<title>Configuration in ASP.NET Core | Microsoft Docs</title>

		<link rel="stylesheet" href="./Configuration in ASP.NET Core _ Microsoft Docs_files/fde4fc64.site-ltr.css">

	<link rel="stylesheet" href="./Configuration in ASP.NET Core _ Microsoft Docs_files/672b4bb0.conceptual.css">


	<script async="" defer="" crossorigin="anonymous" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/lux.js.download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/analytics.js.download"></script><script>
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			azureHeaderLocale: 'en-us',
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasBinaryRating: true,
			hasGithubIssues: true,
			showFeedbackReport: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'GitHub',
			feedbackGitHubRepo: 'dotnet/AspNetCore.Docs',
			feedbackProductUrl: 'https://github.com/dotnet/aspnetcore/blob/master/CONTRIBUTING.md',
			contentGitUrl: 'https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/fundamentals/configuration/index.md',
			extendBreadcrumb: true,
			isEditDisplayable: true,
			hideViewSource: false,
			hasPageActions: true,
			hasBookmark: true,
			hasShare: true
		},
		functions:{}
	};
	if (!('Promise' in window && 'resolve' in window.Promise && 'reject' in window.Promise && 'all' in window.Promise && 'race' in window.Promise)) {
		document.write('<script src="/static/third-party/bluebird/3.5.0/bluebird.min.js" integrity="sha384-aD4BDeDGeLXLpPK4yKeqtZQa9dv4a/7mQ+4L5vwshIYH1Mc2BrXvHd32iHzYCQy5" crossorigin="anonymous"><\/script>');
	}
	if (typeof fetch !== 'function') {
		document.write('<script src="/static/third-party/fetch/3.0.0/fetch.umd.min.js" integrity="sha384-EQIXrC5K2+7X8nGgLkB995I0/6jfAvvyG1ieZ+WYGxgJHFMD/alsG9fSDWvzb5Y1" crossorigin="anonymous"><\/script>');
	}
	if (typeof HTMLTemplateElement === 'undefined') {
		document.write('<script src="/static/third-party/template/1.4.0/template.min.js" integrity="sha384-1zKzI6ldTVHMU7n0W2HpE/lhHI+UG4D9IIaxbj3kT2UhCWicdTuJkTtnKuu0CQzN" crossorigin="anonymous"><\/script>');
	}
	if (typeof URL !== 'function') {
		document.write('<script src="/static/third-party/url/0.5.7/url.min.js" integrity="sha384-vn7xBMtpSTfzaTRWxj0kVq0UcsbBrTOgZ/M1ISHqe1V358elYva+lfiEC+T8jLPc" crossorigin="anonymous"><\/script>');
	}
	</script>

	<script src="./Configuration in ASP.NET Core _ Microsoft Docs_files/jquery.min.js.download" integrity="sha384-Q4GEli30r5Awgb/ITt925nE8buHKjVWM/x3DX8t5JwRLT9P/C2r7u7XzNwvpTTGw" crossorigin="anonymous"></script>
		<script src="./Configuration in ASP.NET Core _ Microsoft Docs_files/4ee96de3.index-docs.js.download"></script><style>
		[data-moniker]:not([data-moniker~='aspnetcore-3.1']) {
			display: none !important;
		}
	</style><script src="./Configuration in ASP.NET Core _ Microsoft Docs_files/jsll-4.js.download" async="" defer=""></script>

<script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js.download"></script><style type="text/css" media="print">.usabilla_live_button_container { display: none; }</style><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(1).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(2).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(3).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(4).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(5).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(6).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(7).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(8).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(9).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(10).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(11).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(12).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(13).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(14).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(15).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(16).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(17).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(18).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(19).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(20).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(21).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(22).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(23).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(24).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(25).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(26).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(27).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(28).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(29).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(30).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(31).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(32).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(33).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(34).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(35).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(36).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(37).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(38).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(39).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(40).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(41).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(42).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(43).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(44).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(45).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(46).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(47).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(48).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(49).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(50).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(51).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(52).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(53).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(54).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(55).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(56).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(57).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(58).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(59).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(60).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(61).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(62).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(63).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(64).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(65).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(66).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(67).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(68).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(69).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(70).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(71).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(72).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(73).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(74).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(75).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(76).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(77).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(78).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(79).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(80).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(81).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(82).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(83).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(84).download"></script><script async="" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/t.js(85).download"></script><script async="" src="https://web.vortex.data.microsoft.com/collect/v1/t.js?ver=%272.1%27&amp;name=%27Ms.Webi.ContentUpdate%27&amp;time=%272020-04-25T19%3A11%3A22.376Z%27&amp;os=%27Windows%27&amp;appId=%27JS%3ADocs%27&amp;-ver=%271.0%27&amp;-impressionGuid=%27ee7545f8-ed8e-4cb9-97bf-3a7e5aaf9af3%27&amp;-pageName=%270eb4d762-3910-2c57-8741-3306c15537b6%27&amp;-uri=%27https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%27&amp;-market=%27en-us%27&amp;-pageTags=%27%7B%22author%22%3A%22Rick-Anderson%22%2C%22depotname%22%3A%22MSDN.aspnet-core-conceptual%22%2C%22document_version_independent_id%22%3A%22ba2254a0-ea8e-9b28-e94b-edd0fc58c043%22%2C%22gitcommit%22%3A%22https%3A%2F%2Fgithub.com%2Fdotnet%2FAspNetCore.Docs%2Fblob%2Fc0840da0794acc38a9f7d756c81e8f6f23e8c8ab%2Faspnetcore%2Ffundamentals%2Fconfiguration%2Findex.md%22%2C%22pgauth%22%3A%22riande%22%2C%22custom%22%3A%22mvc%22%2C%22date%22%3A%223%2F29%2F2020%22%2C%22product%22%3A%22aspnet-core%22%2C%22technology%22%3A%22aspnetcore-fundamentals%22%2C%22pgtop%22%3A%22conceptual%22%2C%22giturl%22%3A%22https%3A%2F%2Fgithub.com%2Fdotnet%2FAspNetCore.Docs%2Fblob%2Flive%2Faspnetcore%2Ffundamentals%2Fconfiguration%2Findex.md%22%2C%22publishtime%22%3A%222020-04-09%2010%3A24%20PM%22%2C%22contentlocale%22%3A%22en-us%22%2C%22highContrast%22%3A%22false%22%2C%22metaTags%22%3A%7B%7D%7D%27&amp;-pageHeight=42039&amp;-vpHeight=576&amp;-vpWidth=1366&amp;-actionType=%27R%27&amp;-behavior=0&amp;-vScrollOffset=32700&amp;-hScrollOffset=0&amp;-contentVer=%272.0%27&amp;-content=%27%5B%5D%27&amp;*baseType=%27Ms.Content.ContentUpdate%27&amp;*title=%27Configuration%20in%20ASP.NET%20Core%20%7C%20Microsoft%20Docs%27&amp;*cookieEnabled=true&amp;*isJs=true&amp;*isDomComplete=false&amp;*isLoggedIn=false&amp;ext-javascript-ver=%271.1%27&amp;ext-javascript-libVer=%274.2.14%27&amp;ext-javascript-domain=%27docs.microsoft.com%27&amp;ext-javascript-msfpc=%27GUID%3Db3938267efcc489ba2dd0c04966b7b73%26HASH%3Db393%26LV%3D202003%26V%3D4%26LU%3D1584024518007%27&amp;ext-javascript-userConsent=true&amp;ext-javascript-anid=%27A%3D913CC731C6DF5D38325CAA53FFFFFFFF%27&amp;ext-user-localId=%27t%3A3D60C65CA82E621E3492C8D7A99B637E%27&amp;$mscomCookies=false"></script></head>

<body lang="en-us" dir="ltr"><div style="display: none;" id="lightningjs-usabilla_live"><div><iframe frameborder="0" id="lightningjs-frame-usabilla_live" src="./Configuration in ASP.NET Core _ Microsoft Docs_files/saved_resource.html"></iframe></div></div>
<div class="header-holder has-default-focus">
	<a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#main" class="skip-to-main-link visually-hidden-until-focused is-fixed has-inner-focus focus-visible has-top-zero has-left-zero has-right-zero has-padding-medium has-text-centered has-body-background-medium" tabindex="1">Skip to main content</a>
		<div id="headerAreaHolder" data-bi-name="header">
<header role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization"><!----><!----><div class="nav-bar"><!---->  <a class="nav-bar-button has-padding-left-medium has-padding-left-small-tablet" itemprop="url" href="https://www.microsoft.com/" aria-label="Microsoft">
		<div class="nav-bar-logo has-background-image theme-display is-light" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
		<div class="nav-bar-logo has-background-image theme-display is-dark is-high-contrast" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
	</a> 
			
		<div class="nav-bar-item is-hidden-tablet">
			<button class="nav-bar-button is-size-5 is-text has-body-background has-padding-none" title="Global navigation" aria-expanded="false">
				<span class="has-text-weight-semibold has-padding-left-small has-padding-bottom-extra-small"><!---->Documentation<!----></span>
				<div class="nav-bar-burger has-padding-none has-height-zero">
					<span></span>
					<span></span>
					<span></span>
					<span class="is-visually-hidden"><!---->Global navigation<!----></span>
				</div>
			</button>
		</div>
	
			
		<nav class="nav-bar-nav" role="navigation" aria-label="Global">
			<ul class="nav-bar-nav-list">
				
		<li class="nav-bar-item is-category has-spacing">
			<a class="nav-bar-button title has-hover-underline is-4" itemprop="url" href="https://docs.microsoft.com/en-us/">
				<span><!---->Docs<!----></span>
			</a>
		</li>
	
				<!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline is-active" href="https://docs.microsoft.com/en-us/">
					<span><!---->Documentation<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/learn/">
					<span><!---->Learn<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://docs.microsoft.com/en-us/samples/browse/">
					<span><!---->Code Samples<!----></span>
				</a>
		  </li><!----> <li class="dropdown nav-bar-item" hidden="">
		<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-39">
			<span><!---->More<!----></span>
			<span class="nav-bar-button-chevron" aria-hidden="true">
				<span class="docon docon-chevron-down-light expanded-indicator"></span>
			</span>
		</button>
		<ul class="dropdown-menu" id="ax-39" aria-label="More">
			<!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/"><!---->Documentation<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/learn/"><!---->Learn<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/samples/browse/"><!---->Code Samples<!----></a>
				</li>
		  <!---->
		</ul>
	</li><!---->
			</ul>
		</nav>
	
			<span class="nav-bar-spacer is-hidden-mobile"></span>
			
		<div class="nav-bar-item nav-bar-search-form-item has-padding-top-small has-padding-bottom-small has-padding-left-medium has-padding-none-tablet" id="ax-40" hidden="">
			
		<form class="is-flex" method="GET" name="searchForm" role="search" id="searchForm" aria-label="Search" aria-expanded="false" action="https://docs.microsoft.com/en-us/search/">
			<div class="autocomplete" data-bi-name="autocomplete"><!----> <div class="control ">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="site-search-input" class="autocomplete-input input  is-small is-full-width" type="search" name="search" aria-expanded="false" aria-owns="ax-41-listbox" aria-activedescendant="" aria-label="Search" placeholder="Search">

			<span aria-hidden="true" class="icon is-small is-left" hidden="">
				<span class="has-text-primary docon docon-undefined"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-41-listbox" hidden="">
			
		</ul><!----></div>
			<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
			<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
			<input name="category" hidden="" value="All">
			<input name="scope" hidden="" value="ASP.NET Core">
			
		</form>
	
		</div>
		
					<div class="nav-bar-item nav-bar-search-form-item has-flex-grow-none
						has-flex-shrink-none has-margin-right-extra-small has-padding-top-small has-padding-bottom-small has-padding-left-medium has-padding-none-tablet">
						<!-- hidden when the width drops to tablet -->
						
		<form class="is-flex" method="GET" name="searchForm" role="search" id="searchFormDesktop" aria-label="Search" aria-expanded="false" action="https://docs.microsoft.com/en-us/search/">
			<div class="autocomplete" data-bi-name="autocomplete"><!----> <div class="control has-icons-left">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-42" class="autocomplete-input input control has-icons-left is-small is-full-width" type="search" name="search" aria-expanded="false" aria-owns="ax-43-listbox" aria-activedescendant="" aria-label="Search" placeholder="Search">

			<span aria-hidden="true" class="icon is-small is-left">
				<span class="has-text-primary docon docon-search"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-43-listbox" hidden="">
			
		</ul><!----></div>
			<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
			<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
			<input name="category" hidden="" value="All">
			<input name="scope" hidden="" value="ASP.NET Core">
			
		</form>
	
					</div>
			  
		<div class="nav-bar-item has-flex-grow-mobile has-flex-shrink-mobile" hidden="">
			<button id="form-expander" class="nav-bar-button has-hover-underline is-full-width has-padding-medium has-flex-justify-content-end-mobile" title="Search" aria-expanded="false" aria-controls="ax-40">
				
		<span class="is-visually-hidden-mobile"><!---->Search<!----></span>
		<span class="icon" aria-hidden="true">
			<span class="docon docon-search"></span>
		</span>
	
			</button>
		</div>
	
			
		<div class="nav-bar-item is-size-7 is-hidden-mobile has-padding-left-extra-small">
			
		<a class="docs-sign-in auth-status-determined not-authenticated button is-text has-inner-focus has-text-primary is-small" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#">
			Sign in
		</a>
	 
		<div class="dropdown has-caret auth-status-determined authenticated">
			<button class="dropdown-trigger button is-text has-padding-none has-background-transparent" aria-controls="user-menu" aria-expanded="false" aria-label="Your Account">
				<figure class="image is-36x36">
					<img class="has-body-background-medium is-rounded" data-profile-property="avatarUrl">
				</figure>
			</button>
			<div class="dropdown-menu box" id="user-menu" role="menu">
				<div class="media is-user-dir">
					<div class="media-left">
						<figure class="image is-48x48" aria-hidden="true">
							<img class="has-body-background-medium is-rounded" aria-labelledby="displayName" data-profile-property="avatarUrl">
						</figure>
					</div>
					<div class="media-content">
						<p class="title is-size-4">
							<span id="displayName" class="is-inline-truncated has-max-width-200" data-profile-property="displayName"></span>
						</p>
						<p class="subtitle is-size-7 has-margin-bottom-none">
							<span class="is-inline-truncated has-max-width-200" data-profile-property="upn"></span>
						</p>
					</div>
				</div>
				<ul>
					<li><a href="https://docs.microsoft.com/profile" data-profile-property="profileUrl"><!---->Profile<!----></a></li>
					<li><a href="https://docs.microsoft.com/profile" data-profile-property="bookmarksUrl"><!---->Bookmarks<!----></a></li>
					<li><a href="https://docs.microsoft.com/profile" data-profile-property="collectionsUrl"><!---->Collections<!----></a></li>
				</ul>
				<div class="has-border-top">
					<a class="docs-sign-out" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#"><!---->Sign out<!----></a>
				</div>
			</div>
		</div>
	
		</div>
	
		 <!----></div><div class="nav-bar is-content is-hidden-mobile has-border-top"><!----> 
		<a itemprop="url" class="nav-bar-button title has-hover-underline is-4 has-margin-none has-padding-bottom-extra-small" href="https://dotnet.microsoft.com/">
			<span><!---->.NET<!----></span>
		</a>
	 
		
		<nav class="nav-bar-nav" role="navigation" aria-label="Site">
			<ul class="nav-bar-nav-list">
				
				<!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://dotnet.microsoft.com/learn/dotnet/what-is-dotnet">
					<span><!---->About<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://dotnet.microsoft.com/learn">
					<span><!---->Learn<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://dotnet.microsoft.com/learn/dotnet/architecture-guides">
					<span><!---->Architecture<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://docs.microsoft.com/dotnet">
					<span><!---->Docs<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://dotnet.microsoft.com/download">
					<span><!---->Downloads<!----></span>
				</a>
		  </li><!----> <li class="nav-bar-item">
				<a class="nav-bar-button has-hover-underline " href="https://dotnet.microsoft.com/platform/community">
					<span><!---->Community<!----></span>
				</a>
		  </li><!----> <li class="dropdown nav-bar-item" hidden="">
		<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-38">
			<span><!---->More<!----></span>
			<span class="nav-bar-button-chevron" aria-hidden="true">
				<span class="docon docon-chevron-down-light expanded-indicator"></span>
			</span>
		</button>
		<ul class="dropdown-menu" id="ax-38" aria-label="More">
			<!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://dotnet.microsoft.com/learn/dotnet/what-is-dotnet"><!---->About<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://dotnet.microsoft.com/learn"><!---->Learn<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://dotnet.microsoft.com/learn/dotnet/architecture-guides"><!---->Architecture<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://docs.microsoft.com/dotnet"><!---->Docs<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://dotnet.microsoft.com/download"><!---->Downloads<!----></a>
				</li>
		  <!---->
				<li class="nav-bar-item" hidden="">
					<a class="nav-bar-button" href="https://dotnet.microsoft.com/platform/community"><!---->Community<!----></a>
				</li>
		  <!---->
		</ul>
	</li><!---->
			</ul>
		</nav>
	
		<span class="nav-bar-spacer is-hidden-mobile"></span>
		
		<ol class="is-flex">
			 
		<li class="nav-bar-item ">
			<a class="button is-small is-primary " href="https://dotnet.microsoft.com/learn/dotnet/hello-world-tutorial/intro">
				Get Started
			</a>
		</li>
	
		</ol>
	
	 <!----></div></header>		</div>
		<div class="content-header uhf-container has-padding has-default-focus has-border-bottom-none" data-bi-name="content-header">
			<nav class="has-padding-none has-padding-left-medium-tablet has-padding-right-medium-tablet has-padding-left-none-uhf-tablet has-padding-left-none-uhf-tablet has-padding-none-desktop has-flex-grow" data-bi-name="breadcrumb" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
				<ul id="page-breadcrumbs" class="breadcrumbs"><!---->
			<!----> <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
					 <a itemprop="item" href="https://docs.microsoft.com/en-us/?view=aspnetcore-3.1">
								<span itemprop="name">
									Docs
								</span>
						  </a>
					<meta itemprop="position" content="1">
				</li><!----> <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
					 <a itemprop="item" href="https://docs.microsoft.com/en-us/dotnet/?view=aspnetcore-3.1">
								<span itemprop="name">
									.NET
								</span>
						  </a>
					<meta itemprop="position" content="2">
				</li><!----> <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
					 <a itemprop="item" href="https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-3.1">
								<span itemprop="name">
									ASP.<wbr>NET Core
								</span>
						  </a>
					<meta itemprop="position" content="3">
				</li><!----> <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
					 <a itemprop="item" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.1">
								<span itemprop="name">
									Fundamentals
								</span>
						  </a>
					<meta itemprop="position" content="4">
				</li><!----> <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
					 <span itemprop="name">
								Configuration
						  </span>
					<meta itemprop="position" content="5">
				</li><!---->
		<!----></ul>
			</nav>
		<div class="content-header-controls">
			<button type="button" class="contents-button button" data-bi-name="contents-expand" aria-haspopup="true">
				<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
				<span>Contents</span>
			</button>
		</div>
		<div class="content-header-controls exit-focus">
			<button type="button" class="ap-collapse-behavior ap-expanded button" data-bi-name="ap-collapse" aria-controls="action-panel">
				<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
				<span>Exit focus mode</span>
			</button>
		</div>
		<div class="has-padding-none-tablet has-padding-medium is-size-7 is-flex-touch has-flex-justify-content-space-between-touch has-flex-grow">
			<ul class="is-hidden-mobile action-list has-flex-justify-content-start has-flex-justify-content-end-tablet is-flex is-flex-row has-flex-wrap has-flex-grow is-unstyled">
				<li>
					<button type="button" class="bookmark button is-text has-inner-focus is-small is-icon-only-touch" data-list-type="bookmarks" data-bi-name="bookmark" title="Add bookmark for Configuration in ASP.NET Core | Microsoft Docs" aria-pressed="false">
						<span class="icon" aria-hidden="true">
							<span class="docon docon-single-bookmark"></span>
						</span>
						<span class="bookmark-status is-visually-hidden-touch is-hidden-portrait">Bookmark</span>
					</button>
				</li>
					<li id="feedback-section-link">
						<a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#feedback" class="button is-text has-inner-focus is-small is-icon-only-touch" data-bi-name="comments" title="Send feedback about this page">
							<span class="icon">
								<span class="docon docon-comment-lines" aria-hidden="true"></span>
							</span>
							<span class="is-visually-hidden-touch is-hidden-portrait">Feedback</span>
						</a>
					</li>
						<li id="contenteditbtn">
							<a href="https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/fundamentals/configuration/index.md" class="button is-text has-inner-focus is-icon-only-touch is-small" title="Edit This Document" data-bi-name="edit" data-original_content_git_url="https://github.com/dotnet/AspNetCore.Docs/blob/live/aspnetcore/fundamentals/configuration/index.md" data-original_content_git_url_template="{repo}/blob/{branch}/aspnetcore/fundamentals/configuration/index.md" data-pr_repo="" data-pr_branch="">
							<span class="icon">
								<span class="docon docon-edit-outline" aria-hidden="true"></span>
							</span>
							<span class="is-visually-hidden-touch is-hidden-portrait">Edit</span>
						</a>
					</li>
				<li>
<div class="sharing dropdown has-caret">
	<button class="dropdown-trigger button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small is-icon-only-touch" aria-controls="sharing-menu" aria-expanded="false" title="Share This Document" data-bi-name="share">
		<span class="icon" aria-hidden="true">
			<span class="docon docon-sharing"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
	</button>
	<div class="dropdown-menu has-padding-small" id="sharing-menu">
		<ul data-bi-name="share-links">
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-twitter" data-bi-name="twitter" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%26WT.mc_id%3Dtwitter&amp;text=Configuration%20in%20ASP.NET%20Core%20%7C%20Microsoft%20Docs&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%26WT.mc_id%3Dtwitter">
					<span class="icon">
						<span class="docon docon-brand-twitter has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Twitter</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-linkedin" data-bi-name="linkedin" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%26WT.mc_id%3Dlinkedin">
					<span class="icon">
						<span class="docon docon-brand-linkedin has-text-primary" aria-hidden="true"></span>
					</span>
					<span>LinkedIn</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-facebook" data-bi-name="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%26WT.mc_id%3Dfacebook">
					<span class="icon">
						<span class="docon docon-brand-facebook has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Facebook</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-email" data-bi-name="email" href="mailto:?subject=%5BShared%20Article%5D%20Configuration%20in%20ASP.NET%20Core%20%7C%20Microsoft%20Docs&amp;body=Configuration%20in%20ASP.NET%20Core%20%7C%20Microsoft%20Docs%0A%0Ahttps%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1%26WT.mc_id%3Demail">
					<span class="icon">
						<span class="docon docon-mail-message-fill has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Email</span>
				</a>
			</li>
		</ul>
	</div>
</div>				</li>
			</ul>
			<button type="button" class="has-border contents-button button is-small is-text is-hidden-tablet has-inner-focus" aria-label="Contents" data-bi-name="contents-expand">
				<span class="icon">
					<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
				</span>
				<span>Table of contents</span>
			</button>
			<div class="is-invisible"></div>
			<div class="is-hidden-tablet level-item is-flexible level-right">
				<button type="button" class="page-actions-button button is-small is-text is-hidden-tablet has-inner-focus has-border is-full-height  has-margin-left-small" aria-label="Page Actions" data-bi-name="pageactions">
					<span aria-hidden="true">. . .</span>
				</button>
			</div>
		</div>
	</div>

	<div id="banner-holder" class="has-default-focus has-overflow-hidden">
	</div>

	<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus"></div>
	</div>

	<div class="mainContainer  uhf-container has-top-padding  has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="is-fixed is-flex is-flex-column" role="navigation" aria-label="Primary" data-bi-name="left toc" style="width: 267.094px; top: 24px; bottom: 24px;"><div class="moniker-picker2" data-bi-name="moniker-picker"><!---->
		<span class="label has-margin-bottom-extra-small"><!---->Version<!----></span>
		<div class="dropdown has-margin-bottom-small">
			<button class="dropdown-trigger has-flex-justify-content-start is-full-width button is-small has-border has-inner-focus" aria-expanded="false" aria-controls="ax-37">
				<span class="visually-hidden"><!---->Select Version<!----></span>
				<span class="has-text-overflow-ellipsis"><!---->ASP.NET Core 3.1<!----></span>
				<span class="dropdown-button-chevron" aria-hidden="true">
					<span class="icon docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu is-full-width is-vertically-scrollable" id="ax-37" aria-label="ASP.NET Core">
						<!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-5.0"><!---->5.0 Preview<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1"><!---->3.1<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.0"><!---->3.0<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-2.2"><!---->2.2<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-2.1"><!----> 2.1<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-2.0"><!---->2.0<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-1.1"><!---->1.1<!----></a>
		</li>
	<!----><!----><!---->
		<li>
			<a class="preserve-view button is-small has-border-none has-inner-focus has-flex-justify-content-start is-full-width has-text-wrap is-text-left" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-1.0"><!---->1.0<!----></a>
		</li>
	<!----><!---->
						
				  </ul>
		</div>
	<!----></div><form action="javascript:" role="search" aria-label="Search" class="has-margin-bottom-small"><label class="visually-hidden" for="ax-34">Search</label><div class="autocomplete is-block" data-bi-name="autocomplete"><!----> <div class="control has-icons-left">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-34" class="autocomplete-input input control has-icons-left is-small is-full-width" type="text" aria-expanded="false" aria-owns="ax-35-listbox" aria-activedescendant="" placeholder="Filter by title">

			<span aria-hidden="true" class="icon is-small is-left">
				<span class="has-text-primary docon docon-filter-settings"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-35-listbox" hidden="">
			
		</ul><!----></div></form><ul class="tree is-vertically-scrollable has-flex-grow has-flex-shrink" role="tree" aria-label="Table of contents" data-bi-name="tree"><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="22" aria-level="1" aria-posinset="1" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-3.1">ASP.<wbr>NET Core documentation</a></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="22" aria-level="1" aria-posinset="2" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/whats-new/?view=aspnetcore-3.1">What's new in ASP.<wbr>NET Core docs</a></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="3" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Overview</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="22" aria-level="1" aria-posinset="4" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/getting-started/?view=aspnetcore-3.1">Get started</a></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="5" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Release notes</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="6" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Tutorials</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="7" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Tutorials (Microsoft Learn)</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item is-expanded" aria-setsize="22" aria-level="1" aria-posinset="8" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Fundamentals</span><ul class="tree-group" role="group"><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="1" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.1">Overview</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="2" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-3.1">The Startup class</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="3" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1">Dependency injection (services)</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="4" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/?view=aspnetcore-3.1">Middleware</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="14" aria-level="2" aria-posinset="5" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Host</span></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="6" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/servers/?view=aspnetcore-3.1">Servers</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="7" role="treeitem" tabindex="0" class="tree-item is-leaf is-selected" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1" aria-current="page">Configuration</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="8" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-3.1">Options</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="9" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1">Environments (dev, stage, prod)</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="10" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-3.1">Logging</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="11" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing?view=aspnetcore-3.1">Routing</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="12" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/error-handling?view=aspnetcore-3.1">Handle errors</a></li><li data-moniker="aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="13" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/http-requests?view=aspnetcore-3.1">Make HTTP requests</a></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" role="none"><a aria-setsize="14" aria-level="2" aria-posinset="14" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/static-files?view=aspnetcore-3.1">Static files</a></li></ul></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="9" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Web apps</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="10" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Web API apps</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="11" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Real-time apps</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="12" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Remote Procedure Call apps</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="13" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Test, debug, and troubleshoot</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="14" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Data access</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="15" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Host and deploy</span></li><li class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="16" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Security and Identity</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="17" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Performance</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="18" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Globalization and localization</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="19" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Advanced</span></li><li data-moniker="aspnetcore-1.0 aspnetcore-1.1 aspnetcore-2.0 aspnetcore-2.1 aspnetcore-2.2 aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0" class="tree-item" aria-setsize="22" aria-level="1" aria-posinset="20" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Migration</span></li><li role="none"><a aria-setsize="22" aria-level="1" aria-posinset="21" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/dotnet/api/?view=aspnetcore-3.1">API reference</a></li><li role="none"><a aria-setsize="22" aria-level="1" aria-posinset="22" role="treeitem" tabindex="-1" class="tree-item is-leaf" data-bi-name="tree-leaf" href="https://github.com/dotnet/AspNetCore.Docs/blob/master/CONTRIBUTING.md">Contribute</a></li></ul><a class="button is-small is-text has-flex-justify-content-start has-inner-focus has-margin-top-small has-border-top has-border-bottom has-flex-shrink-none" href="https://docs.microsoft.com/en-us/aspnet/core/opbuildpdf/0fa49936/toc.pdf?branch=live&amp;view=aspnetcore-3.1" data-bi-name="downloadPdf"><!----> <span class="icon is-size-8 has-text-subtle">
				<span aria-hidden="true" class="docon docon-dictionary-download"></span>
			</span>
			<span><!---->Download PDF<!----></span><!----></a></nav>
			</div>

			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<div class="columns is-gapless-mobile has-large-gaps ">


				<div id="main-column" class="column  is-full is-four-fifths-desktop ">

					<main id="main" role="main" class="content " data-bi-name="content" lang="en-us" dir="ltr">



						<h1 id="configuration-in-aspnet-core">Configuration in ASP.NET Core</h1>

						<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
							<li class="displayDate">
								<time role="presentation" datetime="2020-03-29T00:00:00.000Z" data-article-date-source="ms.date">03/29/2020</time>
							</li>
								<li class="readingTime">57 minutes to read</li>
							<li class="contributors-holder">
								<a class="has-inner-focus" href="https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/fundamentals/configuration/index.md" title="18 Contributors" aria-label="18 Contributors">
									<ul class="contributors" data-bi-name="contributors" aria-hidden="true">
												<li><img src="./Configuration in ASP.NET Core _ Microsoft Docs_files/Rick-Anderson.png" data-src="https://github.com/Rick-Anderson.png?size=32" role="presentation"></li>
												<li><img src="./Configuration in ASP.NET Core _ Microsoft Docs_files/DrakeLambert.png" data-src="https://github.com/DrakeLambert.png?size=32" role="presentation"></li>
												<li><img src="./Configuration in ASP.NET Core _ Microsoft Docs_files/KyleMit.png" data-src="https://github.com/KyleMit.png?size=32" role="presentation"></li>
												<li><img src="./Configuration in ASP.NET Core _ Microsoft Docs_files/kurtfurbush.png" data-src="https://github.com/kurtfurbush.png?size=32" role="presentation"></li>
												<li><img src="./Configuration in ASP.NET Core _ Microsoft Docs_files/scottaddie.png" data-src="https://github.com/scottaddie.png?size=32" role="presentation"></li>
										<li><span class="is-size-8 has-text-subtle">+13</span></li>
									</ul>
								</a>
							</li>

						</ul>

						<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						<ol><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration">Default configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#security-and-secret-manager">Security and secret manager</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables">Environment variables</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line">Command-line</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hierarchical-configuration-data">Hierarchical configuration data</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-keys-and-values">Configuration keys and values</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-providers">Configuration providers</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider">File configuration provider</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider">Key-per-file configuration provider</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider">Memory configuration provider</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getvalue">GetValue</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-getchildren-and-exists">GetSection, GetChildren, and Exists</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-an-array">Bind an array</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider">Custom configuration provider</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-startup">Access configuration in Startup</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-razor-pages">Access configuration in Razor Pages</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-a-mvc-view-file">Access configuration in a MVC view file</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#host-versus-app-configuration">Host versus app configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-host-configuration">Default host configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#other-configuration">Other configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#add-configuration-from-an-external-assembly">Add configuration from an external assembly</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#additional-resources">Additional resources</a></li></ol></nav>

						<!-- <content> -->
							
<p>By <a href="https://twitter.com/RickAndMSFT" data-linktype="external">Rick Anderson</a> and <a href="https://twitter.com/serpent5" data-linktype="external">Kirk Larkin</a></p>
<div data-moniker="aspnetcore-3.0 aspnetcore-3.1 aspnetcore-5.0">
<p>Configuration in ASP.NET Core is performed using one or more <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#cp" data-linktype="self-bookmark">configuration providers</a>. Configuration providers read configuration data from key-value pairs using a variety of configuration sources:</p>
<ul>
<li>Settings files, such as <em>appsettings.json</em></li>
<li>Environment variables</li>
<li>Azure Key Vault</li>
<li>Azure App Configuration</li>
<li>Command-line arguments</li>
<li>Custom providers, installed or created</li>
<li>Directory files</li>
<li>In-memory .NET objects</li>
</ul>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples" data-linktype="external">View or download sample code</a> (<a href="https://docs.microsoft.com/en-us/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-3.1#how-to-download-a-sample" data-linktype="relative-path">how to download</a>)</p>
<p><a name="default"></a></p>
<h2 id="default-configuration">Default configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" aria-labelledby="default-configuration"></a></h2>
<p>ASP.NET Core web apps created with <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-new" data-linktype="absolute-path">dotnet new</a> or Visual Studio generate the following code:</p>
<div class="codeHeader" id="code-try-0" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="9" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;</span>
<mark>        Host.CreateDefaultBuilder(args)</mark>
<span>            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.host.createdefaultbuilder" data-linktype="absolute-path">CreateDefaultBuilder</a> provides default configuration for the app in the following order:</p>
<ol>
<li><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.chainedconfigurationsource" data-linktype="absolute-path">ChainedConfigurationProvider</a> :  Adds an existing <code>IConfiguration</code> as a source. In the default configuration case, adds the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hvac" data-linktype="self-bookmark">host</a> configuration and setting it as the first source for the <em>app</em> configuration.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#appsettingsjson" data-linktype="self-bookmark">appsettings.json</a> using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">JSON configuration provider</a>.</li>
<li><em>appsettings.</em><code>Environment</code><em>.json</em> using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">JSON configuration provider</a>. For example, <em>appsettings</em>.<em><strong>Production</strong></em>.<em>json</em> and <em>appsettings</em>.<em><strong>Development</strong></em>.<em>json</em>.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">App secrets</a> when the app runs in the <code>Development</code> environment.</li>
<li>Environment variables using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment Variables configuration provider</a>.</li>
<li>Command-line arguments using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ol>
<p>Configuration providers that are added later override previous key settings. For example, if <code>MyKey</code> is set in both <em>appsettings.json</em> and the environment, the environment value is used. Using the default configuration providers, the  <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line configuration provider</a> overrides all other providers.</p>
<p>For more information on <code>CreateDefaultBuilder</code>, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1#default-builder-settings" data-linktype="relative-path">Default builder settings</a>.</p>
<p>The following code displays the enabled configuration providers in the order they were added:</p>
<div class="codeHeader" id="code-try-1" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Index2Model : PageModel
{
    private IConfigurationRoot ConfigRoot;

    public Index2Model(IConfiguration configRoot)
    {
        ConfigRoot = (IConfigurationRoot)configRoot;
    }

    public ContentResult OnGet()
    {           
        string str = &quot;&quot;;
        foreach (var provider in ConfigRoot.Providers.ToList())
        {
            str += provider.ToString() + &quot;\n&quot;;
        }

        return Content(str);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Index2Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> IConfigurationRoot ConfigRoot;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Index2Model</span>(<span class="hljs-params">IConfiguration configRoot</span>)</span>
    {
        ConfigRoot = (IConfigurationRoot)configRoot;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {           
        <span class="hljs-keyword">string</span> str = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> provider <span class="hljs-keyword">in</span> ConfigRoot.Providers.ToList())
        {
            str += provider.ToString() + <span class="hljs-string">"\n"</span>;
        }

        <span class="hljs-keyword">return</span> Content(str);
    }
}
</span></code></pre><h3 id="appsettingsjson">appsettings.json<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#appsettingsjson" aria-labelledby="appsettingsjson"></a></h3>
<p>Consider the following <em>appsettings.json</em> file:</p>
<div class="codeHeader" id="code-try-2" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;Position&quot;: {
    &quot;Title&quot;: &quot;Editor&quot;,
    &quot;Name&quot;: &quot;Joe Smith&quot;
  },
  &quot;MyKey&quot;:  &quot;My appsettings.json Value&quot;,
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Warning&quot;,
      &quot;Microsoft.Hosting.Lifetime&quot;: &quot;Information&quot;
    }
  },
  &quot;AllowedHosts&quot;: &quot;*&quot;
}
"><span>{
  <span class="hljs-attr">"Position"</span>: {
    <span class="hljs-attr">"Title"</span>: <span class="hljs-string">"Editor"</span>,
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"Joe Smith"</span>
  },
  <span class="hljs-attr">"MyKey"</span>:  <span class="hljs-string">"My appsettings.json Value"</span>,
  <span class="hljs-attr">"Logging"</span>: {
    <span class="hljs-attr">"LogLevel"</span>: {
      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Information"</span>,
      <span class="hljs-attr">"Microsoft"</span>: <span class="hljs-string">"Warning"</span>,
      <span class="hljs-attr">"Microsoft.Hosting.Lifetime"</span>: <span class="hljs-string">"Information"</span>
    }
  },
  <span class="hljs-attr">"AllowedHosts"</span>: <span class="hljs-string">"*"</span>
}
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays several of the preceding configurations settings:</p>
<div class="codeHeader" id="code-try-3" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre>
<p>The default <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.json.jsonconfigurationprovider" data-linktype="absolute-path">JsonConfigurationProvider</a> loads configuration in the following order:</p>
<ol>
<li><em>appsettings.json</em></li>
<li><em>appsettings.</em><code>Environment</code><em>.json</em> : For example, the <em>appsettings</em>.<em><strong>Production</strong></em>.<em>json</em> and <em>appsettings</em>.<em><strong>Development</strong></em>.<em>json</em> files. The environment version of the file is loaded based on the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.ihostingenvironment.environmentname" data-linktype="absolute-path">IHostingEnvironment.EnvironmentName</a>. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1" data-linktype="relative-path">Use multiple environments in ASP.NET Core</a>.</li>
</ol>
<p><em>appsettings</em>.<code>Environment</code>.<em>json</em> values override keys in <em>appsettings.json</em>. For example, by default:</p>
<ul>
<li>In development, <em>appsettings</em>.<em><strong>Development</strong></em>.<em>json</em> configuration overwrites values found in <em>appsettings.json</em>.</li>
<li>In production, <em>appsettings</em>.<em><strong>Production</strong></em>.<em>json</em> configuration overwrites values found in <em>appsettings.json</em>. For example, when deploying the app to Azure.</li>
</ul>
<p><a name="optpat"></a></p>
<h4 id="bind-hierarchical-configuration-data-using-the-options-pattern">Bind hierarchical configuration data using the options pattern<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-hierarchical-configuration-data-using-the-options-pattern" aria-labelledby="bind-hierarchical-configuration-data-using-the-options-pattern"></a></h4>
<p>The preferred way to read related configuration values is using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-3.1" data-linktype="relative-path">options pattern</a>. For example, to read the following configuration values:</p>
<div class="codeHeader" id="code-try-4" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="  &quot;Position&quot;: {
    &quot;Title&quot;: &quot;Editor&quot;,
    &quot;Name&quot;: &quot;Joe Smith&quot;
  }
"><span>  <span class="hljs-string">"Position"</span>: {
    <span class="hljs-attr">"Title"</span>: <span class="hljs-string">"Editor"</span>,
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"Joe Smith"</span>
  }
</span></code></pre>
<p>Create the following <code>PositionOptions</code> class:</p>
<div class="codeHeader" id="code-try-5" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class PositionOptions
{
    public string Title { get; set; }
    public string Name { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PositionOptions</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Title { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>All the public read-write properties of the type are bound. Fields are <em><strong>not</strong></em> bound.</p>
<p>The following code:</p>
<ul>
<li>Calls <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.bind" data-linktype="absolute-path">ConfigurationBinder.Bind</a> to bind the <code>PositionOptions</code> class to the <code>Position</code> section.</li>
<li>Displays the <code>Position</code> configuration data.</li>
</ul>
<div class="codeHeader" id="code-try-6" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Test22Model : PageModel
{
    private readonly IConfiguration Configuration;

    public Test22Model(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var positionOptions = new PositionOptions();
        Configuration.GetSection(&quot;Position&quot;).Bind(positionOptions);

        return Content($&quot;Title: {positionOptions.Title} \n&quot; +
                       $&quot;Name: {positionOptions.Name}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test22Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Test22Model</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> positionOptions = <span class="hljs-keyword">new</span> PositionOptions();
        Configuration.GetSection(<span class="hljs-string">"Position"</span>).Bind(positionOptions);

        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"Title: <span class="hljs-subst">{positionOptions.Title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{positionOptions.Name}</span>"</span>);
    }
}
</span></code></pre>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.get" data-linktype="absolute-path"><code>ConfigurationBinder.Get&lt;T&gt;</code></a> binds and returns the specified type. <code>ConfigurationBinder.Get&lt;T&gt;</code> may be more convenient than using <code>ConfigurationBinder.Bind</code>. The following code shows how to use <code>ConfigurationBinder.Get&lt;T&gt;</code> with the <code>PositionOptions</code> class:</p>
<div class="codeHeader" id="code-try-7" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Test21Model : PageModel
{
    private readonly IConfiguration Configuration;
    public PositionOptions positionOptions { get; private set; }

    public Test21Model(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        positionOptions = Configuration.GetSection(&quot;Position&quot;).Get&lt;PositionOptions&gt;();

        return Content($&quot;Title: {positionOptions.Title} \n&quot; +
                       $&quot;Name: {positionOptions.Name}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test21Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;
    <span class="hljs-keyword">public</span> PositionOptions positionOptions { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Test21Model</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        positionOptions = Configuration.GetSection(<span class="hljs-string">"Position"</span>).Get&lt;PositionOptions&gt;();

        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"Title: <span class="hljs-subst">{positionOptions.Title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{positionOptions.Name}</span>"</span>);
    }
}
</span></code></pre>
<p>An alternative approach when using the <em><strong>options pattern</strong></em> is to bind the <code>Position</code> section and add it to the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1" data-linktype="relative-path">dependency injection service container</a>. In the following code, <code>PositionOptions</code> is added to the service container with <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.optionsconfigurationservicecollectionextensions.configure" data-linktype="absolute-path">Configure</a> and bound to configuration:</p>
<div class="codeHeader" id="code-try-8" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public void ConfigureServices(IServiceCollection services)
{
    services.Configure&lt;PositionOptions&gt;(Configuration.GetSection(&quot;Position&quot;));
    services.AddRazorPages();
}
"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureServices</span>(<span class="hljs-params">IServiceCollection services</span>)</span>
{
    services.Configure&lt;PositionOptions&gt;(Configuration.GetSection(<span class="hljs-string">"Position"</span>));
    services.AddRazorPages();
}
</span></code></pre>
<p>Using the preceding code, the following code reads the position options:</p>
<div class="codeHeader" id="code-try-9" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Test2Model : PageModel
{
    private readonly PositionOptions _options;

    public Test2Model(IOptions&lt;PositionOptions&gt; options)
    {
        _options = options.Value;
    }

    public ContentResult OnGet()
    {
        return Content($&quot;Title: {_options.Title} \n&quot; +
                       $&quot;Name: {_options.Name}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test2Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PositionOptions _options;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Test2Model</span>(<span class="hljs-params">IOptions&lt;PositionOptions&gt; options</span>)</span>
    {
        _options = options.Value;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"Title: <span class="hljs-subst">{_options.Title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{_options.Name}</span>"</span>);
    }
}
</span></code></pre>
<p>Using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default</a> configuration, the <em>appsettings.json</em> and <em>appsettings.</em><code>Environment</code><em>.json</em> files are enabled with <a href="https://github.com/dotnet/extensions/blob/release/3.1/src/Hosting/Hosting/src/Host.cs#L74-L75" data-linktype="external">reloadOnChange: true</a>. Changes made to the <em>appsettings.json</em> and <em>appsettings.</em><code>Environment</code><em>.json</em> file <em><strong>after</strong></em> the app starts are read by the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a>.</p>
<p>See <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a> in this document for information on adding additional JSON configuration files.</p>
<p><a name="security"></a></p>
<h2 id="security-and-secret-manager">Security and secret manager<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#security-and-secret-manager" aria-labelledby="security-and-secret-manager"></a></h2>
<p>Configuration data guidelines:</p>
<ul>
<li>Never store passwords or other sensitive data in configuration provider code or in plain text configuration files. The <a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret manager</a> can be used to store secrets in development.</li>
<li>Don't use production secrets in development or test environments.</li>
<li>Specify secrets outside of the project so that they can't be accidentally committed to a source code repository.</li>
</ul>
<p>By <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default</a>, <a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret manager</a> reads configuration settings after <em>appsettings.json</em> and <em>appsettings.</em><code>Environment</code><em>.json</em>.</p>
<p>For more information on storing passwords or other sensitive data:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1" data-linktype="relative-path">Use multiple environments in ASP.NET Core</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Safe storage of app secrets in development in ASP.NET Core</a>:  Includes advice on using environment variables to store sensitive data. The Secret Manager uses the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#fcp" data-linktype="self-bookmark">File configuration provider</a> to store user secrets in a JSON file on the local system.</li>
</ul>
<p><a href="https://azure.microsoft.com/services/key-vault/" data-linktype="external">Azure Key Vault</a> safely stores app secrets for ASP.NET Core apps. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault Configuration Provider in ASP.NET Core</a>.</p>
<p><a name="evcp"></a></p>
<h2 id="environment-variables">Environment variables<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables" aria-labelledby="environment-variables"></a></h2>
<p>Using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default</a> configuration, the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.environmentvariables.environmentvariablesconfigurationprovider" data-linktype="absolute-path">EnvironmentVariablesConfigurationProvider</a> loads configuration from environment variable key-value pairs after reading <em>appsettings.json</em>, <em>appsettings.</em><code>Environment</code><em>.json</em>, and <a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret manager</a>. Therefore, key values read from the environment override values read from <em>appsettings.json</em>, <em>appsettings.</em><code>Environment</code><em>.json</em>, and Secret manager.</p>
<p>The <code>:</code> separator doesn't work with environment variable hierarchical keys on all platforms. <code>__</code>, the double underscore, is:</p>
<ul>
<li>Supported by all platforms. For example, the <code>:</code> separator is not supported by <a href="https://linuxhint.com/bash-environment-variables/" data-linktype="external">Bash</a>, but <code>__</code> is.</li>
<li>Automatically replaced by a <code>:</code></li>
</ul>

<p>The following <code>set</code> commands:</p>
<ul>
<li>Set the environment keys and values of the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#appsettingsjson" data-linktype="self-bookmark">preceding example</a> on Windows.</li>
<li>Test the settings when using the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a>. The <code>dotnet run</code> command must be run in the project directory.</li>
</ul>
<div class="codeHeader" id="code-try-10" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="set MyKey=&quot;My key from Environment&quot;
set Position__Title=Environment_Editor
set Position__Name=Environment_Rick
dotnet run
"><span>set MyKey=<span class="hljs-string">"My key from Environment"</span>
set Position__Title=Environment_Editor
set Position__Name=Environment_Rick
<span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span>
</span></code></pre>
<p>The preceding environment settings:</p>
<ul>
<li>Are only set in processes launched from the command window they were set in.</li>
<li>Won't be read by browsers launched with Visual Studio.</li>
</ul>
<p>The following <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/setx" data-linktype="absolute-path">setx</a> commands can be used to set the environment keys and values on Windows. Unlike <code>set</code>, <code>setx</code> settings are persisted. <code>/M</code> sets the variable in the system environment. If the <code>/M</code> switch isn't used, a user environment variable is set.</p>
<div class="codeHeader" id="code-try-11" data-bi-name="code-header"><span class="language">cmd</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-cmd" data-author-content="setx MyKey &quot;My key from setx Environment&quot; /M
setx Position__Title Setx_Environment_Editor /M
setx Position__Name Environment_Rick /M
"><span>setx MyKey "My key from setx Environment" /M
setx Position__Title Setx_Environment_Editor /M
setx Position__Name Environment_Rick /M
</span></code></pre>
<p>To test that the preceding commands override <em>appsettings.json</em> and <em>appsettings.</em><code>Environment</code><em>.json</em>:</p>
<ul>
<li>With Visual Studio: Exit and restart Visual Studio.</li>
<li>With the CLI: Start a new command window and enter <code>dotnet run</code>.</li>
</ul>
<p>Call <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.environmentvariablesextensions.addenvironmentvariables" data-linktype="absolute-path">AddEnvironmentVariables</a> with a string to specify a prefix for environment variables:</p>
<div class="codeHeader" id="code-try-12" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="12" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddEnvironmentVariables(prefix: &quot;MyCustomPrefix_&quot;);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {</span>
<mark>                config.AddEnvironmentVariables(prefix: <span class="hljs-string">"MyCustomPrefix_"</span>);</mark>
<span>            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p>In the preceding code:</p>
<ul>
<li><code>config.AddEnvironmentVariables(prefix: "MyCustomPrefix_")</code> is added after the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration providers</a>. For an example of ordering the configuration providers, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a>.</li>
<li>Environment variables set with the <code>MyCustomPrefix_</code> prefix override the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration providers</a>. This includes environment variables without the prefix.</li>
</ul>
<p>The prefix is stripped off when the configuration key-value pairs are read.</p>
<p>The following commands test the custom prefix:</p>
<div class="codeHeader" id="code-try-13" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="set MyCustomPrefix_MyKey=&quot;My key with MyCustomPrefix_ Environment&quot;
set MyCustomPrefix_Position__Title=Editor_with_customPrefix
set MyCustomPrefix_Position__Name=Environment_Rick_cp
dotnet run
"><span>set MyCustomPrefix_MyKey=<span class="hljs-string">"My key with MyCustomPrefix_ Environment"</span>
set MyCustomPrefix_Position__Title=Editor_with_customPrefix
set MyCustomPrefix_Position__Name=Environment_Rick_cp
<span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span>
</span></code></pre>
<p>The <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration</a> loads environment variables and command line arguments prefixed with <code>DOTNET_</code> and <code>ASPNETCORE_</code>. The <code>DOTNET_</code> and <code>ASPNETCORE_</code> prefixes are used by ASP.NET Core for <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1#host-configuration" data-linktype="relative-path">host and app configuration</a>, but not for user configuration. For more information on host and app configuration, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1" data-linktype="relative-path">.NET Generic Host</a>.</p>
<p>On <a href="https://azure.microsoft.com/services/app-service/" data-linktype="external">Azure App Service</a>, select <strong>New application setting</strong> on the <strong>Settings &gt; Configuration</strong> page. Azure App Service application settings are:</p>
<ul>
<li>Encrypted at rest and transmitted over an encrypted channel.</li>
<li>Exposed as environment variables.</li>
</ul>
<p>For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/azure-apps/?view=aspnetcore-3.1#override-app-configuration-using-the-azure-portal" data-linktype="relative-path">Azure Apps: Override app configuration using the Azure Portal</a>.</p>
<p>See <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#constr" data-linktype="self-bookmark">Connection string prefixes</a> for information on Azure database connection strings.</p>
<p><a name="clcp"></a></p>
<h2 id="command-line">Command-line<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line" aria-labelledby="command-line"></a></h2>
<p>Using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default</a> configuration, the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandline.commandlineconfigurationprovider" data-linktype="absolute-path">CommandLineConfigurationProvider</a> loads configuration from command-line argument key-value pairs after the following configuration sources:</p>
<ul>
<li><em>appsettings.json</em> and <em>appsettings</em>.<code>Environment</code>.<em>json</em> files.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">App secrets (Secret Manager)</a> in the Development environment.</li>
<li>Environment variables.</li>
</ul>
<p>By <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default</a>, configuration values set on the command-line override configuration values set with all the other configuration providers.</p>
<h3 id="command-line-arguments">Command-line arguments<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-arguments" aria-labelledby="command-line-arguments"></a></h3>
<p>The following command sets keys and values using <code>=</code>:</p>
<div class="codeHeader" id="code-try-14" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run MyKey=&quot;My key from command line&quot; Position:Title=Cmd Position:Name=Cmd_Rick
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span> MyKey=<span class="hljs-string">"My key from command line"</span> Position:Title=Cmd Position:Name=Cmd_Rick
</span></code></pre>
<p>The following command sets keys and values using <code>/</code>:</p>
<div class="codeHeader" id="code-try-15" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run /MyKey &quot;Using /&quot; /Position:Title=Cmd_ /Position:Name=Cmd_Rick
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span> /MyKey <span class="hljs-string">"Using /"</span> /Position:Title=Cmd_ /Position:Name=Cmd_Rick
</span></code></pre>
<p>The following command sets keys and values using <code>--</code>:</p>
<div class="codeHeader" id="code-try-16" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run --MyKey &quot;Using --&quot; --Position:Title=Cmd-- --Position:Name=Cmd--Rick
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span><span class="hljs-parameter"> --MyKey</span> <span class="hljs-string">"Using --"</span><span class="hljs-parameter"> --Position</span>:Title=Cmd<span class="hljs-parameter">--</span><span class="hljs-parameter"> --Position</span>:Name=Cmd<span class="hljs-parameter">--Rick</span>
</span></code></pre>
<p>The key value:</p>
<ul>
<li>Must follow <code>=</code>, or the key must have a prefix of <code>--</code> or <code>/</code> when the value follows a space.</li>
<li>Isn't required if <code>=</code> is used. For example, <code>MySetting=</code>.</li>
</ul>
<p>Within the same command, don't mix command-line argument key-value pairs that use <code>=</code> with key-value pairs that use a space.</p>
<h3 id="switch-mappings">Switch mappings<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#switch-mappings" aria-labelledby="switch-mappings"></a></h3>
<p>Switch mappings allow <strong>key</strong> name replacement logic. Provide a dictionary of switch replacements to the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandlineconfigurationextensions.addcommandline" data-linktype="absolute-path">AddCommandLine</a> method.</p>
<p>When the switch mappings dictionary is used, the dictionary is checked for a key that matches the key provided by a command-line argument. If the command-line key is found in the dictionary, the dictionary value is passed back to set the key-value pair into the app's configuration. A switch mapping is required for any command-line key prefixed with a single dash (<code>-</code>).</p>
<p>Switch mappings dictionary key rules:</p>
<ul>
<li>Switches must start with <code>-</code> or <code>--</code>.</li>
<li>The switch mappings dictionary must not contain duplicate keys.</li>
</ul>
<p>To use a switch mappings dictionary, pass it into the call to <code>AddCommandLine</code>:</p>
<div class="codeHeader" id="code-try-17" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="10-18,23" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args)
    {
        var switchMappings = new Dictionary&lt;string, string&gt;()
         {
             { &quot;-k1&quot;, &quot;key1&quot; },
             { &quot;-k2&quot;, &quot;key2&quot; },
             { &quot;--alt3&quot;, &quot;key3&quot; },
             { &quot;--alt4&quot;, &quot;key4&quot; },
             { &quot;--alt5&quot;, &quot;key5&quot; },
             { &quot;--alt6&quot;, &quot;key6&quot; },
         };

        return Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddCommandLine(args, switchMappings);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {</span>
<mark>        <span class="hljs-keyword">var</span> switchMappings = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;()
         {
             { <span class="hljs-string">"-k1"</span>, <span class="hljs-string">"key1"</span> },
             { <span class="hljs-string">"-k2"</span>, <span class="hljs-string">"key2"</span> },
             { <span class="hljs-string">"--alt3"</span>, <span class="hljs-string">"key3"</span> },
             { <span class="hljs-string">"--alt4"</span>, <span class="hljs-string">"key4"</span> },
             { <span class="hljs-string">"--alt5"</span>, <span class="hljs-string">"key5"</span> },
             { <span class="hljs-string">"--alt6"</span>, <span class="hljs-string">"key6"</span> },
         };</mark>
<span>
        <span class="hljs-keyword">return</span> Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {</span>
<mark>                config.AddCommandLine(args, switchMappings);</mark>
<span>            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
</span></code></pre>
<p>The following code shows the key values for the replaced keys:</p>
<div class="codeHeader" id="code-try-18" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Test3Model : PageModel
{
    private readonly IConfiguration Config;

    public Test3Model(IConfiguration configuration)
    {
        Config = configuration;
    }

    public ContentResult OnGet()
    {
        return Content(
                $&quot;Key1: &#39;{Config[&quot;Key1&quot;]}&#39;\n&quot; +
                $&quot;Key2: &#39;{Config[&quot;Key2&quot;]}&#39;\n&quot; +
                $&quot;Key3: &#39;{Config[&quot;Key3&quot;]}&#39;\n&quot; +
                $&quot;Key4: &#39;{Config[&quot;Key4&quot;]}&#39;\n&quot; +
                $&quot;Key5: &#39;{Config[&quot;Key5&quot;]}&#39;\n&quot; +
                $&quot;Key6: &#39;{Config[&quot;Key6&quot;]}&#39;&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test3Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Test3Model</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Config = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> Content(
                <span class="hljs-string">$"Key1: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key1"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"Key2: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key2"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"Key3: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key3"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"Key4: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key4"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"Key5: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key5"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"Key6: '<span class="hljs-subst">{Config[<span class="hljs-string">"Key6"</span>]}</span>'"</span>);
    }
}
</span></code></pre>
<p>Run the following command to test the key replacement:</p>
<div class="codeHeader" id="code-try-19" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run -k1=value1 -k2 value2 --alt3=value2 /alt4=value3 --alt5 value5 /alt6 value6
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span><span class="hljs-parameter"> -k</span>1=value1<span class="hljs-parameter"> -k</span>2 value2<span class="hljs-parameter"> --alt</span>3=value2 /alt4=value3<span class="hljs-parameter"> --alt</span>5 value5 /alt6 value6
</span></code></pre>
<p>Note: Currently, <code>=</code> cannot be used to set key-replacement values with a single dash <code>-</code>. See <a href="https://github.com/dotnet/extensions/issues/3059" data-linktype="external">this GitHub issue</a>.</p>
<p>The following command works to test key replacement:</p>
<div class="codeHeader" id="code-try-20" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run -k1 value1 -k2 value2 --alt3=value2 /alt4=value3 --alt5 value5 /alt6 value6
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span><span class="hljs-parameter"> -k</span>1 value1<span class="hljs-parameter"> -k</span>2 value2<span class="hljs-parameter"> --alt</span>3=value2 /alt4=value3<span class="hljs-parameter"> --alt</span>5 value5 /alt6 value6
</span></code></pre>
<p>For apps that use switch mappings, the call to <code>CreateDefaultBuilder</code> shouldn't pass arguments. The <code>CreateDefaultBuilder</code> method's <code>AddCommandLine</code> call doesn't include mapped switches, and there's no way to pass the switch-mapping dictionary to <code>CreateDefaultBuilder</code>. The solution isn't to pass the arguments to <code>CreateDefaultBuilder</code> but instead to allow the <code>ConfigurationBuilder</code> method's <code>AddCommandLine</code> method to process both the arguments and the switch-mapping dictionary.</p>
<h2 id="hierarchical-configuration-data">Hierarchical configuration data<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hierarchical-configuration-data" aria-labelledby="hierarchical-configuration-data"></a></h2>
<p>The Configuration API reads hierarchical configuration data by flattening the hierarchical data with the use of a delimiter in the configuration keys.</p>
<p>The <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> contains the following  <em>appsettings.json</em> file:</p>
<div class="codeHeader" id="code-try-21" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;Position&quot;: {
    &quot;Title&quot;: &quot;Editor&quot;,
    &quot;Name&quot;: &quot;Joe Smith&quot;
  },
  &quot;MyKey&quot;:  &quot;My appsettings.json Value&quot;,
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Warning&quot;,
      &quot;Microsoft.Hosting.Lifetime&quot;: &quot;Information&quot;
    }
  },
  &quot;AllowedHosts&quot;: &quot;*&quot;
}
"><span>{
  <span class="hljs-attr">"Position"</span>: {
    <span class="hljs-attr">"Title"</span>: <span class="hljs-string">"Editor"</span>,
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"Joe Smith"</span>
  },
  <span class="hljs-attr">"MyKey"</span>:  <span class="hljs-string">"My appsettings.json Value"</span>,
  <span class="hljs-attr">"Logging"</span>: {
    <span class="hljs-attr">"LogLevel"</span>: {
      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Information"</span>,
      <span class="hljs-attr">"Microsoft"</span>: <span class="hljs-string">"Warning"</span>,
      <span class="hljs-attr">"Microsoft.Hosting.Lifetime"</span>: <span class="hljs-string">"Information"</span>
    }
  },
  <span class="hljs-attr">"AllowedHosts"</span>: <span class="hljs-string">"*"</span>
}
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays several of the configurations settings:</p>
<div class="codeHeader" id="code-try-22" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre>
<p>The preferred way to read hierarchical configuration data is using the options pattern. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#optpat" data-linktype="self-bookmark">Bind hierarchical configuration data</a> in this document.</p>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationsection.getsection" data-linktype="absolute-path">GetSection</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getchildren" data-linktype="absolute-path">GetChildren</a> methods are available to isolate sections and children of a section in the configuration data. These methods are described later in <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection" data-linktype="self-bookmark">GetSection, GetChildren, and Exists</a>.</p>
<!--
[Azure Key Vault configuration provider](xref:security/key-vault-configuration) implement change detection.
-->
<h2 id="configuration-keys-and-values">Configuration keys and values<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-keys-and-values" aria-labelledby="configuration-keys-and-values"></a></h2>
<p>Configuration keys:</p>
<ul>
<li>Are case-insensitive. For example, <code>ConnectionString</code> and <code>connectionstring</code> are treated as equivalent keys.</li>
<li>If a key and value is set in more than one configuration providers, the value from the last provider added is used. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">Default configuration</a>.</li>
<li>Hierarchical keys
<ul>
<li>Within the Configuration API, a colon separator (<code>:</code>) works on all platforms.</li>
<li>In environment variables, a colon separator may not work on all platforms. A double underscore, <code>__</code>, is supported by all platforms and is automatically converted into a colon <code>:</code>.</li>
<li>In Azure Key Vault, hierarchical keys use <code>--</code> as a separator. The <a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault configuration provider</a> automatically replaces <code>--</code> with a <code>:</code> when the secrets are loaded into the app's configuration.</li>
</ul>
</li>
<li>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder" data-linktype="absolute-path">ConfigurationBinder</a> supports binding arrays to objects using array indices in configuration keys. Array binding is described in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#boa" data-linktype="self-bookmark">Bind an array to a class</a> section.</li>
</ul>
<p>Configuration values:</p>
<ul>
<li>Are strings.</li>
<li>Null values can't be stored in configuration or bound to objects.</li>
</ul>
<p><a name="cp"></a></p>
<h2 id="configuration-providers">Configuration providers<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-providers" aria-labelledby="configuration-providers"></a></h2>
<p>The following table shows the configuration providers available to ASP.NET Core apps.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 1</caption>
<thead>
<tr>
<th>Provider</th>
<th>Provides configuration from</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault configuration provider</a></td>
<td>Azure Key Vault</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/azure/azure-app-configuration/quickstart-aspnet-core-app" data-linktype="absolute-path">Azure App configuration provider</a></td>
<td>Azure App Configuration</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a></td>
<td>Command-line parameters</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider" data-linktype="self-bookmark">Custom configuration provider</a></td>
<td>Custom source</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment Variables configuration provider</a></td>
<td>Environment variables</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">File configuration provider</a></td>
<td>INI, JSON, and XML files</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider" data-linktype="self-bookmark">Key-per-file configuration provider</a></td>
<td>Directory files</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider" data-linktype="self-bookmark">Memory configuration provider</a></td>
<td>In-memory collections</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret Manager</a></td>
<td>File in the user profile directory</td>
</tr>
</tbody>
</table></div>
<p>Configuration sources are read in the order that their configuration providers are specified. Order configuration providers in code to suit the priorities for the underlying configuration sources that the app requires.</p>
<p>A typical sequence of configuration providers is:</p>
<ol>
<li><em>appsettings.json</em></li>
<li><em>appsettings</em>.<code>Environment</code>.<em>json</em></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret Manager</a></li>
<li>Environment variables using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment Variables configuration provider</a>.</li>
<li>Command-line arguments using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ol>
<p>A common practice is to add the Command-line configuration provider last in a series of providers to allow command-line arguments to override configuration set by the other providers.</p>
<p>The preceding sequence of providers is used in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration</a>.</p>
<p><a name="constr"></a></p>
<h3 id="connection-string-prefixes">Connection string prefixes<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#connection-string-prefixes" aria-labelledby="connection-string-prefixes"></a></h3>
<p>The Configuration API has special processing rules for four connection string environment variables. These connection strings are involved in configuring Azure connection strings for the app environment. Environment variables with the prefixes shown in the table are loaded into the app with the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration</a> or when no prefix is supplied to <code>AddEnvironmentVariables</code>.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 2</caption>
<thead>
<tr>
<th>Connection string prefix</th>
<th>Provider</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CUSTOMCONNSTR_</code></td>
<td>Custom provider</td>
</tr>
<tr>
<td><code>MYSQLCONNSTR_</code></td>
<td><a href="https://www.mysql.com/" data-linktype="external">MySQL</a></td>
</tr>
<tr>
<td><code>SQLAZURECONNSTR_</code></td>
<td><a href="https://azure.microsoft.com/services/sql-database/" data-linktype="external">Azure SQL Database</a></td>
</tr>
<tr>
<td><code>SQLCONNSTR_</code></td>
<td><a href="https://www.microsoft.com/sql-server/" data-linktype="external">SQL Server</a></td>
</tr>
</tbody>
</table></div>
<p>When an environment variable is discovered and loaded into configuration with any of the four prefixes shown in the table:</p>
<ul>
<li>The configuration key is created by removing the environment variable prefix and adding a configuration key section (<code>ConnectionStrings</code>).</li>
<li>A new configuration key-value pair is created that represents the database connection provider (except for <code>CUSTOMCONNSTR_</code>, which has no stated provider).</li>
</ul>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 3</caption>
<thead>
<tr>
<th>Environment variable key</th>
<th>Converted configuration key</th>
<th>Provider configuration entry</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CUSTOMCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Configuration entry not created.</td>
</tr>
<tr>
<td><code>MYSQLCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>MySql.Data.MySqlClient</code></td>
</tr>
<tr>
<td><code>SQLAZURECONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>System.Data.SqlClient</code></td>
</tr>
<tr>
<td><code>SQLCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>System.Data.SqlClient</code></td>
</tr>
</tbody>
</table></div>
<p><a name="jcp"></a></p>
<h3 id="json-configuration-provider">JSON configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#json-configuration-provider" aria-labelledby="json-configuration-provider"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.json.jsonconfigurationprovider" data-linktype="absolute-path">JsonConfigurationProvider</a> loads configuration from JSON file key-value pairs.</p>
<p>Overloads can specify:</p>
<ul>
<li>Whether the file is optional.</li>
<li>Whether the configuration is reloaded if the file changes.</li>
</ul>
<p>Consider the following code:</p>
<div class="codeHeader" id="code-try-23" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="12-14" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddJsonFile(&quot;MyConfig.json&quot;, 
                    optional: true, 
                    reloadOnChange: true);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {</span>
<mark>                config.AddJsonFile(<span class="hljs-string">"MyConfig.json"</span>, 
                    optional: <span class="hljs-literal">true</span>, 
                    reloadOnChange: <span class="hljs-literal">true</span>);</mark>
<span>            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p>The preceding code:</p>
<ul>
<li>Configures the JSON configuration provider to load the <em>MyConfig.json</em> file with the following options:
<ul>
<li><code>optional: true</code>: The file is optional.</li>
<li><code>reloadOnChange: true</code> : The file is reloaded when changes are saved.</li>
</ul>
</li>
<li>Reads the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration providers</a> before the <em>MyConfig.json</em> file. Settings in the <em>MyConfig.json</em> file override setting in the default configuration providers, including the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment variables configuration provider</a> and the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ul>
<p>You typically <em><strong>don't</strong></em> want a custom JSON file overriding values set in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment variables configuration provider</a> and the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a>.</p>
<p>The following code clears all the configuration providers and adds several configuration providers:</p>
<div class="codeHeader" id="code-try-24" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                var env = hostingContext.HostingEnvironment;

                config.AddJsonFile(&quot;appsettings.json&quot;, optional: true, reloadOnChange: true)
                      .AddJsonFile($&quot;appsettings.{env.EnvironmentName}.json&quot;, 
                                     optional: true, reloadOnChange: true);

                config.AddJsonFile(&quot;MyConfig.json&quot;, optional: true, reloadOnChange: true)
                      .AddJsonFile($&quot;MyConfig.{env.EnvironmentName}.json&quot;,
                                     optional: true, reloadOnChange: true);

                config.AddEnvironmentVariables();

                if (args != null)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                <span class="hljs-keyword">var</span> env = hostingContext.HostingEnvironment;

                config.AddJsonFile(<span class="hljs-string">"appsettings.json"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>)
                      .AddJsonFile(<span class="hljs-string">$"appsettings.<span class="hljs-subst">{env.EnvironmentName}</span>.json"</span>, 
                                     optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);

                config.AddJsonFile(<span class="hljs-string">"MyConfig.json"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>)
                      .AddJsonFile(<span class="hljs-string">$"MyConfig.<span class="hljs-subst">{env.EnvironmentName}</span>.json"</span>,
                                     optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);

                config.AddEnvironmentVariables();

                <span class="hljs-keyword">if</span> (args != <span class="hljs-literal">null</span>)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p>In the preceding code, settings in the <em>MyConfig.json</em> and  <em>MyConfig</em>.<code>Environment</code>.<em>json</em> files:</p>
<ul>
<li>Override settings in the <em>appsettings.json</em> and <em>appsettings</em>.<code>Environment</code>.<em>json</em> files.</li>
<li>Are overridden by settings in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment variables configuration provider</a> and the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ul>
<p>The <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> contains the following  <em>MyConfig.json</em> file:</p>
<div class="codeHeader" id="code-try-25" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;Position&quot;: {
    &quot;Title&quot;: &quot;My Config title&quot;,
    &quot;Name&quot;: &quot;My Config Smith&quot;
  },
  &quot;MyKey&quot;:  &quot;MyConfig.json Value&quot;,
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Warning&quot;,
      &quot;Microsoft.Hosting.Lifetime&quot;: &quot;Information&quot;
    }
  },
  &quot;AllowedHosts&quot;: &quot;*&quot;
}
"><span>{
  <span class="hljs-attr">"Position"</span>: {
    <span class="hljs-attr">"Title"</span>: <span class="hljs-string">"My Config title"</span>,
    <span class="hljs-attr">"Name"</span>: <span class="hljs-string">"My Config Smith"</span>
  },
  <span class="hljs-attr">"MyKey"</span>:  <span class="hljs-string">"MyConfig.json Value"</span>,
  <span class="hljs-attr">"Logging"</span>: {
    <span class="hljs-attr">"LogLevel"</span>: {
      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Information"</span>,
      <span class="hljs-attr">"Microsoft"</span>: <span class="hljs-string">"Warning"</span>,
      <span class="hljs-attr">"Microsoft.Hosting.Lifetime"</span>: <span class="hljs-string">"Information"</span>
    }
  },
  <span class="hljs-attr">"AllowedHosts"</span>: <span class="hljs-string">"*"</span>
}
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays several of the preceding configurations settings:</p>
<div class="codeHeader" id="code-try-26" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre>
<p><a name="fcp"></a></p>
<h2 id="file-configuration-provider">File configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" aria-labelledby="file-configuration-provider"></a></h2>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.fileconfigurationprovider" data-linktype="absolute-path">FileConfigurationProvider</a> is the base class for loading configuration from the file system. The following configuration providers derive from <code>FileConfigurationProvider</code>:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#ini-configuration-provider" data-linktype="self-bookmark">INI configuration provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#xml-configuration-provider" data-linktype="self-bookmark">XML configuration provider</a></li>
</ul>
<h3 id="ini-configuration-provider">INI configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#ini-configuration-provider" aria-labelledby="ini-configuration-provider"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.ini.iniconfigurationprovider" data-linktype="absolute-path">IniConfigurationProvider</a> loads configuration from INI file key-value pairs at runtime.</p>
<p>The following code clears all the configuration providers and adds several configuration providers:</p>
<div class="codeHeader" id="code-try-27" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="10-30" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                var env = hostingContext.HostingEnvironment;

                config.AddIniFile(&quot;MyIniConfig.ini&quot;, optional: true, reloadOnChange: true)
                      .AddIniFile($&quot;MyIniConfig.{env.EnvironmentName}.ini&quot;,
                                     optional: true, reloadOnChange: true);

                config.AddEnvironmentVariables();

                if (args != null)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)</span>
<mark>            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                <span class="hljs-keyword">var</span> env = hostingContext.HostingEnvironment;

                config.AddIniFile(<span class="hljs-string">"MyIniConfig.ini"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>)
                      .AddIniFile(<span class="hljs-string">$"MyIniConfig.<span class="hljs-subst">{env.EnvironmentName}</span>.ini"</span>,
                                     optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);

                config.AddEnvironmentVariables();

                <span class="hljs-keyword">if</span> (args != <span class="hljs-literal">null</span>)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });</mark>
<span>}
</span></code></pre>
<p>In the preceding code, settings in the <em>MyIniConfig.ini</em> and  <em>MyIniConfig</em>.<code>Environment</code>.<em>ini</em> files are overridden by settings in the:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment variables configuration provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ul>
<p>The <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> contains the following <em>MyIniConfig.ini</em> file:</p>
<div class="codeHeader" id="code-try-28" data-bi-name="code-header"><span class="language">ini</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-ini" data-author-content="MyKey=&quot;MyIniConfig.ini Value&quot;

[Position]
Title=&quot;My INI Config title&quot;
Name=&quot;My INI Config name&quot;

[Logging:LogLevel]
Default=Information
Microsoft=Warning
"><span><span class="hljs-attr">MyKey</span>=<span class="hljs-string">"MyIniConfig.ini Value"</span>
<span class="hljs-section">
[Position]</span>
<span class="hljs-attr">Title</span>=<span class="hljs-string">"My INI Config title"</span>
<span class="hljs-attr">Name</span>=<span class="hljs-string">"My INI Config name"</span>
<span class="hljs-section">
[Logging:LogLevel]</span>
<span class="hljs-attr">Default</span>=Information
<span class="hljs-attr">Microsoft</span>=Warning
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays several of the preceding configurations settings:</p>
<div class="codeHeader" id="code-try-29" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre><h3 id="xml-configuration-provider">XML configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#xml-configuration-provider" aria-labelledby="xml-configuration-provider"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.xml.xmlconfigurationprovider" data-linktype="absolute-path">XmlConfigurationProvider</a> loads configuration from XML file key-value pairs at runtime.</p>
<p>The following code clears all the configuration providers and adds several configuration providers:</p>
<div class="codeHeader" id="code-try-30" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                var env = hostingContext.HostingEnvironment;

                config.AddXmlFile(&quot;MyXMLFile.xml&quot;, optional: true, reloadOnChange: true)
                      .AddXmlFile($&quot;MyXMLFile.{env.EnvironmentName}.xml&quot;,
                                     optional: true, reloadOnChange: true);

                config.AddEnvironmentVariables();

                if (args != null)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.Sources.Clear();

                <span class="hljs-keyword">var</span> env = hostingContext.HostingEnvironment;

                config.AddXmlFile(<span class="hljs-string">"MyXMLFile.xml"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>)
                      .AddXmlFile(<span class="hljs-string">$"MyXMLFile.<span class="hljs-subst">{env.EnvironmentName}</span>.xml"</span>,
                                     optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);

                config.AddEnvironmentVariables();

                <span class="hljs-keyword">if</span> (args != <span class="hljs-literal">null</span>)
                {
                    config.AddCommandLine(args);
                }
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p>In the preceding code, settings in the <em>MyXMLFile.xml</em> and  <em>MyXMLFile</em>.<code>Environment</code>.<em>xml</em> files are overridden by settings in the:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#evcp" data-linktype="self-bookmark">Environment variables configuration provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#clcp" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ul>
<p>The <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> contains the following <em>MyXMLFile.xml</em> file:</p>
<div class="codeHeader" id="code-try-31" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
  &lt;MyKey&gt;MyXMLFile Value&lt;/MyKey&gt;
  &lt;Position&gt;
    &lt;Title&gt;Title from  MyXMLFile&lt;/Title&gt;
    &lt;Name&gt;Name from MyXMLFile&lt;/Name&gt;
  &lt;/Position&gt;
  &lt;Logging&gt;
    &lt;LogLevel&gt;
      &lt;Default&gt;Information&lt;/Default&gt;
      &lt;Microsoft&gt;Warning&lt;/Microsoft&gt;
    &lt;/LogLevel&gt;
  &lt;/Logging&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">MyKey</span>&gt;</span>MyXMLFile Value<span class="hljs-tag">&lt;/<span class="hljs-name">MyKey</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Position</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Title</span>&gt;</span>Title from  MyXMLFile<span class="hljs-tag">&lt;/<span class="hljs-name">Title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Name</span>&gt;</span>Name from MyXMLFile<span class="hljs-tag">&lt;/<span class="hljs-name">Name</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Position</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Logging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LogLevel</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Default</span>&gt;</span>Information<span class="hljs-tag">&lt;/<span class="hljs-name">Default</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Microsoft</span>&gt;</span>Warning<span class="hljs-tag">&lt;/<span class="hljs-name">Microsoft</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LogLevel</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Logging</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays several of the preceding configurations settings:</p>
<div class="codeHeader" id="code-try-32" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre>
<p>Repeating elements that use the same element name work if the <code>name</code> attribute is used to distinguish the elements:</p>
<div class="codeHeader" id="code-try-33" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;section name=&quot;section0&quot;&gt;
    &lt;key name=&quot;key0&quot;&gt;value 00&lt;/key&gt;
    &lt;key name=&quot;key1&quot;&gt;value 01&lt;/key&gt;
  &lt;/section&gt;
  &lt;section name=&quot;section1&quot;&gt;
    &lt;key name=&quot;key0&quot;&gt;value 10&lt;/key&gt;
    &lt;key name=&quot;key1&quot;&gt;value 11&lt;/key&gt;
  &lt;/section&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"section0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key0"</span>&gt;</span>value 00<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key1"</span>&gt;</span>value 01<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"section1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key0"</span>&gt;</span>value 10<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key1"</span>&gt;</span>value 11<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The following code reads the previous configuration file and displays the keys and values:</p>
<div class="codeHeader" id="code-try-34" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class IndexModel : PageModel
{
    private readonly IConfiguration Configuration;

    public IndexModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var key00 = &quot;section:section0:key:key0&quot;;
        var key01 = &quot;section:section0:key:key1&quot;;
        var key10 = &quot;section:section1:key:key0&quot;;
        var key11 = &quot;section:section1:key:key1&quot;;

        var val00 = Configuration[key00];
        var val01 = Configuration[key01];
        var val10 = Configuration[key10];
        var val11 = Configuration[key11];

        return Content($&quot;{key00} value: {val00} \n&quot; +
                       $&quot;{key01} value: {val01} \n&quot; +
                       $&quot;{key10} value: {val10} \n&quot; +
                       $&quot;{key10} value: {val11} \n&quot;
                       );
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IndexModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IndexModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> key00 = <span class="hljs-string">"section:section0:key:key0"</span>;
        <span class="hljs-keyword">var</span> key01 = <span class="hljs-string">"section:section0:key:key1"</span>;
        <span class="hljs-keyword">var</span> key10 = <span class="hljs-string">"section:section1:key:key0"</span>;
        <span class="hljs-keyword">var</span> key11 = <span class="hljs-string">"section:section1:key:key1"</span>;

        <span class="hljs-keyword">var</span> val00 = Configuration[key00];
        <span class="hljs-keyword">var</span> val01 = Configuration[key01];
        <span class="hljs-keyword">var</span> val10 = Configuration[key10];
        <span class="hljs-keyword">var</span> val11 = Configuration[key11];

        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"<span class="hljs-subst">{key00}</span> value: <span class="hljs-subst">{val00}</span> \n"</span> +
                       <span class="hljs-string">$"<span class="hljs-subst">{key01}</span> value: <span class="hljs-subst">{val01}</span> \n"</span> +
                       <span class="hljs-string">$"<span class="hljs-subst">{key10}</span> value: <span class="hljs-subst">{val10}</span> \n"</span> +
                       <span class="hljs-string">$"<span class="hljs-subst">{key10}</span> value: <span class="hljs-subst">{val11}</span> \n"</span>
                       );
    }
}
</span></code></pre>
<p>Attributes can be used to supply values:</p>
<div class="codeHeader" id="code-try-35" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;key attribute=&quot;value&quot; /&gt;
  &lt;section&gt;
    &lt;key attribute=&quot;value&quot; /&gt;
  &lt;/section&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">attribute</span>=<span class="hljs-string">"value"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">attribute</span>=<span class="hljs-string">"value"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The previous configuration file loads the following keys with <code>value</code>:</p>
<ul>
<li>key:attribute</li>
<li>section:key:attribute</li>
</ul>
<h2 id="key-per-file-configuration-provider">Key-per-file configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider" aria-labelledby="key-per-file-configuration-provider"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.keyperfile.keyperfileconfigurationprovider" data-linktype="absolute-path">KeyPerFileConfigurationProvider</a> uses a directory's files as configuration key-value pairs. The key is the file name. The value contains the file's contents. The Key-per-file configuration provider is used in Docker hosting scenarios.</p>
<p>To activate key-per-file configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.keyperfileconfigurationbuilderextensions.addkeyperfile" data-linktype="absolute-path">AddKeyPerFile</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>. The <code>directoryPath</code> to the files must be an absolute path.</p>
<p>Overloads permit specifying:</p>
<ul>
<li>An <code>Action&lt;KeyPerFileConfigurationSource&gt;</code> delegate that configures the source.</li>
<li>Whether the directory is optional and the path to the directory.</li>
</ul>
<p>The double-underscore (<code>__</code>) is used as a configuration key delimiter in file names. For example, the file name <code>Logging__LogLevel__System</code> produces the configuration key <code>Logging:LogLevel:System</code>.</p>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration:</p>
<div class="codeHeader" id="code-try-36" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    var path = Path.Combine(
        Directory.GetCurrentDirectory(), &quot;path/to/files&quot;);
    config.AddKeyPerFile(directoryPath: path, optional: true);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    <span class="hljs-keyword">var</span> path = Path.Combine(
        Directory.GetCurrentDirectory(), <span class="hljs-string">"path/to/files"</span>);
    config.AddKeyPerFile(directoryPath: path, optional: <span class="hljs-literal">true</span>);
})
</span></code></pre>
<p><a name="mcp"></a></p>
<h2 id="memory-configuration-provider">Memory configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider" aria-labelledby="memory-configuration-provider"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.memory.memoryconfigurationprovider" data-linktype="absolute-path">MemoryConfigurationProvider</a> uses an in-memory collection as configuration key-value pairs.</p>
<p>The following code adds a memory collection to the configuration system:</p>
<div class="codeHeader" id="code-try-37" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args)
    {
        var Dict = new Dictionary&lt;string, string&gt;
        {
           {&quot;MyKey&quot;, &quot;Dictionary MyKey Value&quot;},
           {&quot;Position:Title&quot;, &quot;Dictionary_Title&quot;},
           {&quot;Position:Name&quot;, &quot;Dictionary_Name&quot; },
           {&quot;Logging:LogLevel:Default&quot;, &quot;Warning&quot;}
        };

        return Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(Dict);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        <span class="hljs-keyword">var</span> Dict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
           {<span class="hljs-string">"MyKey"</span>, <span class="hljs-string">"Dictionary MyKey Value"</span>},
           {<span class="hljs-string">"Position:Title"</span>, <span class="hljs-string">"Dictionary_Title"</span>},
           {<span class="hljs-string">"Position:Name"</span>, <span class="hljs-string">"Dictionary_Name"</span> },
           {<span class="hljs-string">"Logging:LogLevel:Default"</span>, <span class="hljs-string">"Warning"</span>}
        };

        <span class="hljs-keyword">return</span> Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(Dict);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
</span></code></pre>
<p>The following code from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a> displays the preceding configurations settings:</p>
<div class="codeHeader" id="code-try-38" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestModel : PageModel
{
    // requires using Microsoft.Extensions.Configuration;
    private readonly IConfiguration Configuration;

    public TestModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var myKeyValue = Configuration[&quot;MyKey&quot;];
        var title = Configuration[&quot;Position:Title&quot;];
        var name = Configuration[&quot;Position:Name&quot;];
        var defaultLogLevel = Configuration[&quot;Logging:LogLevel:Default&quot;];


        return Content($&quot;MyKey value: {myKeyValue} \n&quot; +
                       $&quot;Title: {title} \n&quot; +
                       $&quot;Name: {name} \n&quot; +
                       $&quot;Default Log Level: {defaultLogLevel}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-comment">// requires using Microsoft.Extensions.Configuration;</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> myKeyValue = Configuration[<span class="hljs-string">"MyKey"</span>];
        <span class="hljs-keyword">var</span> title = Configuration[<span class="hljs-string">"Position:Title"</span>];
        <span class="hljs-keyword">var</span> name = Configuration[<span class="hljs-string">"Position:Name"</span>];
        <span class="hljs-keyword">var</span> defaultLogLevel = Configuration[<span class="hljs-string">"Logging:LogLevel:Default"</span>];


        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"MyKey value: <span class="hljs-subst">{myKeyValue}</span> \n"</span> +
                       <span class="hljs-string">$"Title: <span class="hljs-subst">{title}</span> \n"</span> +
                       <span class="hljs-string">$"Name: <span class="hljs-subst">{name}</span> \n"</span> +
                       <span class="hljs-string">$"Default Log Level: <span class="hljs-subst">{defaultLogLevel}</span>"</span>);
    }
}
</span></code></pre>
<p>In the preceding code, <code>config.AddInMemoryCollection(Dict)</code> is added after the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default" data-linktype="self-bookmark">default configuration providers</a>. For an example of ordering the configuration providers, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a>.</p>
<p>For an example of ordering the configuration providers, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#jcp" data-linktype="self-bookmark">JSON configuration provider</a>.</p>
<p>See <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#boa" data-linktype="self-bookmark">Bind an array</a> for another example using <code>MemoryConfigurationProvider</code>.</p>
<h2 id="getvalue">GetValue<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getvalue" aria-labelledby="getvalue"></a></h2>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.getvalue" data-linktype="absolute-path"><code>ConfigurationBinder.GetValue&lt;T&gt;</code></a> extracts a single value from configuration with a specified key and converts it to the specified type:</p>
<div class="codeHeader" id="code-try-39" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestNumModel : PageModel
{
    private readonly IConfiguration Configuration;

    public TestNumModel(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public ContentResult OnGet()
    {
        var number = Configuration.GetValue&lt;int&gt;(&quot;NumberKey&quot;, 99);
        return Content($&quot;{number}&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestNumModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Configuration;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestNumModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> number = Configuration.GetValue&lt;<span class="hljs-keyword">int</span>&gt;(<span class="hljs-string">"NumberKey"</span>, <span class="hljs-number">99</span>);
        <span class="hljs-keyword">return</span> Content(<span class="hljs-string">$"<span class="hljs-subst">{number}</span>"</span>);
    }
}
</span></code></pre>
<p>In the preceding code,  if <code>NumberKey</code> isn't found in the configuration, the default value of <code>99</code> is used.</p>
<h2 id="getsection-getchildren-and-exists">GetSection, GetChildren, and Exists<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-getchildren-and-exists" aria-labelledby="getsection-getchildren-and-exists"></a></h2>
<p>For the examples that follow, consider the following <em>MySubsection.json</em> file:</p>
<div class="codeHeader" id="code-try-40" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;section0&quot;: {
    &quot;key0&quot;: &quot;value00&quot;,
    &quot;key1&quot;: &quot;value01&quot;
  },
  &quot;section1&quot;: {
    &quot;key0&quot;: &quot;value10&quot;,
    &quot;key1&quot;: &quot;value11&quot;
  },
  &quot;section2&quot;: {
    &quot;subsection0&quot;: {
      &quot;key0&quot;: &quot;value200&quot;,
      &quot;key1&quot;: &quot;value201&quot;
    },
    &quot;subsection1&quot;: {
      &quot;key0&quot;: &quot;value210&quot;,
      &quot;key1&quot;: &quot;value211&quot;
    }
  }
}
"><span>{
  <span class="hljs-attr">"section0"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value00"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value01"</span>
  },
  <span class="hljs-attr">"section1"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value10"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value11"</span>
  },
  <span class="hljs-attr">"section2"</span>: {
    <span class="hljs-attr">"subsection0"</span>: {
      <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value200"</span>,
      <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value201"</span>
    },
    <span class="hljs-attr">"subsection1"</span>: {
      <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value210"</span>,
      <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value211"</span>
    }
  }
}
</span></code></pre>
<p>The following code adds <em>MySubsection.json</em> to the configuration providers:</p>
<div class="codeHeader" id="code-try-41" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddJsonFile(&quot;MySubsection.json&quot;, 
                    optional: true, 
                    reloadOnChange: true);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddJsonFile(<span class="hljs-string">"MySubsection.json"</span>, 
                    optional: <span class="hljs-literal">true</span>, 
                    reloadOnChange: <span class="hljs-literal">true</span>);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre><h3 id="getsection">GetSection<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection" aria-labelledby="getsection"></a></h3>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getsection" data-linktype="absolute-path">IConfiguration.GetSection</a> returns a configuration subsection with the specified subsection key.</p>
<p>The following code returns values for <code>section1</code>:</p>
<div class="codeHeader" id="code-try-42" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestSectionModel : PageModel
{
    private readonly IConfiguration Config;

    public TestSectionModel(IConfiguration configuration)
    {
        Config = configuration.GetSection(&quot;section1&quot;);
    }

    public ContentResult OnGet()
    {
        return Content(
                $&quot;section1:key0: &#39;{Config[&quot;key0&quot;]}&#39;\n&quot; +
                $&quot;section1:key1: &#39;{Config[&quot;key1&quot;]}&#39;&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestSectionModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestSectionModel</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Config = configuration.GetSection(<span class="hljs-string">"section1"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> Content(
                <span class="hljs-string">$"section1:key0: '<span class="hljs-subst">{Config[<span class="hljs-string">"key0"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"section1:key1: '<span class="hljs-subst">{Config[<span class="hljs-string">"key1"</span>]}</span>'"</span>);
    }
}
</span></code></pre>
<p>The following code returns values for <code>section2:subsection0</code>:</p>
<div class="codeHeader" id="code-try-43" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestSection2Model : PageModel
{
    private readonly IConfiguration Config;

    public TestSection2Model(IConfiguration configuration)
    {
        Config = configuration.GetSection(&quot;section2:subsection0&quot;);
    }

    public ContentResult OnGet()
    {
        return Content(
                $&quot;section2:subsection0:key0 &#39;{Config[&quot;key0&quot;]}&#39;\n&quot; +
                $&quot;section2:subsection0:key1:&#39;{Config[&quot;key1&quot;]}&#39;&quot;);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestSection2Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestSection2Model</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Config = configuration.GetSection(<span class="hljs-string">"section2:subsection0"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">return</span> Content(
                <span class="hljs-string">$"section2:subsection0:key0 '<span class="hljs-subst">{Config[<span class="hljs-string">"key0"</span>]}</span>'\n"</span> +
                <span class="hljs-string">$"section2:subsection0:key1:'<span class="hljs-subst">{Config[<span class="hljs-string">"key1"</span>]}</span>'"</span>);
    }
}
</span></code></pre>
<p><code>GetSection</code> never returns <code>null</code>. If a matching section isn't found, an empty <code>IConfigurationSection</code> is returned.</p>
<p>When <code>GetSection</code> returns a matching section, <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.value#Microsoft_Extensions_Configuration_IConfigurationSection_Value" data-linktype="absolute-path">Value</a> isn't populated. A <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.key#Microsoft_Extensions_Configuration_IConfigurationSection_Key" data-linktype="absolute-path">Key</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.path#Microsoft_Extensions_Configuration_IConfigurationSection_Path" data-linktype="absolute-path">Path</a> are returned when the section exists.</p>
<h3 id="getchildren-and-exists">GetChildren and Exists<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getchildren-and-exists" aria-labelledby="getchildren-and-exists"></a></h3>
<p>The following code calls <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getchildren" data-linktype="absolute-path">IConfiguration.GetChildren</a> and returns values for <code>section2:subsection0</code>:</p>
<div class="codeHeader" id="code-try-44" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TestSection4Model : PageModel
{
    private readonly IConfiguration Config;

    public TestSection4Model(IConfiguration configuration)
    {
        Config = configuration;
    }

    public ContentResult OnGet()
    {
        string s = null;
        var selection = Config.GetSection(&quot;section2&quot;);
        if (!selection.Exists())
        {
            throw new System.Exception(&quot;section2 does not exist.&quot;);
        }
        var children = selection.GetChildren();

        foreach (var subSection in children)
        {
            int i = 0;
            var key1 = subSection.Key + &quot;:key&quot; + i++.ToString();
            var key2 = subSection.Key + &quot;:key&quot; + i.ToString();
            s += key1 + &quot; value: &quot; + selection[key1] + &quot;\n&quot;;
            s += key2 + &quot; value: &quot; + selection[key2] + &quot;\n&quot;;
        }
        return Content(s);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestSection4Model</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestSection4Model</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Config = configuration;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">string</span> s = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> selection = Config.GetSection(<span class="hljs-string">"section2"</span>);
        <span class="hljs-keyword">if</span> (!selection.Exists())
        {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> System.Exception(<span class="hljs-string">"section2 does not exist."</span>);
        }
        <span class="hljs-keyword">var</span> children = selection.GetChildren();

        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> subSection <span class="hljs-keyword">in</span> children)
        {
            <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> key1 = subSection.Key + <span class="hljs-string">":key"</span> + i++.ToString();
            <span class="hljs-keyword">var</span> key2 = subSection.Key + <span class="hljs-string">":key"</span> + i.ToString();
            s += key1 + <span class="hljs-string">" value: "</span> + selection[key1] + <span class="hljs-string">"\n"</span>;
            s += key2 + <span class="hljs-string">" value: "</span> + selection[key2] + <span class="hljs-string">"\n"</span>;
        }
        <span class="hljs-keyword">return</span> Content(s);
    }
}
</span></code></pre>
<p>The preceding code calls <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationextensions.exists" data-linktype="absolute-path">ConfigurationExtensions.Exists</a> to verify the  section exists:</p>
<p><a name="boa"></a></p>
<h2 id="bind-an-array">Bind an array<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-an-array" aria-labelledby="bind-an-array"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.bind" data-linktype="absolute-path">ConfigurationBinder.Bind</a> supports binding arrays to objects using array indices in configuration keys. Any array format that exposes a numeric key segment is capable of array binding to a <a href="https://wikipedia.org/wiki/Plain_Old_CLR_Object" data-linktype="external">POCO</a> class array.</p>
<p>Consider <em>MyArray.json</em> from the <a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples/3.x/ConfigSample" data-linktype="external">sample download</a>:</p>
<div class="codeHeader" id="code-try-45" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;array&quot;: {
    &quot;entries&quot;: {
      &quot;0&quot;: &quot;value00&quot;,
      &quot;1&quot;: &quot;value10&quot;,
      &quot;2&quot;: &quot;value20&quot;,
      &quot;4&quot;: &quot;value40&quot;,
      &quot;5&quot;: &quot;value50&quot;
    }
  }
}
"><span>{
  <span class="hljs-attr">"array"</span>: {
    <span class="hljs-attr">"entries"</span>: {
      <span class="hljs-attr">"0"</span>: <span class="hljs-string">"value00"</span>,
      <span class="hljs-attr">"1"</span>: <span class="hljs-string">"value10"</span>,
      <span class="hljs-attr">"2"</span>: <span class="hljs-string">"value20"</span>,
      <span class="hljs-attr">"4"</span>: <span class="hljs-string">"value40"</span>,
      <span class="hljs-attr">"5"</span>: <span class="hljs-string">"value50"</span>
    }
  }
}
</span></code></pre>
<p>The following code adds <em>MyArray.json</em> to the configuration providers:</p>
<div class="codeHeader" id="code-try-46" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddJsonFile(&quot;MyArray.json&quot;, 
                    optional: true, 
                    reloadOnChange: true);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddJsonFile(<span class="hljs-string">"MyArray.json"</span>, 
                    optional: <span class="hljs-literal">true</span>, 
                    reloadOnChange: <span class="hljs-literal">true</span>);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p>The following code reads the configuration and displays the values:</p>
<div class="codeHeader" id="code-try-47" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class ArrayModel : PageModel
{
    private readonly IConfiguration Config;
    public ArrayExample _array { get; private set; }

    public ArrayModel(IConfiguration config)
    {
        Config = config;
    }

    public ContentResult OnGet()
    {
        _array = Config.GetSection(&quot;array&quot;).Get&lt;ArrayExample&gt;();
        string s = null;

        for (int j = 0; j &lt; _array.Entries.Length; j++)
        {
            s += $&quot;Index: {j}  Value:  {_array.Entries[j]} \n&quot;;
        }

        return Content(s);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArrayModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;
    <span class="hljs-keyword">public</span> ArrayExample _array { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayModel</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        Config = config;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        _array = Config.GetSection(<span class="hljs-string">"array"</span>).Get&lt;ArrayExample&gt;();
        <span class="hljs-keyword">string</span> s = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; _array.Entries.Length; j++)
        {
            s += <span class="hljs-string">$"Index: <span class="hljs-subst">{j}</span>  Value:  <span class="hljs-subst">{_array.Entries[j]}</span> \n"</span>;
        }

        <span class="hljs-keyword">return</span> Content(s);
    }
}
</span></code></pre>
<p>The preceding code returns the following output:</p>
<div class="codeHeader" id="code-try-48" data-bi-name="code-header"><span class="language">text</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-text" data-author-content="Index: 0  Value: value00
Index: 1  Value: value10
Index: 2  Value: value20
Index: 3  Value: value40
Index: 4  Value: value50
">Index: 0  Value: value00
Index: 1  Value: value10
Index: 2  Value: value20
Index: 3  Value: value40
Index: 4  Value: value50
</code></pre>
<p>In the preceding output, Index 3 has value <code>value40</code>, corresponding to <code>"4": "value40",</code> in <em>MyArray.json</em>. The bound array indices are continuous and not bound to the configuration key index. The configuration binder isn't capable of binding null values or creating null entries in bound objects</p>
<p>The  following code loads the <code>array:entries</code> configuration with the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.memoryconfigurationbuilderextensions.addinmemorycollection" data-linktype="absolute-path">AddInMemoryCollection</a> extension method:</p>
<div class="codeHeader" id="code-try-49" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args)
    {
        var arrayDict = new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            //              3   Skipped
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

        return Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        <span class="hljs-keyword">var</span> arrayDict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            <span class="hljs-comment">//              3   Skipped</span>
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };

        <span class="hljs-keyword">return</span> Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
</span></code></pre>
<p>The following code reads the configuration in the <code>arrayDict</code> <code>Dictionary</code> and displays the values:</p>
<div class="codeHeader" id="code-try-50" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class ArrayModel : PageModel
{
    private readonly IConfiguration Config;
    public ArrayExample _array { get; private set; }

    public ArrayModel(IConfiguration config)
    {
        Config = config;
    }

    public ContentResult OnGet()
    {
        _array = Config.GetSection(&quot;array&quot;).Get&lt;ArrayExample&gt;();
        string s = null;

        for (int j = 0; j &lt; _array.Entries.Length; j++)
        {
            s += $&quot;Index: {j}  Value:  {_array.Entries[j]} \n&quot;;
        }

        return Content(s);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArrayModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;
    <span class="hljs-keyword">public</span> ArrayExample _array { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayModel</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        Config = config;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        _array = Config.GetSection(<span class="hljs-string">"array"</span>).Get&lt;ArrayExample&gt;();
        <span class="hljs-keyword">string</span> s = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; _array.Entries.Length; j++)
        {
            s += <span class="hljs-string">$"Index: <span class="hljs-subst">{j}</span>  Value:  <span class="hljs-subst">{_array.Entries[j]}</span> \n"</span>;
        }

        <span class="hljs-keyword">return</span> Content(s);
    }
}
</span></code></pre>
<p>The preceding code returns the following output:</p>
<div class="codeHeader" id="code-try-51" data-bi-name="code-header"><span class="language">text</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-text" data-author-content="Index: 0  Value: value0
Index: 1  Value: value1
Index: 2  Value: value2
Index: 3  Value: value4
Index: 4  Value: value5
">Index: 0  Value: value0
Index: 1  Value: value1
Index: 2  Value: value2
Index: 3  Value: value4
Index: 4  Value: value5
</code></pre>
<p>Index #3 in the bound object holds the configuration data for the <code>array:4</code> configuration key and its value of <code>value4</code>. When configuration data containing an array is bound, the array indices in the configuration keys are used to iterate the configuration data when creating the object. A null value can't be retained in configuration data, and a null-valued entry isn't created in a bound object when an array in configuration keys skip one or more indices.</p>
<p>The missing configuration item for index #3 can be supplied before binding to the <code>ArrayExample</code> instance by any configuration provider that reads the index #3 key/value pair. Consider the following <em>Value3.json</em> file from the sample download:</p>
<div class="codeHeader" id="code-try-52" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;array:entries:3&quot;: &quot;value3&quot;
}
"><span>{
  <span class="hljs-attr">"array:entries:3"</span>: <span class="hljs-string">"value3"</span>
}
</span></code></pre>
<p>The following code includes configuration for <em>Value3.json</em> and the <code>arrayDict</code> <code>Dictionary</code>:</p>
<div class="codeHeader" id="code-try-53" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Program
{
    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args)
    {
        var arrayDict = new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            //              3   Skipped
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

        return Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(&quot;Value3.json&quot;,
                                    optional: false, reloadOnChange: false);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        <span class="hljs-keyword">var</span> arrayDict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            <span class="hljs-comment">//              3   Skipped</span>
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };

        <span class="hljs-keyword">return</span> Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(<span class="hljs-string">"Value3.json"</span>,
                                    optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
    }
}
</span></code></pre>
<p>The following code reads the preceding configuration and displays the values:</p>
<div class="codeHeader" id="code-try-54" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class ArrayModel : PageModel
{
    private readonly IConfiguration Config;
    public ArrayExample _array { get; private set; }

    public ArrayModel(IConfiguration config)
    {
        Config = config;
    }

    public ContentResult OnGet()
    {
        _array = Config.GetSection(&quot;array&quot;).Get&lt;ArrayExample&gt;();
        string s = null;

        for (int j = 0; j &lt; _array.Entries.Length; j++)
        {
            s += $&quot;Index: {j}  Value:  {_array.Entries[j]} \n&quot;;
        }

        return Content(s);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArrayModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration Config;
    <span class="hljs-keyword">public</span> ArrayExample _array { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayModel</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        Config = config;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ContentResult <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        _array = Config.GetSection(<span class="hljs-string">"array"</span>).Get&lt;ArrayExample&gt;();
        <span class="hljs-keyword">string</span> s = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; _array.Entries.Length; j++)
        {
            s += <span class="hljs-string">$"Index: <span class="hljs-subst">{j}</span>  Value:  <span class="hljs-subst">{_array.Entries[j]}</span> \n"</span>;
        }

        <span class="hljs-keyword">return</span> Content(s);
    }
}
</span></code></pre>
<p>The preceding code returns the following output:</p>
<div class="codeHeader" id="code-try-55" data-bi-name="code-header"><span class="language">text</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-text" data-author-content="Index: 0  Value: value0
Index: 1  Value: value1
Index: 2  Value: value2
Index: 3  Value: value3
Index: 4  Value: value4
Index: 5  Value: value5
">Index: 0  Value: value0
Index: 1  Value: value1
Index: 2  Value: value2
Index: 3  Value: value3
Index: 4  Value: value4
Index: 5  Value: value5
</code></pre>
<p>Custom configuration providers aren't required to implement array binding.</p>
<h2 id="custom-configuration-provider">Custom configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider" aria-labelledby="custom-configuration-provider"></a></h2>
<p>The sample app demonstrates how to create a basic configuration provider that reads configuration key-value pairs from a database using <a href="https://docs.microsoft.com/en-us/ef/core/" data-linktype="absolute-path">Entity Framework (EF)</a>.</p>
<p>The provider has the following characteristics:</p>
<ul>
<li>The EF in-memory database is used for demonstration purposes. To use a database that requires a connection string, implement a secondary <code>ConfigurationBuilder</code> to supply the connection string from another configuration provider.</li>
<li>The provider reads a database table into configuration at startup. The provider doesn't query the database on a per-key basis.</li>
<li>Reload-on-change isn't implemented, so updating the database after the app starts has no effect on the app's configuration.</li>
</ul>
<p>Define an <code>EFConfigurationValue</code> entity for storing configuration values in the database.</p>
<p><em>Models/EFConfigurationValue.cs</em>:</p>
<div class="codeHeader" id="code-try-56" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationValue
{
    public string Id { get; set; }
    public string Value { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationValue</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>Add an <code>EFConfigurationContext</code> to store and access the configured values.</p>
<p><em>EFConfigurationProvider/EFConfigurationContext.cs</em>:</p>
<div class="codeHeader" id="code-try-57" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationContext : DbContext
{
    public EFConfigurationContext(DbContextOptions options) : base(options)
    {
    }

    public DbSet&lt;EFConfigurationValue&gt; Values { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationContext</span> : <span class="hljs-title">DbContext</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationContext</span>(<span class="hljs-params">DbContextOptions options</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">options</span>)</span>
    {
    }

    <span class="hljs-keyword">public</span> DbSet&lt;EFConfigurationValue&gt; Values { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>Create a class that implements <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsource" data-linktype="absolute-path">IConfigurationSource</a>.</p>
<p><em>EFConfigurationProvider/EFConfigurationSource.cs</em>:</p>
<div class="codeHeader" id="code-try-58" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationSource : IConfigurationSource
{
    private readonly Action&lt;DbContextOptionsBuilder&gt; _optionsAction;

    public EFConfigurationSource(Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        _optionsAction = optionsAction;
    }

    public IConfigurationProvider Build(IConfigurationBuilder builder)
    {
        return new EFConfigurationProvider(_optionsAction);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationSource</span> : <span class="hljs-title">IConfigurationSource</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Action&lt;DbContextOptionsBuilder&gt; _optionsAction;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationSource</span>(<span class="hljs-params">Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        _optionsAction = optionsAction;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> IConfigurationProvider <span class="hljs-title">Build</span>(<span class="hljs-params">IConfigurationBuilder builder</span>)</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> EFConfigurationProvider(_optionsAction);
    }
}
</span></code></pre>
<p>Create the custom configuration provider by inheriting from <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationprovider" data-linktype="absolute-path">ConfigurationProvider</a>. The configuration provider initializes the database when it's empty. Since <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#keys" data-linktype="self-bookmark">configuration keys are case-insensitive</a>, the dictionary used to initialize the database is created with the case-insensitive comparer (<a href="https://docs.microsoft.com/en-us/dotnet/api/system.stringcomparer.ordinalignorecase#System_StringComparer_OrdinalIgnoreCase" data-linktype="absolute-path">StringComparer.OrdinalIgnoreCase</a>).</p>
<p><em>EFConfigurationProvider/EFConfigurationProvider.cs</em>:</p>
<div class="codeHeader" id="code-try-59" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationProvider : ConfigurationProvider
{
    public EFConfigurationProvider(Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        OptionsAction = optionsAction;
    }

    Action&lt;DbContextOptionsBuilder&gt; OptionsAction { get; }

    // Load config data from EF DB.
    public override void Load()
    {
        var builder = new DbContextOptionsBuilder&lt;EFConfigurationContext&gt;();

        OptionsAction(builder);

        using (var dbContext = new EFConfigurationContext(builder.Options))
        {
            dbContext.Database.EnsureCreated();

            Data = !dbContext.Values.Any()
                ? CreateAndSaveDefaultValues(dbContext)
                : dbContext.Values.ToDictionary(c =&gt; c.Id, c =&gt; c.Value);
        }
    }

    private static IDictionary&lt;string, string&gt; CreateAndSaveDefaultValues(
        EFConfigurationContext dbContext)
    {
        // Quotes (c)2005 Universal Pictures: Serenity
        // https://www.uphe.com/movies/serenity
        var configValues = 
            new Dictionary&lt;string, string&gt;(StringComparer.OrdinalIgnoreCase)
            {
                { &quot;quote1&quot;, &quot;I aim to misbehave.&quot; },
                { &quot;quote2&quot;, &quot;I swallowed a bug.&quot; },
                { &quot;quote3&quot;, &quot;You can&#39;t stop the signal, Mal.&quot; }
            };

        dbContext.Values.AddRange(configValues
            .Select(kvp =&gt; new EFConfigurationValue 
                {
                    Id = kvp.Key,
                    Value = kvp.Value
                })
            .ToArray());

        dbContext.SaveChanges();

        return configValues;
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationProvider</span> : <span class="hljs-title">ConfigurationProvider</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationProvider</span>(<span class="hljs-params">Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        OptionsAction = optionsAction;
    }

    Action&lt;DbContextOptionsBuilder&gt; OptionsAction { <span class="hljs-keyword">get</span>; }

    <span class="hljs-comment">// Load config data from EF DB.</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Load</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> builder = <span class="hljs-keyword">new</span> DbContextOptionsBuilder&lt;EFConfigurationContext&gt;();

        OptionsAction(builder);

        <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> dbContext = <span class="hljs-keyword">new</span> EFConfigurationContext(builder.Options))
        {
            dbContext.Database.EnsureCreated();

            Data = !dbContext.Values.Any()
                ? CreateAndSaveDefaultValues(dbContext)
                : dbContext.Values.ToDictionary(c =&gt; c.Id, c =&gt; c.Value);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> IDictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; <span class="hljs-title">CreateAndSaveDefaultValues</span>(<span class="hljs-params">
        EFConfigurationContext dbContext</span>)</span>
    {
        <span class="hljs-comment">// Quotes (c)2005 Universal Pictures: Serenity</span>
        <span class="hljs-comment">// https://www.uphe.com/movies/serenity</span>
        <span class="hljs-keyword">var</span> configValues = 
            <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;(StringComparer.OrdinalIgnoreCase)
            {
                { <span class="hljs-string">"quote1"</span>, <span class="hljs-string">"I aim to misbehave."</span> },
                { <span class="hljs-string">"quote2"</span>, <span class="hljs-string">"I swallowed a bug."</span> },
                { <span class="hljs-string">"quote3"</span>, <span class="hljs-string">"You can't stop the signal, Mal."</span> }
            };

        dbContext.Values.AddRange(configValues
            .Select(kvp =&gt; <span class="hljs-keyword">new</span> EFConfigurationValue 
                {
                    Id = kvp.Key,
                    Value = kvp.Value
                })
            .ToArray());

        dbContext.SaveChanges();

        <span class="hljs-keyword">return</span> configValues;
    }
}
</span></code></pre>
<p>An <code>AddEFConfiguration</code> extension method permits adding the configuration source to a <code>ConfigurationBuilder</code>.</p>
<p><em>Extensions/EntityFrameworkExtensions.cs</em>:</p>
<div class="codeHeader" id="code-try-60" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public static class EntityFrameworkExtensions
{
    public static IConfigurationBuilder AddEFConfiguration(
        this IConfigurationBuilder builder, 
        Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        return builder.Add(new EFConfigurationSource(optionsAction));
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EntityFrameworkExtensions</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IConfigurationBuilder <span class="hljs-title">AddEFConfiguration</span>(<span class="hljs-params">
        <span class="hljs-keyword">this</span> IConfigurationBuilder builder, 
        Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        <span class="hljs-keyword">return</span> builder.Add(<span class="hljs-keyword">new</span> EFConfigurationSource(optionsAction));
    }
}
</span></code></pre>
<p>The following code shows how to use the custom <code>EFConfigurationProvider</code> in <em>Program.cs</em>:</p>
<div class="codeHeader" id="code-try-61" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="29-30" data-author-content="public class Program
{
    public static Dictionary&lt;string, string&gt; arrayDict = 
        new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

    public static void Main(string[] args)
    {
        CreateHostBuilder(args).Build().Run();
    }

    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    &quot;json_array.json&quot;, optional: false, reloadOnChange: false);
                config.AddJsonFile(
                    &quot;starship.json&quot;, optional: false, reloadOnChange: false);
                config.AddXmlFile(
                    &quot;tvshow.xml&quot;, optional: false, reloadOnChange: false);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(&quot;InMemoryDb&quot;));
                config.AddCommandLine(args);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; arrayDict = 
        <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IHostBuilder <span class="hljs-title">CreateHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        Host.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    <span class="hljs-string">"json_array.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddJsonFile(
                    <span class="hljs-string">"starship.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddXmlFile(
                    <span class="hljs-string">"tvshow.xml"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);</span>
<mark>                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(<span class="hljs-string">"InMemoryDb"</span>));</mark>
<span>                config.AddCommandLine(args);
            })
            .ConfigureWebHostDefaults(webBuilder =&gt;
            {
                webBuilder.UseStartup&lt;Startup&gt;();
            });
}
</span></code></pre>
<p><a name="acs"></a></p>
<h2 id="access-configuration-in-startup">Access configuration in Startup<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-startup" aria-labelledby="access-configuration-in-startup"></a></h2>
<p>The following code displays configuration data in <code>Startup</code> methods:</p>
<div class="codeHeader" id="code-try-62" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="13,18" data-author-content="public class Startup
{
    public Startup(IConfiguration configuration)
    {
        Configuration = configuration;
    }

    public IConfiguration Configuration { get; }

    public void ConfigureServices(IServiceCollection services)
    {
        services.AddRazorPages();
        Console.WriteLine($&quot;MyKey : {Configuration[&quot;MyKey&quot;]}&quot;);
    }

    public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
    {
        Console.WriteLine($&quot;Position:Title : {Configuration[&quot;Position:Title&quot;]}&quot;);

        if (env.IsDevelopment())
        {
            app.UseDeveloperExceptionPage();
        }
        else
        {
            app.UseExceptionHandler(&quot;/Error&quot;);
            app.UseHsts();
        }

        app.UseHttpsRedirection();
        app.UseStaticFiles();

        app.UseRouting();

        app.UseAuthorization();

        app.UseEndpoints(endpoints =&gt;
        {
            endpoints.MapRazorPages();
        });
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Startup</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Startup</span>(<span class="hljs-params">IConfiguration configuration</span>)</span>
    {
        Configuration = configuration;
    }

    <span class="hljs-keyword">public</span> IConfiguration Configuration { <span class="hljs-keyword">get</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureServices</span>(<span class="hljs-params">IServiceCollection services</span>)</span>
    {
        services.AddRazorPages();</span>
<mark>        Console.WriteLine(<span class="hljs-string">$"MyKey : <span class="hljs-subst">{Configuration[<span class="hljs-string">"MyKey"</span>]}</span>"</span>);</mark>
<span>    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Configure</span>(<span class="hljs-params">IApplicationBuilder app, IWebHostEnvironment env</span>)</span>
    {</span>
<mark>        Console.WriteLine(<span class="hljs-string">$"Position:Title : <span class="hljs-subst">{Configuration[<span class="hljs-string">"Position:Title"</span>]}</span>"</span>);</mark>
<span>
        <span class="hljs-keyword">if</span> (env.IsDevelopment())
        {
            app.UseDeveloperExceptionPage();
        }
        <span class="hljs-keyword">else</span>
        {
            app.UseExceptionHandler(<span class="hljs-string">"/Error"</span>);
            app.UseHsts();
        }

        app.UseHttpsRedirection();
        app.UseStaticFiles();

        app.UseRouting();

        app.UseAuthorization();

        app.UseEndpoints(endpoints =&gt;
        {
            endpoints.MapRazorPages();
        });
    }
}
</span></code></pre>
<p>For an example of accessing configuration using startup convenience methods, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-3.1#convenience-methods" data-linktype="relative-path">App startup: Convenience methods</a>.</p>
<h2 id="access-configuration-in-razor-pages">Access configuration in Razor Pages<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-razor-pages" aria-labelledby="access-configuration-in-razor-pages"></a></h2>
<p>The following code displays configuration data in a Razor Page:</p>
<div class="codeHeader" id="code-try-63" data-bi-name="code-header"><span class="language">CSHTML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-cshtml" data-author-content="@page
@model Test5Model
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

Configuration value for &#39;MyKey&#39;: @Configuration[&quot;MyKey&quot;]

"><span><span class="xml"></span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">page</span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@model</span><span class="hljs-type"> Test5Model</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@using</span><span class="hljs-type"> Microsoft.Extensions.Configuration</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@inject</span><span class="hljs-type"> IConfiguration Configuration</span></span><span class="xml">

Configuration value for 'MyKey': </span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">Configuration[<span class="hljs-string">"MyKey"</span>]</span><span class="xml">

</span></span></code></pre><h2 id="access-configuration-in-a-mvc-view-file">Access configuration in a MVC view file<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-a-mvc-view-file" aria-labelledby="access-configuration-in-a-mvc-view-file"></a></h2>
<p>The following code displays configuration data in a MVC view:</p>
<div class="codeHeader" id="code-try-64" data-bi-name="code-header"><span class="language">CSHTML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-cshtml" data-author-content="@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

Configuration value for &#39;MyKey&#39;: @Configuration[&quot;MyKey&quot;]
"><span><span class="xml"></span><span class="hljs-built_in"><span class="hljs-built_in">@using</span><span class="hljs-type"> Microsoft.Extensions.Configuration</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@inject</span><span class="hljs-type"> IConfiguration Configuration</span></span><span class="xml">

Configuration value for 'MyKey': </span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">Configuration[<span class="hljs-string">"MyKey"</span>]</span><span class="xml">
</span></span></code></pre>
<p><a name="hvac"></a></p>
<h2 id="host-versus-app-configuration">Host versus app configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#host-versus-app-configuration" aria-labelledby="host-versus-app-configuration"></a></h2>
<p>Before the app is configured and started, a <em>host</em> is configured and launched. The host is responsible for app startup and lifetime management. Both the app and the host are configured using the configuration providers described in this topic. Host configuration key-value pairs are also included in the app's configuration. For more information on how the configuration providers are used when the host is built and how configuration sources affect host configuration, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.1#host" data-linktype="relative-path">ASP.NET Core fundamentals</a>.</p>
<p><a name="dhc"></a></p>
<h2 id="default-host-configuration">Default host configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-host-configuration" aria-labelledby="default-host-configuration"></a></h2>
<p>For details on the default configuration when using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/web-host?view=aspnetcore-3.1" data-linktype="relative-path">Web Host</a>, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-2.2" data-linktype="absolute-path" class="preserve-view">ASP.NET Core 2.2 version of this topic</a>.</p>
<ul>
<li>Host configuration is provided from:
<ul>
<li>Environment variables prefixed with <code>DOTNET_</code> (for example, <code>DOTNET_ENVIRONMENT</code>) using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables-configuration-provider" data-linktype="self-bookmark">Environment Variables configuration provider</a>. The prefix (<code>DOTNET_</code>) is stripped when the configuration key-value pairs are loaded.</li>
<li>Command-line arguments using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line configuration provider</a>.</li>
</ul>
</li>
<li>Web Host default configuration is established (<code>ConfigureWebHostDefaults</code>):
<ul>
<li>Kestrel is used as the web server and configured using the app's configuration providers.</li>
<li>Add Host Filtering Middleware.</li>
<li>Add Forwarded Headers Middleware if the <code>ASPNETCORE_FORWARDEDHEADERS_ENABLED</code> environment variable is set to <code>true</code>.</li>
<li>Enable IIS integration.</li>
</ul>
</li>
</ul>
<h2 id="other-configuration">Other configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#other-configuration" aria-labelledby="other-configuration"></a></h2>
<p>This topic only pertains to <em>app configuration</em>. Other aspects of running and hosting ASP.NET Core apps are configured using configuration files not covered in this topic:</p>
<ul>
<li><em>launch.json</em>/<em>launchSettings.json</em> are tooling configuration files for the Development environment, described:
<ul>
<li>In <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1#development" data-linktype="relative-path">Use multiple environments in ASP.NET Core</a>.</li>
<li>Across the documentation set where the files are used to configure ASP.NET Core apps for Development scenarios.</li>
</ul>
</li>
<li><em>web.config</em> is a server configuration file, described in the following topics:
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/?view=aspnetcore-3.1" data-linktype="relative-path">Host ASP.NET Core on Windows with IIS</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/aspnet-core-module?view=aspnetcore-3.1" data-linktype="relative-path">ASP.NET Core Module</a></li>
</ul>
</li>
</ul>
<p>For more information on migrating app configuration from earlier versions of ASP.NET, see <a href="https://docs.microsoft.com/en-us/aspnet/core/migration/proper-to-2x/?view=aspnetcore-3.1#store-configurations" data-linktype="relative-path">Migrate from ASP.NET to ASP.NET Core</a>.</p>
<h2 id="add-configuration-from-an-external-assembly">Add configuration from an external assembly<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#add-configuration-from-an-external-assembly" aria-labelledby="add-configuration-from-an-external-assembly"></a></h2>
<p>An <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.hosting.ihostingstartup" data-linktype="absolute-path">IHostingStartup</a> implementation allows adding enhancements to an app at startup from an external assembly outside of the app's <code>Startup</code> class. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/platform-specific-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Use hosting startup assemblies in ASP.NET Core</a>.</p>
<h2 id="additional-resources">Additional resources<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#additional-resources" aria-labelledby="additional-resources"></a></h2>
<ul>
<li><a href="https://github.com/dotnet/extensions/tree/master/src/Configuration" data-linktype="external">Configuration source code</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-3.1" data-linktype="relative-path">Options pattern in ASP.NET Core</a></li>
</ul>
</div>
<div data-moniker="aspnetcore-2.1 aspnetcore-2.2">
<p>App configuration in ASP.NET Core is based on key-value pairs established by <em>configuration providers</em>. Configuration providers read configuration data into key-value pairs from a variety of configuration sources:</p>
<ul>
<li>Azure Key Vault</li>
<li>Azure App Configuration</li>
<li>Command-line arguments</li>
<li>Custom providers (installed or created)</li>
<li>Directory files</li>
<li>Environment variables</li>
<li>In-memory .NET objects</li>
<li>Settings files</li>
</ul>
<p>Configuration packages for common configuration provider scenarios (<a href="https://www.nuget.org/packages/Microsoft.Extensions.Configuration/" data-linktype="external">Microsoft.Extensions.Configuration</a>) are included in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/metapackage-app?view=aspnetcore-3.1" data-linktype="relative-path">Microsoft.AspNetCore.App metapackage</a>.</p>
<p>Code examples that follow and in the sample app use the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration" data-linktype="absolute-path">Microsoft.Extensions.Configuration</a> namespace:</p>
<div class="codeHeader" id="code-try-65" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="using Microsoft.Extensions.Configuration;
"><span><span class="hljs-keyword">using</span> Microsoft.Extensions.Configuration;
</span></code></pre>
<p>The <em>options pattern</em> is an extension of the configuration concepts described in this topic. Options use classes to represent groups of related settings. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-3.1" data-linktype="relative-path">Options pattern in ASP.NET Core</a>.</p>
<p><a href="https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/configuration/index/samples" data-linktype="external">View or download sample code</a> (<a href="https://docs.microsoft.com/en-us/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-3.1#how-to-download-a-sample" data-linktype="relative-path">how to download</a>)</p>
<h2 data-id="host-versus-app-configuration-1">Host versus app configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#host-versus-app-configuration-1" aria-labelledby="host-versus-app-configuration-1"></a></h2>
<p>Before the app is configured and started, a <em>host</em> is configured and launched. The host is responsible for app startup and lifetime management. Both the app and the host are configured using the configuration providers described in this topic. Host configuration key-value pairs are also included in the app's configuration. For more information on how the configuration providers are used when the host is built and how configuration sources affect host configuration, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.1#host" data-linktype="relative-path">ASP.NET Core fundamentals</a>.</p>
<h2 data-id="other-configuration-1">Other configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#other-configuration-1" aria-labelledby="other-configuration-1"></a></h2>
<p>This topic only pertains to <em>app configuration</em>. Other aspects of running and hosting ASP.NET Core apps are configured using configuration files not covered in this topic:</p>
<ul>
<li><em>launch.json</em>/<em>launchSettings.json</em> are tooling configuration files for the Development environment, described:
<ul>
<li>In <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1#development" data-linktype="relative-path">Use multiple environments in ASP.NET Core</a>.</li>
<li>Across the documentation set where the files are used to configure ASP.NET Core apps for Development scenarios.</li>
</ul>
</li>
<li><em>web.config</em> is a server configuration file, described in the following topics:
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/?view=aspnetcore-3.1" data-linktype="relative-path">Host ASP.NET Core on Windows with IIS</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/aspnet-core-module?view=aspnetcore-3.1" data-linktype="relative-path">ASP.NET Core Module</a></li>
</ul>
</li>
</ul>
<p>For more information on migrating app configuration from earlier versions of ASP.NET, see <a href="https://docs.microsoft.com/en-us/aspnet/core/migration/proper-to-2x/?view=aspnetcore-3.1#store-configurations" data-linktype="relative-path">Migrate from ASP.NET to ASP.NET Core</a>.</p>
<h2 data-id="default-configuration-1">Default configuration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration-1" aria-labelledby="default-configuration-1"></a></h2>
<p>Web apps based on the ASP.NET Core <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-new" data-linktype="absolute-path">dotnet new</a> templates call <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.webhost.createdefaultbuilder" data-linktype="absolute-path">CreateDefaultBuilder</a> when building a host. <code>CreateDefaultBuilder</code> provides default configuration for the app in the following order:</p>
<p>The following applies to apps using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/web-host?view=aspnetcore-3.1" data-linktype="relative-path">Web Host</a>. For details on the default configuration when using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1" data-linktype="relative-path">Generic Host</a>, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1" data-linktype="relative-path">latest version of this topic</a>.</p>
<ul>
<li>Host configuration is provided from:
<ul>
<li>Environment variables prefixed with <code>ASPNETCORE_</code> (for example, <code>ASPNETCORE_ENVIRONMENT</code>) using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables-configuration-provider" data-linktype="self-bookmark">Environment Variables Configuration Provider</a>. The prefix (<code>ASPNETCORE_</code>) is stripped when the configuration key-value pairs are loaded.</li>
<li>Command-line arguments using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line Configuration Provider</a>.</li>
</ul>
</li>
<li>App configuration is provided from:
<ul>
<li><em>appsettings.json</em> using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">File Configuration Provider</a>.</li>
<li><em>appsettings.{Environment}.json</em> using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">File Configuration Provider</a>.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Secret Manager</a> when the app runs in the <code>Development</code> environment using the entry assembly.</li>
<li>Environment variables using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables-configuration-provider" data-linktype="self-bookmark">Environment Variables Configuration Provider</a>.</li>
<li>Command-line arguments using the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line Configuration Provider</a>.</li>
</ul>
</li>
</ul>
<h2 data-id="security">Security<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#security" aria-labelledby="security"></a></h2>
<p>Adopt the following practices to secure sensitive configuration data:</p>
<ul>
<li>Never store passwords or other sensitive data in configuration provider code or in plain text configuration files.</li>
<li>Don't use production secrets in development or test environments.</li>
<li>Specify secrets outside of the project so that they can't be accidentally committed to a source code repository.</li>
</ul>
<p>For more information, see the following topics:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-3.1" data-linktype="relative-path">Use multiple environments in ASP.NET Core</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">Safe storage of app secrets in development in ASP.NET Core</a>  Includes advice on using environment variables to store sensitive data. The Secret Manager uses the File Configuration Provider to store user secrets in a JSON file on the local system. The File Configuration Provider is described later in this topic.</li>
</ul>
<p><a href="https://azure.microsoft.com/services/key-vault/" data-linktype="external">Azure Key Vault</a> safely stores app secrets for ASP.NET Core apps. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault Configuration Provider in ASP.NET Core</a>.</p>
<h2 data-id="hierarchical-configuration-data-1">Hierarchical configuration data<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hierarchical-configuration-data-1" aria-labelledby="hierarchical-configuration-data-1"></a></h2>
<p>The Configuration API is capable of maintaining hierarchical configuration data by flattening the hierarchical data with the use of a delimiter in the configuration keys.</p>
<p>In the following JSON file, four keys exist in a structured hierarchy of two sections:</p>
<div class="codeHeader" id="code-try-66" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;section0&quot;: {
    &quot;key0&quot;: &quot;value&quot;,
    &quot;key1&quot;: &quot;value&quot;
  },
  &quot;section1&quot;: {
    &quot;key0&quot;: &quot;value&quot;,
    &quot;key1&quot;: &quot;value&quot;
  }
}
"><span>{
  <span class="hljs-attr">"section0"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
  },
  <span class="hljs-attr">"section1"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
  }
}
</span></code></pre>
<p>When the file is read into configuration, unique keys are created to maintain the original hierarchical data structure of the configuration source. The sections and keys are flattened with the use of a colon (<code>:</code>) to maintain the original structure:</p>
<ul>
<li>section0:key0</li>
<li>section0:key1</li>
<li>section1:key0</li>
<li>section1:key1</li>
</ul>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationsection.getsection" data-linktype="absolute-path">GetSection</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getchildren" data-linktype="absolute-path">GetChildren</a> methods are available to isolate sections and children of a section in the configuration data. These methods are described later in <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-getchildren-and-exists" data-linktype="self-bookmark">GetSection, GetChildren, and Exists</a>.</p>
<h2 data-id="conventions">Conventions<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#conventions" aria-labelledby="conventions"></a></h2>
<h3 data-id="sources-and-providers">Sources and providers<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#sources-and-providers" aria-labelledby="sources-and-providers"></a></h3>
<p>At app startup, configuration sources are read in the order that their configuration providers are specified.</p>
<p>Configuration providers that implement change detection have the ability to reload configuration when an underlying setting is changed. For example, the File Configuration Provider (described later in this topic) and the <a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault Configuration Provider</a> implement change detection.</p>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration" data-linktype="absolute-path">IConfiguration</a> is available in the app's <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.1" data-linktype="relative-path">dependency injection (DI)</a> container. <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration" data-linktype="absolute-path">IConfiguration</a> can be injected into a Razor Pages <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.razorpages.pagemodel" data-linktype="absolute-path">PageModel</a> or MVC <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.controller" data-linktype="absolute-path">Controller</a> to obtain configuration for the class.</p>
<p>In the following examples, the <code>_config</code> field is used to access configuration values:</p>
<div class="codeHeader" id="code-try-67" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class IndexModel : PageModel
{
    private readonly IConfiguration _config;

    public IndexModel(IConfiguration config)
    {
        _config = config;
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IndexModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration _config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IndexModel</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        _config = config;
    }
}
</span></code></pre>
<div class="codeHeader" id="code-try-68" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class HomeController : Controller
{
    private readonly IConfiguration _config;

    public HomeController(IConfiguration config)
    {
        _config = config;
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span> : <span class="hljs-title">Controller</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration _config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HomeController</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        _config = config;
    }
}
</span></code></pre>
<p>Configuration providers can't utilize DI, as it's not available when they're set up by the host.</p>
<h3 data-id="keys">Keys<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#keys" aria-labelledby="keys"></a></h3>
<p>Configuration keys adopt the following conventions:</p>
<ul>
<li>Keys are case-insensitive. For example, <code>ConnectionString</code> and <code>connectionstring</code> are treated as equivalent keys.</li>
<li>If a value for the same key is set by the same or different configuration providers, the last value set on the key is the value used.</li>
<li>Hierarchical keys
<ul>
<li>Within the Configuration API, a colon separator (<code>:</code>) works on all platforms.</li>
<li>In environment variables, a colon separator may not work on all platforms. A double underscore (<code>__</code>) is supported by all platforms and is automatically converted into a colon.</li>
<li>In Azure Key Vault, hierarchical keys use <code>--</code> (two dashes) as a separator. Write code to replace the dashes with a colon when the secrets are loaded into the app's configuration.</li>
</ul>
</li>
<li>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder" data-linktype="absolute-path">ConfigurationBinder</a> supports binding arrays to objects using array indices in configuration keys. Array binding is described in the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-an-array-to-a-class" data-linktype="self-bookmark">Bind an array to a class</a> section.</li>
</ul>
<h3 data-id="values">Values<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#values" aria-labelledby="values"></a></h3>
<p>Configuration values adopt the following conventions:</p>
<ul>
<li>Values are strings.</li>
<li>Null values can't be stored in configuration or bound to objects.</li>
</ul>
<h2 data-id="providers">Providers<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#providers" aria-labelledby="providers"></a></h2>
<p>The following table shows the configuration providers available to ASP.NET Core apps.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 4</caption>
<thead>
<tr>
<th>Provider</th>
<th>Provides configuration from</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault Configuration Provider</a> (<em>Security</em> topics)</td>
<td>Azure Key Vault</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/azure/azure-app-configuration/quickstart-aspnet-core-app" data-linktype="absolute-path">Azure App Configuration Provider</a> (Azure documentation)</td>
<td>Azure App Configuration</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" data-linktype="self-bookmark">Command-line Configuration Provider</a></td>
<td>Command-line parameters</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider" data-linktype="self-bookmark">Custom configuration provider</a></td>
<td>Custom source</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables-configuration-provider" data-linktype="self-bookmark">Environment Variables Configuration Provider</a></td>
<td>Environment variables</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider" data-linktype="self-bookmark">File Configuration Provider</a></td>
<td>Files (INI, JSON, XML)</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider" data-linktype="self-bookmark">Key-per-file Configuration Provider</a></td>
<td>Directory files</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider" data-linktype="self-bookmark">Memory Configuration Provider</a></td>
<td>In-memory collections</td>
</tr>
<tr>
<td><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">User secrets (Secret Manager)</a> (<em>Security</em> topics)</td>
<td>File in the user profile directory</td>
</tr>
</tbody>
</table></div>
<p>Configuration sources are read in the order that their configuration providers are specified at startup. The configuration providers described in this topic are described in alphabetical order, not in the order that the code arranges them. Order configuration providers in code to suit the priorities for the underlying configuration sources that the app requires.</p>
<p>A typical sequence of configuration providers is:</p>
<ol>
<li>Files (<em>appsettings.json</em>, <em>appsettings.{Environment}.json</em>, where <code>{Environment}</code> is the app's current hosting environment)</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/key-vault-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Azure Key Vault</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">User secrets (Secret Manager)</a> (Development environment only)</li>
<li>Environment variables</li>
<li>Command-line arguments</li>
</ol>
<p>A common practice is to position the Command-line Configuration Provider last in a series of providers to allow command-line arguments to override configuration set by the other providers.</p>
<p>The preceding sequence of providers is used when a new host builder is initialized with <code>CreateDefaultBuilder</code>. For more information, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" data-linktype="self-bookmark">Default configuration</a> section.</p>
<h2 data-id="configure-the-host-builder-with-useconfiguration">Configure the host builder with UseConfiguration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configure-the-host-builder-with-useconfiguration" aria-labelledby="configure-the-host-builder-with-useconfiguration"></a></h2>
<p>To configure the host builder, call <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.hosting.hostingabstractionswebhostbuilderextensions.useconfiguration" data-linktype="absolute-path">UseConfiguration</a> on the host builder with the configuration.</p>
<div class="codeHeader" id="code-try-69" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public static IWebHostBuilder CreateWebHostBuilder(string[] args)
{
    var dict = new Dictionary&lt;string, string&gt;
    {
        {&quot;MemoryCollectionKey1&quot;, &quot;value1&quot;},
        {&quot;MemoryCollectionKey2&quot;, &quot;value2&quot;}
    };

    var config = new ConfigurationBuilder()
        .AddInMemoryCollection(dict)
        .Build();

    return WebHost.CreateDefaultBuilder(args)
        .UseConfiguration(config)
        .UseStartup&lt;Startup&gt;();
}
"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IWebHostBuilder <span class="hljs-title">CreateWebHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
{
    <span class="hljs-keyword">var</span> dict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
    {
        {<span class="hljs-string">"MemoryCollectionKey1"</span>, <span class="hljs-string">"value1"</span>},
        {<span class="hljs-string">"MemoryCollectionKey2"</span>, <span class="hljs-string">"value2"</span>}
    };

    <span class="hljs-keyword">var</span> config = <span class="hljs-keyword">new</span> ConfigurationBuilder()
        .AddInMemoryCollection(dict)
        .Build();

    <span class="hljs-keyword">return</span> WebHost.CreateDefaultBuilder(args)
        .UseConfiguration(config)
        .UseStartup&lt;Startup&gt;();
}
</span></code></pre>
<h2 data-id="configureappconfiguration">ConfigureAppConfiguration<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configureappconfiguration" aria-labelledby="configureappconfiguration"></a></h2>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration providers in addition to those added automatically by <code>CreateDefaultBuilder</code>:</p>
<div class="codeHeader" id="code-try-70" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="20" data-author-content="public class Program
{
    public static Dictionary&lt;string, string&gt; arrayDict = 
        new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

    public static void Main(string[] args)
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;
        WebHost.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    &quot;json_array.json&quot;, optional: false, reloadOnChange: false);
                config.AddJsonFile(
                    &quot;starship.json&quot;, optional: false, reloadOnChange: false);
                config.AddXmlFile(
                    &quot;tvshow.xml&quot;, optional: false, reloadOnChange: false);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(&quot;InMemoryDb&quot;));
                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; arrayDict = 
        <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IWebHostBuilder <span class="hljs-title">CreateWebHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        WebHost.CreateDefaultBuilder(args)</span>
<mark>            .ConfigureAppConfiguration((hostingContext, config) =&gt;</mark>
<span>            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    <span class="hljs-string">"json_array.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddJsonFile(
                    <span class="hljs-string">"starship.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddXmlFile(
                    <span class="hljs-string">"tvshow.xml"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(<span class="hljs-string">"InMemoryDb"</span>));
                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
</span></code></pre><h3 data-id="override-previous-configuration-with-command-line-arguments">Override previous configuration with command-line arguments<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#override-previous-configuration-with-command-line-arguments" aria-labelledby="override-previous-configuration-with-command-line-arguments"></a></h3>
<p>To provide app configuration that can be overridden with command-line arguments, call <code>AddCommandLine</code> last:</p>
<div class="codeHeader" id="code-try-71" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    // Call other providers here
    config.AddCommandLine(args);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    <span class="hljs-comment">// Call other providers here</span>
    config.AddCommandLine(args);
})
</span></code></pre>
<h3 data-id="remove-providers-added-by-createdefaultbuilder">Remove providers added by CreateDefaultBuilder<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#remove-providers-added-by-createdefaultbuilder" aria-labelledby="remove-providers-added-by-createdefaultbuilder"></a></h3>
<p>To remove the providers added by <code>CreateDefaultBuilder</code>, call <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.icollection-1.clear" data-linktype="absolute-path">Clear</a> on the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationbuilder.sources#Microsoft_Extensions_Configuration_IConfigurationBuilder_Sources" data-linktype="absolute-path">IConfigurationBuilder.Sources</a> first:</p>
<div class="codeHeader" id="code-try-72" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.Sources.Clear();
    // Add providers here
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.Sources.Clear();
    <span class="hljs-comment">// Add providers here</span>
})
</span></code></pre>
<h3 data-id="consume-configuration-during-app-startup">Consume configuration during app startup<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#consume-configuration-during-app-startup" aria-labelledby="consume-configuration-during-app-startup"></a></h3>
<p>Configuration supplied to the app in <code>ConfigureAppConfiguration</code> is available during the app's startup, including <code>Startup.ConfigureServices</code>. For more information, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-during-startup" data-linktype="self-bookmark">Access configuration during startup</a> section.</p>
<h2 data-id="command-line-configuration-provider">Command-line Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line-configuration-provider" aria-labelledby="command-line-configuration-provider"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandline.commandlineconfigurationprovider" data-linktype="absolute-path">CommandLineConfigurationProvider</a> loads configuration from command-line argument key-value pairs at runtime.</p>
<p>To activate command-line configuration, the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandlineconfigurationextensions.addcommandline" data-linktype="absolute-path">AddCommandLine</a> extension method is called on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p><code>AddCommandLine</code> is automatically called when <code>CreateDefaultBuilder(string [])</code> is called. For more information, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" data-linktype="self-bookmark">Default configuration</a> section.</p>
<p><code>CreateDefaultBuilder</code> also loads:</p>
<ul>
<li>Optional configuration from <em>appsettings.json</em> and <em>appsettings.{Environment}.json</em> files.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">User secrets (Secret Manager)</a> in the Development environment.</li>
<li>Environment variables.</li>
</ul>
<p><code>CreateDefaultBuilder</code> adds the Command-line Configuration Provider last. Command-line arguments passed at runtime override configuration set by the other providers.</p>
<p><code>CreateDefaultBuilder</code> acts when the host is constructed. Therefore, command-line configuration activated by <code>CreateDefaultBuilder</code> can affect how the host is configured.</p>
<p>For apps based on the ASP.NET Core templates, <code>AddCommandLine</code> has already been called by <code>CreateDefaultBuilder</code>. To add additional configuration providers and maintain the ability to override configuration from those providers with command-line arguments, call the app's additional providers in <code>ConfigureAppConfiguration</code> and call <code>AddCommandLine</code> last.</p>
<div class="codeHeader" id="code-try-73" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    // Call other providers here
    config.AddCommandLine(args);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    <span class="hljs-comment">// Call other providers here</span>
    config.AddCommandLine(args);
})
</span></code></pre>
<p><strong>Example</strong></p>
<p>The sample app takes advantage of the static convenience method <code>CreateDefaultBuilder</code> to build the host, which includes a call to <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandlineconfigurationextensions.addcommandline" data-linktype="absolute-path">AddCommandLine</a>.</p>
<ol>
<li>Open a command prompt in the project's directory.</li>
<li>Supply a command-line argument to the <code>dotnet run</code> command, <code>dotnet run CommandLineKey=CommandLineValue</code>.</li>
<li>After the app is running, open a browser to the app at <code>http://localhost:5000</code>.</li>
<li>Observe that the output contains the key-value pair for the configuration command-line argument provided to <code>dotnet run</code>.</li>
</ol>
<h3 data-id="arguments">Arguments<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#arguments" aria-labelledby="arguments"></a></h3>
<p>The value must follow an equals sign (<code>=</code>), or the key must have a prefix (<code>--</code> or <code>/</code>) when the value follows a space. The value isn't required if an equals sign is used (for example, <code>CommandLineKey=</code>).</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 5</caption>
<thead>
<tr>
<th>Key prefix</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>No prefix</td>
<td><code>CommandLineKey1=value1</code></td>
</tr>
<tr>
<td>Two dashes (<code>--</code>)</td>
<td><code>--CommandLineKey2=value2</code>, <code>--CommandLineKey2 value2</code></td>
</tr>
<tr>
<td>Forward slash (<code>/</code>)</td>
<td><code>/CommandLineKey3=value3</code>, <code>/CommandLineKey3 value3</code></td>
</tr>
</tbody>
</table></div>
<p>Within the same command, don't mix command-line argument key-value pairs that use an equals sign with key-value pairs that use a space.</p>
<p>Example commands:</p>
<div class="codeHeader" id="code-try-74" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run CommandLineKey1=value1 --CommandLineKey2=value2 /CommandLineKey3=value3
dotnet run --CommandLineKey1 value1 /CommandLineKey2 value2
dotnet run CommandLineKey1= CommandLineKey2=value2
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span> CommandLineKey1=value1<span class="hljs-parameter"> --CommandLineKey</span>2=value2 /CommandLineKey3=value3
<span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span><span class="hljs-parameter"> --CommandLineKey</span>1 value1 /CommandLineKey2 value2
<span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span> CommandLineKey1= CommandLineKey2=value2
</span></code></pre>
<h3 data-id="switch-mappings-1">Switch mappings<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#switch-mappings-1" aria-labelledby="switch-mappings-1"></a></h3>
<p>Switch mappings allow key name replacement logic. When manually building configuration with a <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>, provide a dictionary of switch replacements to the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.commandlineconfigurationextensions.addcommandline" data-linktype="absolute-path">AddCommandLine</a> method.</p>
<p>When the switch mappings dictionary is used, the dictionary is checked for a key that matches the key provided by a command-line argument. If the command-line key is found in the dictionary, the dictionary value (the key replacement) is passed back to set the key-value pair into the app's configuration. A switch mapping is required for any command-line key prefixed with a single dash (<code>-</code>).</p>
<p>Switch mappings dictionary key rules:</p>
<ul>
<li>Switches must start with a dash (<code>-</code>) or double-dash (<code>--</code>).</li>
<li>The switch mappings dictionary must not contain duplicate keys.</li>
</ul>
<p>Create a switch mappings dictionary. In the following example, two switch mappings are created:</p>
<div class="codeHeader" id="code-try-75" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public static readonly Dictionary&lt;string, string&gt; _switchMappings = 
    new Dictionary&lt;string, string&gt;
    {
        { &quot;-CLKey1&quot;, &quot;CommandLineKey1&quot; },
        { &quot;-CLKey2&quot;, &quot;CommandLineKey2&quot; }
    };
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; _switchMappings = 
    <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
    {
        { <span class="hljs-string">"-CLKey1"</span>, <span class="hljs-string">"CommandLineKey1"</span> },
        { <span class="hljs-string">"-CLKey2"</span>, <span class="hljs-string">"CommandLineKey2"</span> }
    };
</span></code></pre>
<p>When the host is built, call <code>AddCommandLine</code> with the switch mappings dictionary:</p>
<div class="codeHeader" id="code-try-76" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddCommandLine(args, _switchMappings);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddCommandLine(args, _switchMappings);
})
</span></code></pre>
<p>For apps that use switch mappings, the call to <code>CreateDefaultBuilder</code> shouldn't pass arguments. The <code>CreateDefaultBuilder</code> method's <code>AddCommandLine</code> call doesn't include mapped switches, and there's no way to pass the switch mapping dictionary to <code>CreateDefaultBuilder</code>. The solution isn't to pass the arguments to <code>CreateDefaultBuilder</code> but instead to allow the <code>ConfigurationBuilder</code> method's <code>AddCommandLine</code> method to process both the arguments and the switch mapping dictionary.</p>
<p>After the switch mappings dictionary is created, it contains the data shown in the following table.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 6</caption>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-CLKey1</code></td>
<td><code>CommandLineKey1</code></td>
</tr>
<tr>
<td><code>-CLKey2</code></td>
<td><code>CommandLineKey2</code></td>
</tr>
</tbody>
</table></div>
<p>If the switch-mapped keys are used when starting the app, configuration receives the configuration value on the key supplied by the dictionary:</p>
<div class="codeHeader" id="code-try-77" data-bi-name="code-header"><span class="language">.NET Core CLI</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-dotnetcli" data-author-content="dotnet run -CLKey1=value1 -CLKey2=value2
"><span><span class="hljs-keyword">dotnet</span> <span class="hljs-keyword">run</span><span class="hljs-parameter"> -CLKey</span>1=value1<span class="hljs-parameter"> -CLKey</span>2=value2
</span></code></pre>
<p>After running the preceding command, configuration contains the values shown in the following table.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 7</caption>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CommandLineKey1</code></td>
<td><code>value1</code></td>
</tr>
<tr>
<td><code>CommandLineKey2</code></td>
<td><code>value2</code></td>
</tr>
</tbody>
</table></div>
<h2 data-id="environment-variables-configuration-provider">Environment Variables Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables-configuration-provider" aria-labelledby="environment-variables-configuration-provider"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.environmentvariables.environmentvariablesconfigurationprovider" data-linktype="absolute-path">EnvironmentVariablesConfigurationProvider</a> loads configuration from environment variable key-value pairs at runtime.</p>
<p>To activate environment variables configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.environmentvariablesextensions.addenvironmentvariables" data-linktype="absolute-path">AddEnvironmentVariables</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p>The <code>:</code> separator doesn't work with environment variable hierarchical keys on all platforms. <code>__</code>, the double underscore, is:</p>
<ul>
<li>Supported by all platforms. For example, the <code>:</code> separator is not supported by <a href="https://linuxhint.com/bash-environment-variables/" data-linktype="external">Bash</a>, but <code>__</code> is.</li>
<li>Automatically replaced by a <code>:</code></li>
</ul>

<p><a href="https://azure.microsoft.com/services/app-service/" data-linktype="external">Azure App Service</a> permits setting environment variables in the Azure Portal that can override app configuration using the Environment Variables Configuration Provider. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/azure-apps/?view=aspnetcore-3.1#override-app-configuration-using-the-azure-portal" data-linktype="relative-path">Azure Apps: Override app configuration using the Azure Portal</a>.</p>
<p><code>AddEnvironmentVariables</code> is used to load environment variables prefixed with <code>ASPNETCORE_</code> for <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#host-versus-app-configuration" data-linktype="self-bookmark">host configuration</a> when a new host builder is initialized with the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/web-host?view=aspnetcore-3.1" data-linktype="relative-path">Web Host</a> and <code>CreateDefaultBuilder</code> is called. For more information, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" data-linktype="self-bookmark">Default configuration</a> section.</p>
<p><code>CreateDefaultBuilder</code> also loads:</p>
<ul>
<li>App configuration from unprefixed environment variables by calling <code>AddEnvironmentVariables</code> without a prefix.</li>
<li>Optional configuration from <em>appsettings.json</em> and <em>appsettings.{Environment}.json</em> files.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">User secrets (Secret Manager)</a> in the Development environment.</li>
<li>Command-line arguments.</li>
</ul>
<p>The Environment Variables Configuration Provider is called after configuration is established from user secrets and <em>appsettings</em> files. Calling the provider in this position allows the environment variables read at runtime to override configuration set by user secrets and <em>appsettings</em> files.</p>
<p>To provide app configuration from additional environment variables, call the app's additional providers in <code>ConfigureAppConfiguration</code> and call <code>AddEnvironmentVariables</code> with the prefix:</p>
<div class="codeHeader" id="code-try-78" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddEnvironmentVariables(prefix: &quot;PREFIX_&quot;);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddEnvironmentVariables(prefix: <span class="hljs-string">"PREFIX_"</span>);
})
</span></code></pre>
<p>Call <code>AddEnvironmentVariables</code> last to allow environment variables with the given prefix to override values from other providers.</p>
<p><strong>Example</strong></p>
<p>The sample app takes advantage of the static convenience method <code>CreateDefaultBuilder</code> to build the host, which includes a call to <code>AddEnvironmentVariables</code>.</p>
<ol>
<li>Run the sample app. Open a browser to the app at <code>http://localhost:5000</code>.</li>
<li>Observe that the output contains the key-value pair for the environment variable <code>ENVIRONMENT</code>. The value reflects the environment in which the app is running, typically <code>Development</code> when running locally.</li>
</ol>
<p>To keep the list of environment variables rendered by the app short, the app filters environment variables. See the sample app's <em>Pages/Index.cshtml.cs</em> file.</p>
<p>To expose all of the environment variables available to the app, change the <code>FilteredConfiguration</code> in <em>Pages/Index.cshtml.cs</em> to the following:</p>
<div class="codeHeader" id="code-try-79" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="FilteredConfiguration = _config.AsEnumerable();
"><span>FilteredConfiguration = _config.AsEnumerable();
</span></code></pre>
<h3 data-id="prefixes">Prefixes<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#prefixes" aria-labelledby="prefixes"></a></h3>
<p>Environment variables loaded into the app's configuration are filtered when supplying a prefix to the <code>AddEnvironmentVariables</code> method. For example, to filter environment variables on the prefix <code>CUSTOM_</code>, supply the prefix to the configuration provider:</p>
<div class="codeHeader" id="code-try-80" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var config = new ConfigurationBuilder()
    .AddEnvironmentVariables(&quot;CUSTOM_&quot;)
    .Build();
"><span><span class="hljs-keyword">var</span> config = <span class="hljs-keyword">new</span> ConfigurationBuilder()
    .AddEnvironmentVariables(<span class="hljs-string">"CUSTOM_"</span>)
    .Build();
</span></code></pre>
<p>The prefix is stripped off when the configuration key-value pairs are created.</p>
<p>When the host builder is created, host configuration is provided by environment variables. For more information on the prefix used for these environment variables, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" data-linktype="self-bookmark">Default configuration</a> section.</p>
<p><strong>Connection string prefixes</strong></p>
<p>The Configuration API has special processing rules for four connection string environment variables involved in configuring Azure connection strings for the app environment. Environment variables with the prefixes shown in the table are loaded into the app if no prefix is supplied to <code>AddEnvironmentVariables</code>.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 8</caption>
<thead>
<tr>
<th>Connection string prefix</th>
<th>Provider</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CUSTOMCONNSTR_</code></td>
<td>Custom provider</td>
</tr>
<tr>
<td><code>MYSQLCONNSTR_</code></td>
<td><a href="https://www.mysql.com/" data-linktype="external">MySQL</a></td>
</tr>
<tr>
<td><code>SQLAZURECONNSTR_</code></td>
<td><a href="https://azure.microsoft.com/services/sql-database/" data-linktype="external">Azure SQL Database</a></td>
</tr>
<tr>
<td><code>SQLCONNSTR_</code></td>
<td><a href="https://www.microsoft.com/sql-server/" data-linktype="external">SQL Server</a></td>
</tr>
</tbody>
</table></div>
<p>When an environment variable is discovered and loaded into configuration with any of the four prefixes shown in the table:</p>
<ul>
<li>The configuration key is created by removing the environment variable prefix and adding a configuration key section (<code>ConnectionStrings</code>).</li>
<li>A new configuration key-value pair is created that represents the database connection provider (except for <code>CUSTOMCONNSTR_</code>, which has no stated provider).</li>
</ul>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 9</caption>
<thead>
<tr>
<th>Environment variable key</th>
<th>Converted configuration key</th>
<th>Provider configuration entry</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CUSTOMCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Configuration entry not created.</td>
</tr>
<tr>
<td><code>MYSQLCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>MySql.Data.MySqlClient</code></td>
</tr>
<tr>
<td><code>SQLAZURECONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>System.Data.SqlClient</code></td>
</tr>
<tr>
<td><code>SQLCONNSTR_{KEY}</code></td>
<td><code>ConnectionStrings:{KEY}</code></td>
<td>Key: <code>ConnectionStrings:{KEY}_ProviderName</code>:<br>Value: <code>System.Data.SqlClient</code></td>
</tr>
</tbody>
</table></div>
<p><strong>Example</strong></p>
<p>A custom connection string environment variable is created on the server:</p>
<ul>
<li>Name  <code>CUSTOMCONNSTR_ReleaseDB</code></li>
<li>Value  <code>Data Source=ReleaseSQLServer;Initial Catalog=MyReleaseDB;Integrated Security=True</code></li>
</ul>
<p>If <code>IConfiguration</code> is injected and assigned to a field named <code>_config</code>, read the value:</p>
<div class="codeHeader" id="code-try-81" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="_config[&quot;ConnectionStrings:ReleaseDB&quot;]
"><span>_config[<span class="hljs-string">"ConnectionStrings:ReleaseDB"</span>]
</span></code></pre>
<h2 data-id="file-configuration-provider-1">File Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider-1" aria-labelledby="file-configuration-provider-1"></a></h2>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.fileconfigurationprovider" data-linktype="absolute-path">FileConfigurationProvider</a> is the base class for loading configuration from the file system. The following configuration providers are dedicated to specific file types:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#ini-configuration-provider" data-linktype="self-bookmark">INI Configuration Provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#json-configuration-provider" data-linktype="self-bookmark">JSON Configuration Provider</a></li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#xml-configuration-provider" data-linktype="self-bookmark">XML Configuration Provider</a></li>
</ul>
<h3 data-id="ini-configuration-provider-1">INI Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#ini-configuration-provider-1" aria-labelledby="ini-configuration-provider-1"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.ini.iniconfigurationprovider" data-linktype="absolute-path">IniConfigurationProvider</a> loads configuration from INI file key-value pairs at runtime.</p>
<p>To activate INI file configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iniconfigurationextensions.addinifile" data-linktype="absolute-path">AddIniFile</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p>The colon can be used to as a section delimiter in INI file configuration.</p>
<p>Overloads permit specifying:</p>
<ul>
<li>Whether the file is optional.</li>
<li>Whether the configuration is reloaded if the file changes.</li>
<li>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.fileproviders.ifileprovider" data-linktype="absolute-path">IFileProvider</a> used to access the file.</li>
</ul>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration:</p>
<div class="codeHeader" id="code-try-82" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddIniFile(
        &quot;config.ini&quot;, optional: true, reloadOnChange: true);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddIniFile(
        <span class="hljs-string">"config.ini"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);
})
</span></code></pre>
<p>A generic example of an INI configuration file:</p>
<div class="codeHeader" id="code-try-83" data-bi-name="code-header"><span class="language">ini</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-ini" data-author-content="[section0]
key0=value
key1=value

[section1]
subsection:key=value

[section2:subsection0]
key=value

[section2:subsection1]
key=value
"><span><span class="hljs-section">[section0]</span>
<span class="hljs-attr">key0</span>=value
<span class="hljs-attr">key1</span>=value
<span class="hljs-section">
[section1]</span>
subsection:key=value
<span class="hljs-section">
[section2:subsection0]</span>
<span class="hljs-attr">key</span>=value
<span class="hljs-section">
[section2:subsection1]</span>
<span class="hljs-attr">key</span>=value
</span></code></pre>
<p>The previous configuration file loads the following keys with <code>value</code>:</p>
<ul>
<li>section0:key0</li>
<li>section0:key1</li>
<li>section1:subsection:key</li>
<li>section2:subsection0:key</li>
<li>section2:subsection1:key</li>
</ul>
<h3 data-id="json-configuration-provider-1">JSON Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#json-configuration-provider-1" aria-labelledby="json-configuration-provider-1"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.json.jsonconfigurationprovider" data-linktype="absolute-path">JsonConfigurationProvider</a> loads configuration from JSON file key-value pairs during runtime.</p>
<p>To activate JSON file configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.jsonconfigurationextensions.addjsonfile" data-linktype="absolute-path">AddJsonFile</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p>Overloads permit specifying:</p>
<ul>
<li>Whether the file is optional.</li>
<li>Whether the configuration is reloaded if the file changes.</li>
<li>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.fileproviders.ifileprovider" data-linktype="absolute-path">IFileProvider</a> used to access the file.</li>
</ul>
<p><code>AddJsonFile</code> is automatically called twice when a new host builder is initialized with <code>CreateDefaultBuilder</code>. The method is called to load configuration from:</p>
<ul>
<li><em>appsettings.json</em>  This file is read first. The environment version of the file can override the values provided by the <em>appsettings.json</em> file.</li>
<li><em>appsettings.{Environment}.json</em>  The environment version of the file is loaded based on the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.ihostingenvironment.environmentname" data-linktype="absolute-path">IHostingEnvironment.EnvironmentName</a>.</li>
</ul>
<p>For more information, see the <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration" data-linktype="self-bookmark">Default configuration</a> section.</p>
<p><code>CreateDefaultBuilder</code> also loads:</p>
<ul>
<li>Environment variables.</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-3.1" data-linktype="relative-path">User secrets (Secret Manager)</a> in the Development environment.</li>
<li>Command-line arguments.</li>
</ul>
<p>The JSON Configuration Provider is established first. Therefore, user secrets, environment variables, and command-line arguments override configuration set by the <em>appsettings</em> files.</p>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration for files other than <em>appsettings.json</em> and <em>appsettings.{Environment}.json</em>:</p>
<div class="codeHeader" id="code-try-84" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddJsonFile(
        &quot;config.json&quot;, optional: true, reloadOnChange: true);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddJsonFile(
        <span class="hljs-string">"config.json"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);
})
</span></code></pre>
<p><strong>Example</strong></p>
<p>The sample app takes advantage of the static convenience method <code>CreateDefaultBuilder</code> to build the host, which includes two calls to <code>AddJsonFile</code>:</p>
<ul>
<li><p>The first call to <code>AddJsonFile</code> loads configuration from <em>appsettings.json</em>:</p>
<div class="codeHeader" id="code-try-85" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Warning&quot;
    }
  },
  &quot;AllowedHosts&quot;: &quot;*&quot;
}
"><span>{
  <span class="hljs-attr">"Logging"</span>: {
    <span class="hljs-attr">"LogLevel"</span>: {
      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Warning"</span>
    }
  },
  <span class="hljs-attr">"AllowedHosts"</span>: <span class="hljs-string">"*"</span>
}
</span></code></pre></li>
<li><p>The second call to <code>AddJsonFile</code> loads configuration from <em>appsettings.{Environment}.json</em>. For <em>appsettings.Development.json</em> in the sample app, the following file is loaded:</p>
<div class="codeHeader" id="code-try-86" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Debug&quot;,
      &quot;System&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Information&quot;
    }
  }
}
"><span>{
  <span class="hljs-attr">"Logging"</span>: {
    <span class="hljs-attr">"LogLevel"</span>: {
      <span class="hljs-attr">"Default"</span>: <span class="hljs-string">"Debug"</span>,
      <span class="hljs-attr">"System"</span>: <span class="hljs-string">"Information"</span>,
      <span class="hljs-attr">"Microsoft"</span>: <span class="hljs-string">"Information"</span>
    }
  }
}
</span></code></pre></li>
</ul>
<ol>
<li>Run the sample app. Open a browser to the app at <code>http://localhost:5000</code>.</li>
<li>The output contains key-value pairs for the configuration based on the app's environment. The log level for the key <code>Logging:LogLevel:Default</code> is <code>Debug</code> when running the app in the Development environment.</li>
<li>Run the sample app again in the Production environment:
<ol>
<li>Open the <em>Properties/launchSettings.json</em> file.</li>
<li>In the <code>ConfigurationSample</code> profile, change the value of the <code>ASPNETCORE_ENVIRONMENT</code> environment variable to <code>Production</code>.</li>
<li>Save the file and run the app with <code>dotnet run</code> in a command shell.</li>
</ol>
</li>
<li>The settings in the <em>appsettings.Development.json</em> no longer override the settings in <em>appsettings.json</em>. The log level for the key <code>Logging:LogLevel:Default</code> is <code>Warning</code>.</li>
</ol>
<h3 data-id="xml-configuration-provider-1">XML Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#xml-configuration-provider-1" aria-labelledby="xml-configuration-provider-1"></a></h3>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.xml.xmlconfigurationprovider" data-linktype="absolute-path">XmlConfigurationProvider</a> loads configuration from XML file key-value pairs at runtime.</p>
<p>To activate XML file configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.xmlconfigurationextensions.addxmlfile" data-linktype="absolute-path">AddXmlFile</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p>Overloads permit specifying:</p>
<ul>
<li>Whether the file is optional.</li>
<li>Whether the configuration is reloaded if the file changes.</li>
<li>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.fileproviders.ifileprovider" data-linktype="absolute-path">IFileProvider</a> used to access the file.</li>
</ul>
<p>The root node of the configuration file is ignored when the configuration key-value pairs are created. Don't specify a Document Type Definition (DTD) or namespace in the file.</p>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration:</p>
<div class="codeHeader" id="code-try-87" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddXmlFile(
        &quot;config.xml&quot;, optional: true, reloadOnChange: true);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddXmlFile(
        <span class="hljs-string">"config.xml"</span>, optional: <span class="hljs-literal">true</span>, reloadOnChange: <span class="hljs-literal">true</span>);
})
</span></code></pre>
<p>XML configuration files can use distinct element names for repeating sections:</p>
<div class="codeHeader" id="code-try-88" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;section0&gt;
    &lt;key0&gt;value&lt;/key0&gt;
    &lt;key1&gt;value&lt;/key1&gt;
  &lt;/section0&gt;
  &lt;section1&gt;
    &lt;key0&gt;value&lt;/key0&gt;
    &lt;key1&gt;value&lt;/key1&gt;
  &lt;/section1&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section0</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key0</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key0</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key1</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section0</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key0</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key0</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key1</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key1</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The previous configuration file loads the following keys with <code>value</code>:</p>
<ul>
<li>section0:key0</li>
<li>section0:key1</li>
<li>section1:key0</li>
<li>section1:key1</li>
</ul>
<p>Repeating elements that use the same element name work if the <code>name</code> attribute is used to distinguish the elements:</p>
<div class="codeHeader" id="code-try-89" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;section name=&quot;section0&quot;&gt;
    &lt;key name=&quot;key0&quot;&gt;value&lt;/key&gt;
    &lt;key name=&quot;key1&quot;&gt;value&lt;/key&gt;
  &lt;/section&gt;
  &lt;section name=&quot;section1&quot;&gt;
    &lt;key name=&quot;key0&quot;&gt;value&lt;/key&gt;
    &lt;key name=&quot;key1&quot;&gt;value&lt;/key&gt;
  &lt;/section&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"section0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key0"</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key1"</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"section1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key0"</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"key1"</span>&gt;</span>value<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The previous configuration file loads the following keys with <code>value</code>:</p>
<ul>
<li>section:section0:key:key0</li>
<li>section:section0:key:key1</li>
<li>section:section1:key:key0</li>
<li>section:section1:key:key1</li>
</ul>
<p>Attributes can be used to supply values:</p>
<div class="codeHeader" id="code-try-90" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;key attribute=&quot;value&quot; /&gt;
  &lt;section&gt;
    &lt;key attribute=&quot;value&quot; /&gt;
  &lt;/section&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">attribute</span>=<span class="hljs-string">"value"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span> <span class="hljs-attr">attribute</span>=<span class="hljs-string">"value"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>The previous configuration file loads the following keys with <code>value</code>:</p>
<ul>
<li>key:attribute</li>
<li>section:key:attribute</li>
</ul>
<h2 data-id="key-per-file-configuration-provider-1">Key-per-file Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider-1" aria-labelledby="key-per-file-configuration-provider-1"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.keyperfile.keyperfileconfigurationprovider" data-linktype="absolute-path">KeyPerFileConfigurationProvider</a> uses a directory's files as configuration key-value pairs. The key is the file name. The value contains the file's contents. The Key-per-file Configuration Provider is used in Docker hosting scenarios.</p>
<p>To activate key-per-file configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.keyperfileconfigurationbuilderextensions.addkeyperfile" data-linktype="absolute-path">AddKeyPerFile</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>. The <code>directoryPath</code> to the files must be an absolute path.</p>
<p>Overloads permit specifying:</p>
<ul>
<li>An <code>Action&lt;KeyPerFileConfigurationSource&gt;</code> delegate that configures the source.</li>
<li>Whether the directory is optional and the path to the directory.</li>
</ul>
<p>The double-underscore (<code>__</code>) is used as a configuration key delimiter in file names. For example, the file name <code>Logging__LogLevel__System</code> produces the configuration key <code>Logging:LogLevel:System</code>.</p>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration:</p>
<div class="codeHeader" id="code-try-91" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    var path = Path.Combine(
        Directory.GetCurrentDirectory(), &quot;path/to/files&quot;);
    config.AddKeyPerFile(directoryPath: path, optional: true);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    <span class="hljs-keyword">var</span> path = Path.Combine(
        Directory.GetCurrentDirectory(), <span class="hljs-string">"path/to/files"</span>);
    config.AddKeyPerFile(directoryPath: path, optional: <span class="hljs-literal">true</span>);
})
</span></code></pre>
<h2 data-id="memory-configuration-provider-1">Memory Configuration Provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider-1" aria-labelledby="memory-configuration-provider-1"></a></h2>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.memory.memoryconfigurationprovider" data-linktype="absolute-path">MemoryConfigurationProvider</a> uses an in-memory collection as configuration key-value pairs.</p>
<p>To activate in-memory collection configuration, call the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.memoryconfigurationbuilderextensions.addinmemorycollection" data-linktype="absolute-path">AddInMemoryCollection</a> extension method on an instance of <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbuilder" data-linktype="absolute-path">ConfigurationBuilder</a>.</p>
<p>The configuration provider can be initialized with an <code>IEnumerable&lt;KeyValuePair&lt;String,String&gt;&gt;</code>.</p>
<p>Call <code>ConfigureAppConfiguration</code> when building the host to specify the app's configuration.</p>
<p>In the following example, a configuration dictionary is created:</p>
<div class="codeHeader" id="code-try-92" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public static readonly Dictionary&lt;string, string&gt; _dict = 
    new Dictionary&lt;string, string&gt;
    {
        {&quot;MemoryCollectionKey1&quot;, &quot;value1&quot;},
        {&quot;MemoryCollectionKey2&quot;, &quot;value2&quot;}
    };
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; _dict = 
    <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
    {
        {<span class="hljs-string">"MemoryCollectionKey1"</span>, <span class="hljs-string">"value1"</span>},
        {<span class="hljs-string">"MemoryCollectionKey2"</span>, <span class="hljs-string">"value2"</span>}
    };
</span></code></pre>
<p>The dictionary is used with a call to <code>AddInMemoryCollection</code> to provide the configuration:</p>
<div class="codeHeader" id="code-try-93" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content=".ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddInMemoryCollection(_dict);
})
"><span>.ConfigureAppConfiguration((hostingContext, config) =&gt;
{
    config.AddInMemoryCollection(_dict);
})
</span></code></pre>
<h2 data-id="getvalue-1">GetValue<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getvalue-1" aria-labelledby="getvalue-1"></a></h2>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.getvalue" data-linktype="absolute-path"><code>ConfigurationBinder.GetValue&lt;T&gt;</code></a> extracts a single value from configuration with a specified key and converts it to the specified noncollection type. An overload accepts a default value.</p>
<p>The following example:</p>
<ul>
<li>Extracts the string value from configuration with the key <code>NumberKey</code>. If <code>NumberKey</code> isn't found in the configuration keys, the default value of <code>99</code> is used.</li>
<li>Types the value as an <code>int</code>.</li>
<li>Stores the value in the <code>NumberConfig</code> property for use by the page.</li>
</ul>
<div class="codeHeader" id="code-try-94" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class IndexModel : PageModel
{
    public IndexModel(IConfiguration config)
    {
        _config = config;
    }

    public int NumberConfig { get; private set; }

    public void OnGet()
    {
        NumberConfig = _config.GetValue&lt;int&gt;(&quot;NumberKey&quot;, 99);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IndexModel</span> : <span class="hljs-title">PageModel</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IndexModel</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        _config = config;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> NumberConfig { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnGet</span>(<span class="hljs-params"></span>)</span>
    {
        NumberConfig = _config.GetValue&lt;<span class="hljs-keyword">int</span>&gt;(<span class="hljs-string">"NumberKey"</span>, <span class="hljs-number">99</span>);
    }
}
</span></code></pre>
<h2 data-id="getsection-getchildren-and-exists-1">GetSection, GetChildren, and Exists<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-getchildren-and-exists-1" aria-labelledby="getsection-getchildren-and-exists-1"></a></h2>
<p>For the examples that follow, consider the following JSON file. Four keys are found across two sections, one of which includes a pair of subsections:</p>
<div class="codeHeader" id="code-try-95" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;section0&quot;: {
    &quot;key0&quot;: &quot;value&quot;,
    &quot;key1&quot;: &quot;value&quot;
  },
  &quot;section1&quot;: {
    &quot;key0&quot;: &quot;value&quot;,
    &quot;key1&quot;: &quot;value&quot;
  },
  &quot;section2&quot;: {
    &quot;subsection0&quot; : {
      &quot;key0&quot;: &quot;value&quot;,
      &quot;key1&quot;: &quot;value&quot;
    },
    &quot;subsection1&quot; : {
      &quot;key0&quot;: &quot;value&quot;,
      &quot;key1&quot;: &quot;value&quot;
    }
  }
}
"><span>{
  <span class="hljs-attr">"section0"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
  },
  <span class="hljs-attr">"section1"</span>: {
    <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
    <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
  },
  <span class="hljs-attr">"section2"</span>: {
    <span class="hljs-attr">"subsection0"</span> : {
      <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
      <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
    },
    <span class="hljs-attr">"subsection1"</span> : {
      <span class="hljs-attr">"key0"</span>: <span class="hljs-string">"value"</span>,
      <span class="hljs-attr">"key1"</span>: <span class="hljs-string">"value"</span>
    }
  }
}
</span></code></pre>
<p>When the file is read into configuration, the following unique hierarchical keys are created to hold the configuration values:</p>
<ul>
<li>section0:key0</li>
<li>section0:key1</li>
<li>section1:key0</li>
<li>section1:key1</li>
<li>section2:subsection0:key0</li>
<li>section2:subsection0:key1</li>
<li>section2:subsection1:key0</li>
<li>section2:subsection1:key1</li>
</ul>
<h3 data-id="getsection-1">GetSection<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-1" aria-labelledby="getsection-1"></a></h3>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getsection" data-linktype="absolute-path">IConfiguration.GetSection</a> extracts a configuration subsection with the specified subsection key.</p>
<p>To return an <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection" data-linktype="absolute-path">IConfigurationSection</a> containing only the key-value pairs in <code>section1</code>, call <code>GetSection</code> and supply the section name:</p>
<div class="codeHeader" id="code-try-96" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var configSection = _config.GetSection(&quot;section1&quot;);
"><span><span class="hljs-keyword">var</span> configSection = _config.GetSection(<span class="hljs-string">"section1"</span>);
</span></code></pre>
<p>The <code>configSection</code> doesn't have a value, only a key and a path.</p>
<p>Similarly, to obtain the values for keys in <code>section2:subsection0</code>, call <code>GetSection</code> and supply the section path:</p>
<div class="codeHeader" id="code-try-97" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var configSection = _config.GetSection(&quot;section2:subsection0&quot;);
"><span><span class="hljs-keyword">var</span> configSection = _config.GetSection(<span class="hljs-string">"section2:subsection0"</span>);
</span></code></pre>
<p><code>GetSection</code> never returns <code>null</code>. If a matching section isn't found, an empty <code>IConfigurationSection</code> is returned.</p>
<p>When <code>GetSection</code> returns a matching section, <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.value#Microsoft_Extensions_Configuration_IConfigurationSection_Value" data-linktype="absolute-path">Value</a> isn't populated. A <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.key#Microsoft_Extensions_Configuration_IConfigurationSection_Key" data-linktype="absolute-path">Key</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsection.path#Microsoft_Extensions_Configuration_IConfigurationSection_Path" data-linktype="absolute-path">Path</a> are returned when the section exists.</p>
<h3 data-id="getchildren">GetChildren<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getchildren" aria-labelledby="getchildren"></a></h3>
<p>A call to <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration.getchildren" data-linktype="absolute-path">IConfiguration.GetChildren</a> on <code>section2</code> obtains an <code>IEnumerable&lt;IConfigurationSection&gt;</code> that includes:</p>
<ul>
<li><code>subsection0</code></li>
<li><code>subsection1</code></li>
</ul>
<div class="codeHeader" id="code-try-98" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var configSection = _config.GetSection(&quot;section2&quot;);

var children = configSection.GetChildren();
"><span><span class="hljs-keyword">var</span> configSection = _config.GetSection(<span class="hljs-string">"section2"</span>);

<span class="hljs-keyword">var</span> children = configSection.GetChildren();
</span></code></pre>
<h3 data-id="exists">Exists<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#exists" aria-labelledby="exists"></a></h3>
<p>Use <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationextensions.exists" data-linktype="absolute-path">ConfigurationExtensions.Exists</a> to determine if a configuration section exists:</p>
<div class="codeHeader" id="code-try-99" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var sectionExists = _config.GetSection(&quot;section2:subsection2&quot;).Exists();
"><span><span class="hljs-keyword">var</span> sectionExists = _config.GetSection(<span class="hljs-string">"section2:subsection2"</span>).Exists();
</span></code></pre>
<p>Given the example data, <code>sectionExists</code> is <code>false</code> because there isn't a <code>section2:subsection2</code> section in the configuration data.</p>
<h2 data-id="bind-to-an-object-graph">Bind to an object graph<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-to-an-object-graph" aria-labelledby="bind-to-an-object-graph"></a></h2>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.bind" data-linktype="absolute-path">Bind</a> is capable of binding an entire POCO object graph. As with binding a simple object, only public read/write properties are bound.</p>
<p>The sample contains a <code>TvShow</code> model whose object graph includes <code>Metadata</code> and <code>Actors</code> classes (<em>Models/TvShow.cs</em>):</p>
<div class="codeHeader" id="code-try-100" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class TvShow
{
    public Metadata Metadata { get; set; }
    public Actors Actors { get; set; }
    public string Legal { get; set; }
}

public class Metadata
{
    public string Series { get; set; }
    public string Title { get; set; }
    public DateTime AirDate { get; set; }
    public int Episodes { get; set; }
}

public class Actors
{
    public string Names { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TvShow</span>
{
    <span class="hljs-keyword">public</span> Metadata Metadata { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> Actors Actors { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Legal { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Metadata</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Series { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Title { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> DateTime AirDate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Episodes { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Actors</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Names { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>The sample app has a <em>tvshow.xml</em> file containing the configuration data:</p>
<div class="codeHeader" id="code-try-101" data-bi-name="code-header"><span class="language">XML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-xml" data-author-content="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;tvshow&gt;
    &lt;metadata&gt;
      &lt;series&gt;Dr. Who&lt;/series&gt;
      &lt;title&gt;The Sun Makers&lt;/title&gt;
      &lt;airdate&gt;11/26/1977&lt;/airdate&gt;
      &lt;episodes&gt;4&lt;/episodes&gt;
    &lt;/metadata&gt;
    &lt;actors&gt;
      &lt;names&gt;Tom Baker, Louise Jameson, John Leeson&lt;/names&gt;
    &lt;/actors&gt;
    &lt;legal&gt;(c)1977 BBC https://www.bbc.co.uk/programmes/b006q2x0&lt;/legal&gt;
  &lt;/tvshow&gt;
&lt;/configuration&gt;
"><span><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tvshow</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">metadata</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">series</span>&gt;</span>Dr. Who<span class="hljs-tag">&lt;/<span class="hljs-name">series</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>The Sun Makers<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">airdate</span>&gt;</span>11/26/1977<span class="hljs-tag">&lt;/<span class="hljs-name">airdate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">episodes</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">episodes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">metadata</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">actors</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">names</span>&gt;</span>Tom Baker, Louise Jameson, John Leeson<span class="hljs-tag">&lt;/<span class="hljs-name">names</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">actors</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">legal</span>&gt;</span>(c)1977 BBC https://www.bbc.co.uk/programmes/b006q2x0<span class="hljs-tag">&lt;/<span class="hljs-name">legal</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tvshow</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</span></code></pre>
<p>Configuration is bound to the entire <code>TvShow</code> object graph with the <code>Bind</code> method. The bound instance is assigned to a property for rendering:</p>
<div class="codeHeader" id="code-try-102" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var tvShow = new TvShow();
_config.GetSection(&quot;tvshow&quot;).Bind(tvShow);
TvShow = tvShow;
"><span><span class="hljs-keyword">var</span> tvShow = <span class="hljs-keyword">new</span> TvShow();
_config.GetSection(<span class="hljs-string">"tvshow"</span>).Bind(tvShow);
TvShow = tvShow;
</span></code></pre>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.get" data-linktype="absolute-path"><code>ConfigurationBinder.Get&lt;T&gt;</code></a> binds and returns the specified type. <code>Get&lt;T&gt;</code> is more convenient than using <code>Bind</code>. The following code shows how to use <code>Get&lt;T&gt;</code> with the preceding example:</p>
<div class="codeHeader" id="code-try-103" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="TvShow = _config.GetSection(&quot;tvshow&quot;).Get&lt;TvShow&gt;();
"><span>TvShow = _config.GetSection(<span class="hljs-string">"tvshow"</span>).Get&lt;TvShow&gt;();
</span></code></pre><h2 data-id="bind-an-array-to-a-class">Bind an array to a class<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-an-array-to-a-class" aria-labelledby="bind-an-array-to-a-class"></a></h2>
<p><em>The sample app demonstrates the concepts explained in this section.</em></p>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.bind" data-linktype="absolute-path">Bind</a> supports binding arrays to objects using array indices in configuration keys. Any array format that exposes a numeric key segment (<code>:0:</code>, <code>:1:</code>,  <code>:{n}:</code>) is capable of array binding to a POCO class array.</p>
<div class="alert is-info">
<p class="alert-title"><span class="docon docon-status-error-outline" aria-hidden="true"></span> Note</p>
<p>Binding is provided by convention. Custom configuration providers aren't required to implement array binding.</p>
</div>
<p><strong>In-memory array processing</strong></p>
<p>Consider the configuration keys and values shown in the following table.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 10</caption>
<thead>
<tr>
<th style="text-align: center;">Key</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">array:entries:0</td>
<td style="text-align: center;">value0</td>
</tr>
<tr>
<td style="text-align: center;">array:entries:1</td>
<td style="text-align: center;">value1</td>
</tr>
<tr>
<td style="text-align: center;">array:entries:2</td>
<td style="text-align: center;">value2</td>
</tr>
<tr>
<td style="text-align: center;">array:entries:4</td>
<td style="text-align: center;">value4</td>
</tr>
<tr>
<td style="text-align: center;">array:entries:5</td>
<td style="text-align: center;">value5</td>
</tr>
</tbody>
</table></div>
<p>These keys and values are loaded in the sample app using the Memory Configuration Provider:</p>
<div class="codeHeader" id="code-try-104" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="5-12,22" data-author-content="public class Program
{
    public static Dictionary&lt;string, string&gt; arrayDict = 
        new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

    public static void Main(string[] args)
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;
        WebHost.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    &quot;json_array.json&quot;, optional: false, reloadOnChange: false);
                config.AddJsonFile(
                    &quot;starship.json&quot;, optional: false, reloadOnChange: false);
                config.AddXmlFile(
                    &quot;tvshow.xml&quot;, optional: false, reloadOnChange: false);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(&quot;InMemoryDb&quot;));
                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; arrayDict = 
        <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;</span>
<mark>        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };
</mark>
<span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IWebHostBuilder <span class="hljs-title">CreateWebHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        WebHost.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {</span>
<mark>                config.AddInMemoryCollection(arrayDict);</mark>
<span>                config.AddJsonFile(
                    <span class="hljs-string">"json_array.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddJsonFile(
                    <span class="hljs-string">"starship.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddXmlFile(
                    <span class="hljs-string">"tvshow.xml"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(<span class="hljs-string">"InMemoryDb"</span>));
                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
</span></code></pre>
<p>The array skips a value for index #3. The configuration binder isn't capable of binding null values or creating null entries in bound objects, which becomes clear in a moment when the result of binding this array to an object is demonstrated.</p>
<p>In the sample app, a POCO class is available to hold the bound configuration data:</p>
<div class="codeHeader" id="code-try-105" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class ArrayExample
{
    public string[] Entries { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ArrayExample</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span>[] Entries { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>The configuration data is bound to the object:</p>
<div class="codeHeader" id="code-try-106" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="var arrayExample = new ArrayExample();
_config.GetSection(&quot;array&quot;).Bind(arrayExample);
"><span><span class="hljs-keyword">var</span> arrayExample = <span class="hljs-keyword">new</span> ArrayExample();
_config.GetSection(<span class="hljs-string">"array"</span>).Bind(arrayExample);
</span></code></pre>
<p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationbinder.get" data-linktype="absolute-path"><code>ConfigurationBinder.Get&lt;T&gt;</code></a> syntax can also be used, which results in more compact code:</p>
<div class="codeHeader" id="code-try-107" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="ArrayExample = _config.GetSection(&quot;array&quot;).Get&lt;ArrayExample&gt;();
"><span>ArrayExample = _config.GetSection(<span class="hljs-string">"array"</span>).Get&lt;ArrayExample&gt;();
</span></code></pre>
<p>The bound object, an instance of <code>ArrayExample</code>, receives the array data from configuration.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 11</caption>
<thead>
<tr>
<th style="text-align: center;"><code>ArrayExample.Entries</code> Index</th>
<th style="text-align: center;"><code>ArrayExample.Entries</code> Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">value0</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">value1</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">value2</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">value4</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">value5</td>
</tr>
</tbody>
</table></div>
<p>Index #3 in the bound object holds the configuration data for the <code>array:4</code> configuration key and its value of <code>value4</code>. When configuration data containing an array is bound, the array indices in the configuration keys are merely used to iterate the configuration data when creating the object. A null value can't be retained in configuration data, and a null-valued entry isn't created in a bound object when an array in configuration keys skip one or more indices.</p>
<p>The missing configuration item for index #3 can be supplied before binding to the <code>ArrayExample</code> instance by any configuration provider that produces the correct key-value pair in configuration. If the sample included an additional JSON Configuration Provider with the missing key-value pair, the <code>ArrayExample.Entries</code> matches the complete configuration array:</p>
<p><em>missing_value.json</em>:</p>
<div class="codeHeader" id="code-try-108" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;array:entries:3&quot;: &quot;value3&quot;
}
"><span>{
  <span class="hljs-attr">"array:entries:3"</span>: <span class="hljs-string">"value3"</span>
}
</span></code></pre>
<p>In <code>ConfigureAppConfiguration</code>:</p>
<div class="codeHeader" id="code-try-109" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="config.AddJsonFile(
    &quot;missing_value.json&quot;, optional: false, reloadOnChange: false);
"><span>config.AddJsonFile(
    <span class="hljs-string">"missing_value.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
</span></code></pre>
<p>The key-value pair shown in the table is loaded into configuration.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 12</caption>
<thead>
<tr>
<th style="text-align: center;">Key</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">array:entries:3</td>
<td style="text-align: center;">value3</td>
</tr>
</tbody>
</table></div>
<p>If the <code>ArrayExample</code> class instance is bound after the JSON Configuration Provider includes the entry for index #3, the <code>ArrayExample.Entries</code> array includes the value.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 13</caption>
<thead>
<tr>
<th style="text-align: center;"><code>ArrayExample.Entries</code> Index</th>
<th style="text-align: center;"><code>ArrayExample.Entries</code> Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">value0</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">value1</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">value2</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">value3</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">value4</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">value5</td>
</tr>
</tbody>
</table></div>
<p><strong>JSON array processing</strong></p>
<p>If a JSON file contains an array, configuration keys are created for the array elements with a zero-based section index. In the following configuration file, <code>subsection</code> is an array:</p>
<div class="codeHeader" id="code-try-110" data-bi-name="code-header"><span class="language">JSON</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-json" data-author-content="{
  &quot;json_array&quot;: {
    &quot;key&quot;: &quot;valueA&quot;,
    &quot;subsection&quot;: [
      &quot;valueB&quot;,
      &quot;valueC&quot;,
      &quot;valueD&quot;
    ]
  }
}
"><span>{
  <span class="hljs-attr">"json_array"</span>: {
    <span class="hljs-attr">"key"</span>: <span class="hljs-string">"valueA"</span>,
    <span class="hljs-attr">"subsection"</span>: [
      <span class="hljs-string">"valueB"</span>,
      <span class="hljs-string">"valueC"</span>,
      <span class="hljs-string">"valueD"</span>
    ]
  }
}
</span></code></pre>
<p>The JSON Configuration Provider reads the configuration data into the following key-value pairs:</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 14</caption>
<thead>
<tr>
<th>Key</th>
<th style="text-align: center;">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>json_array:key</td>
<td style="text-align: center;">valueA</td>
</tr>
<tr>
<td>json_array:subsection:0</td>
<td style="text-align: center;">valueB</td>
</tr>
<tr>
<td>json_array:subsection:1</td>
<td style="text-align: center;">valueC</td>
</tr>
<tr>
<td>json_array:subsection:2</td>
<td style="text-align: center;">valueD</td>
</tr>
</tbody>
</table></div>
<p>In the sample app, the following POCO class is available to bind the configuration key-value pairs:</p>
<div class="codeHeader" id="code-try-111" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class JsonArrayExample
{
    public string Key { get; set; }
    public string[] Subsection { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">JsonArrayExample</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Key { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span>[] Subsection { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>After binding, <code>JsonArrayExample.Key</code> holds the value <code>valueA</code>. The subsection values are stored in the POCO array property, <code>Subsection</code>.</p>
<div class="table-scroll-wrapper"><table class="table"><caption class="visually-hidden">Table 15</caption>
<thead>
<tr>
<th style="text-align: center;"><code>JsonArrayExample.Subsection</code> Index</th>
<th style="text-align: center;"><code>JsonArrayExample.Subsection</code> Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">valueB</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">valueC</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">valueD</td>
</tr>
</tbody>
</table></div>
<h2 data-id="custom-configuration-provider-1">Custom configuration provider<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider-1" aria-labelledby="custom-configuration-provider-1"></a></h2>
<p>The sample app demonstrates how to create a basic configuration provider that reads configuration key-value pairs from a database using <a href="https://docs.microsoft.com/en-us/ef/core/" data-linktype="absolute-path">Entity Framework (EF)</a>.</p>
<p>The provider has the following characteristics:</p>
<ul>
<li>The EF in-memory database is used for demonstration purposes. To use a database that requires a connection string, implement a secondary <code>ConfigurationBuilder</code> to supply the connection string from another configuration provider.</li>
<li>The provider reads a database table into configuration at startup. The provider doesn't query the database on a per-key basis.</li>
<li>Reload-on-change isn't implemented, so updating the database after the app starts has no effect on the app's configuration.</li>
</ul>
<p>Define an <code>EFConfigurationValue</code> entity for storing configuration values in the database.</p>
<p><em>Models/EFConfigurationValue.cs</em>:</p>
<div class="codeHeader" id="code-try-112" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationValue
{
    public string Id { get; set; }
    public string Value { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationValue</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>Add an <code>EFConfigurationContext</code> to store and access the configured values.</p>
<p><em>EFConfigurationProvider/EFConfigurationContext.cs</em>:</p>
<div class="codeHeader" id="code-try-113" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationContext : DbContext
{
    public EFConfigurationContext(DbContextOptions options) : base(options)
    {
    }

    public DbSet&lt;EFConfigurationValue&gt; Values { get; set; }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationContext</span> : <span class="hljs-title">DbContext</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationContext</span>(<span class="hljs-params">DbContextOptions options</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">options</span>)</span>
    {
    }

    <span class="hljs-keyword">public</span> DbSet&lt;EFConfigurationValue&gt; Values { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</span></code></pre>
<p>Create a class that implements <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfigurationsource" data-linktype="absolute-path">IConfigurationSource</a>.</p>
<p><em>EFConfigurationProvider/EFConfigurationSource.cs</em>:</p>
<div class="codeHeader" id="code-try-114" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationSource : IConfigurationSource
{
    private readonly Action&lt;DbContextOptionsBuilder&gt; _optionsAction;

    public EFConfigurationSource(Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        _optionsAction = optionsAction;
    }

    public IConfigurationProvider Build(IConfigurationBuilder builder)
    {
        return new EFConfigurationProvider(_optionsAction);
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationSource</span> : <span class="hljs-title">IConfigurationSource</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Action&lt;DbContextOptionsBuilder&gt; _optionsAction;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationSource</span>(<span class="hljs-params">Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        _optionsAction = optionsAction;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> IConfigurationProvider <span class="hljs-title">Build</span>(<span class="hljs-params">IConfigurationBuilder builder</span>)</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> EFConfigurationProvider(_optionsAction);
    }
}
</span></code></pre>
<p>Create the custom configuration provider by inheriting from <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationprovider" data-linktype="absolute-path">ConfigurationProvider</a>. The configuration provider initializes the database when it's empty.</p>
<p><em>EFConfigurationProvider/EFConfigurationProvider.cs</em>:</p>
<div class="codeHeader" id="code-try-115" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class EFConfigurationProvider : ConfigurationProvider
{
    public EFConfigurationProvider(Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        OptionsAction = optionsAction;
    }

    Action&lt;DbContextOptionsBuilder&gt; OptionsAction { get; }

    // Load config data from EF DB.
    public override void Load()
    {
        var builder = new DbContextOptionsBuilder&lt;EFConfigurationContext&gt;();

        OptionsAction(builder);

        using (var dbContext = new EFConfigurationContext(builder.Options))
        {
            dbContext.Database.EnsureCreated();

            Data = !dbContext.Values.Any()
                ? CreateAndSaveDefaultValues(dbContext)
                : dbContext.Values.ToDictionary(c =&gt; c.Id, c =&gt; c.Value);
        }
    }

    private static IDictionary&lt;string, string&gt; CreateAndSaveDefaultValues(
        EFConfigurationContext dbContext)
    {
        // Quotes (c)2005 Universal Pictures: Serenity
        // https://www.uphe.com/movies/serenity
        var configValues = 
            new Dictionary&lt;string, string&gt;(StringComparer.OrdinalIgnoreCase)
            {
                { &quot;quote1&quot;, &quot;I aim to misbehave.&quot; },
                { &quot;quote2&quot;, &quot;I swallowed a bug.&quot; },
                { &quot;quote3&quot;, &quot;You can&#39;t stop the signal, Mal.&quot; }
            };

        dbContext.Values.AddRange(configValues
            .Select(kvp =&gt; new EFConfigurationValue 
                {
                    Id = kvp.Key,
                    Value = kvp.Value
                })
            .ToArray());

        dbContext.SaveChanges();

        return configValues;
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EFConfigurationProvider</span> : <span class="hljs-title">ConfigurationProvider</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EFConfigurationProvider</span>(<span class="hljs-params">Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        OptionsAction = optionsAction;
    }

    Action&lt;DbContextOptionsBuilder&gt; OptionsAction { <span class="hljs-keyword">get</span>; }

    <span class="hljs-comment">// Load config data from EF DB.</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Load</span>(<span class="hljs-params"></span>)</span>
    {
        <span class="hljs-keyword">var</span> builder = <span class="hljs-keyword">new</span> DbContextOptionsBuilder&lt;EFConfigurationContext&gt;();

        OptionsAction(builder);

        <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> dbContext = <span class="hljs-keyword">new</span> EFConfigurationContext(builder.Options))
        {
            dbContext.Database.EnsureCreated();

            Data = !dbContext.Values.Any()
                ? CreateAndSaveDefaultValues(dbContext)
                : dbContext.Values.ToDictionary(c =&gt; c.Id, c =&gt; c.Value);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> IDictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; <span class="hljs-title">CreateAndSaveDefaultValues</span>(<span class="hljs-params">
        EFConfigurationContext dbContext</span>)</span>
    {
        <span class="hljs-comment">// Quotes (c)2005 Universal Pictures: Serenity</span>
        <span class="hljs-comment">// https://www.uphe.com/movies/serenity</span>
        <span class="hljs-keyword">var</span> configValues = 
            <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;(StringComparer.OrdinalIgnoreCase)
            {
                { <span class="hljs-string">"quote1"</span>, <span class="hljs-string">"I aim to misbehave."</span> },
                { <span class="hljs-string">"quote2"</span>, <span class="hljs-string">"I swallowed a bug."</span> },
                { <span class="hljs-string">"quote3"</span>, <span class="hljs-string">"You can't stop the signal, Mal."</span> }
            };

        dbContext.Values.AddRange(configValues
            .Select(kvp =&gt; <span class="hljs-keyword">new</span> EFConfigurationValue 
                {
                    Id = kvp.Key,
                    Value = kvp.Value
                })
            .ToArray());

        dbContext.SaveChanges();

        <span class="hljs-keyword">return</span> configValues;
    }
}
</span></code></pre>
<p>An <code>AddEFConfiguration</code> extension method permits adding the configuration source to a <code>ConfigurationBuilder</code>.</p>
<p><em>Extensions/EntityFrameworkExtensions.cs</em>:</p>
<div class="codeHeader" id="code-try-116" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public static class EntityFrameworkExtensions
{
    public static IConfigurationBuilder AddEFConfiguration(
        this IConfigurationBuilder builder, 
        Action&lt;DbContextOptionsBuilder&gt; optionsAction)
    {
        return builder.Add(new EFConfigurationSource(optionsAction));
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EntityFrameworkExtensions</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IConfigurationBuilder <span class="hljs-title">AddEFConfiguration</span>(<span class="hljs-params">
        <span class="hljs-keyword">this</span> IConfigurationBuilder builder, 
        Action&lt;DbContextOptionsBuilder&gt; optionsAction</span>)</span>
    {
        <span class="hljs-keyword">return</span> builder.Add(<span class="hljs-keyword">new</span> EFConfigurationSource(optionsAction));
    }
}
</span></code></pre>
<p>The following code shows how to use the custom <code>EFConfigurationProvider</code> in <em>Program.cs</em>:</p>
<div class="codeHeader" id="code-try-117" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" highlight-lines="29-30" data-author-content="public class Program
{
    public static Dictionary&lt;string, string&gt; arrayDict = 
        new Dictionary&lt;string, string&gt;
        {
            {&quot;array:entries:0&quot;, &quot;value0&quot;},
            {&quot;array:entries:1&quot;, &quot;value1&quot;},
            {&quot;array:entries:2&quot;, &quot;value2&quot;},
            {&quot;array:entries:4&quot;, &quot;value4&quot;},
            {&quot;array:entries:5&quot;, &quot;value5&quot;}
        };

    public static void Main(string[] args)
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;
        WebHost.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    &quot;json_array.json&quot;, optional: false, reloadOnChange: false);
                config.AddJsonFile(
                    &quot;starship.json&quot;, optional: false, reloadOnChange: false);
                config.AddXmlFile(
                    &quot;tvshow.xml&quot;, optional: false, reloadOnChange: false);
                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(&quot;InMemoryDb&quot;));
                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt; arrayDict = 
        <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">string</span>, <span class="hljs-keyword">string</span>&gt;
        {
            {<span class="hljs-string">"array:entries:0"</span>, <span class="hljs-string">"value0"</span>},
            {<span class="hljs-string">"array:entries:1"</span>, <span class="hljs-string">"value1"</span>},
            {<span class="hljs-string">"array:entries:2"</span>, <span class="hljs-string">"value2"</span>},
            {<span class="hljs-string">"array:entries:4"</span>, <span class="hljs-string">"value4"</span>},
            {<span class="hljs-string">"array:entries:5"</span>, <span class="hljs-string">"value5"</span>}
        };

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span>
    {
        CreateWebHostBuilder(args).Build().Run();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> IWebHostBuilder <span class="hljs-title">CreateWebHostBuilder</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> =&gt;
        WebHost.CreateDefaultBuilder(args)
            .ConfigureAppConfiguration((hostingContext, config) =&gt;
            {
                config.AddInMemoryCollection(arrayDict);
                config.AddJsonFile(
                    <span class="hljs-string">"json_array.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddJsonFile(
                    <span class="hljs-string">"starship.json"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);
                config.AddXmlFile(
                    <span class="hljs-string">"tvshow.xml"</span>, optional: <span class="hljs-literal">false</span>, reloadOnChange: <span class="hljs-literal">false</span>);</span>
<mark>                config.AddEFConfiguration(
                    options =&gt; options.UseInMemoryDatabase(<span class="hljs-string">"InMemoryDb"</span>));</mark>
<span>                config.AddCommandLine(args);
            })
            .UseStartup&lt;Startup&gt;();
}
</span></code></pre><h2 data-id="access-configuration-during-startup">Access configuration during startup<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-during-startup" aria-labelledby="access-configuration-during-startup"></a></h2>
<p>Inject <code>IConfiguration</code> into the <code>Startup</code> constructor to access configuration values in <code>Startup.ConfigureServices</code>. To access configuration in <code>Startup.Configure</code>, either inject <code>IConfiguration</code> directly into the method or use the instance from the constructor:</p>
<div class="codeHeader" id="code-try-118" data-bi-name="code-header"><span class="language">C#</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-csharp" data-author-content="public class Startup
{
    private readonly IConfiguration _config;

    public Startup(IConfiguration config)
    {
        _config = config;
    }

    public void ConfigureServices(IServiceCollection services)
    {
        var value = _config[&quot;key&quot;];
    }

    public void Configure(IApplicationBuilder app, IConfiguration config)
    {
        var value = config[&quot;key&quot;];
    }
}
"><span><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Startup</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IConfiguration _config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Startup</span>(<span class="hljs-params">IConfiguration config</span>)</span>
    {
        _config = config;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureServices</span>(<span class="hljs-params">IServiceCollection services</span>)</span>
    {
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">value</span> = _config[<span class="hljs-string">"key"</span>];
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Configure</span>(<span class="hljs-params">IApplicationBuilder app, IConfiguration config</span>)</span>
    {
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">value</span> = config[<span class="hljs-string">"key"</span>];
    }
}
</span></code></pre>
<p>For an example of accessing configuration using startup convenience methods, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-3.1#convenience-methods" data-linktype="relative-path">App startup: Convenience methods</a>.</p>
<h2 data-id="access-configuration-in-a-razor-pages-page-or-mvc-view">Access configuration in a Razor Pages page or MVC view<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-a-razor-pages-page-or-mvc-view" aria-labelledby="access-configuration-in-a-razor-pages-page-or-mvc-view"></a></h2>
<p>To access configuration settings in a Razor Pages page or an MVC view, add a <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor?view=aspnetcore-3.1#using" data-linktype="relative-path">using directive</a> (<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive" data-linktype="absolute-path">C# reference: using directive</a>) for the <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration" data-linktype="absolute-path">Microsoft.Extensions.Configuration namespace</a> and inject <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration" data-linktype="absolute-path">IConfiguration</a> into the page or view.</p>
<p>In a Razor Pages page:</p>
<div class="codeHeader" id="code-try-119" data-bi-name="code-header"><span class="language">CSHTML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-cshtml" data-author-content="@page
@model IndexModel
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;title&gt;Index Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Access configuration in a Razor Pages page&lt;/h1&gt;
    &lt;p&gt;Configuration value for &#39;key&#39;: @Configuration[&quot;key&quot;]&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
"><span><span class="xml"></span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">page</span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@model</span><span class="hljs-type"> IndexModel</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@using</span><span class="hljs-type"> Microsoft.Extensions.Configuration</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@inject</span><span class="hljs-type"> IConfiguration Configuration</span></span><span class="xml">

<span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Access configuration in a Razor Pages page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Configuration value for 'key': </span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">Configuration[<span class="hljs-string">"key"</span>]</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</span></span></code></pre>
<p>In an MVC view:</p>
<div class="codeHeader" id="code-try-120" data-bi-name="code-header"><span class="language">CSHTML</span><button type="button" class="action is-relative" data-bi-name="copy" aria-label="Copy code">
				<span class="icon">
					<span class="docon docon-edit-copy" role="presentation"></span>
				</span>
				<span>Copy</span>
				<div class="successful-copy-alert is-absolute has-right-zero has-top-zero has-left-zero has-bottom-zero is-flex has-flex-align-items-center has-flex-justify-content-center has-text-success-invert has-background-success is-transparent" aria-hidden="true">
					<span class="icon is-size-4">
						<span class="docon docon-check-mark" role="presentation"></span>
					</span>
				</div>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-cshtml" data-author-content="@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;title&gt;Index View&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Access configuration in an MVC view&lt;/h1&gt;
    &lt;p&gt;Configuration value for &#39;key&#39;: @Configuration[&quot;key&quot;]&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
"><span><span class="xml"></span><span class="hljs-built_in"><span class="hljs-built_in">@using</span><span class="hljs-type"> Microsoft.Extensions.Configuration</span></span><span class="xml">
</span><span class="hljs-built_in"><span class="hljs-built_in">@inject</span><span class="hljs-type"> IConfiguration Configuration</span></span><span class="xml">

<span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Index View<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Access configuration in an MVC view<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Configuration value for 'key': </span><span class="cs"></span><span class="hljs-built_in">@</span><span class="cs">Configuration[<span class="hljs-string">"key"</span>]</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</span></span></code></pre>
<h2 data-id="add-configuration-from-an-external-assembly-1">Add configuration from an external assembly<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#add-configuration-from-an-external-assembly-1" aria-labelledby="add-configuration-from-an-external-assembly-1"></a></h2>
<p>An <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.hosting.ihostingstartup" data-linktype="absolute-path">IHostingStartup</a> implementation allows adding enhancements to an app at startup from an external assembly outside of the app's <code>Startup</code> class. For more information, see <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/platform-specific-configuration?view=aspnetcore-3.1" data-linktype="relative-path">Use hosting startup assemblies in ASP.NET Core</a>.</p>
<h2 data-id="additional-resources-1">Additional resources<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#additional-resources-1" aria-labelledby="additional-resources-1"></a></h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-3.1" data-linktype="relative-path">Options pattern in ASP.NET Core</a></li>
</ul>
</div>

						<!-- </content> -->

						</main>

						<!-- recommended content page section -->

							<nav data-bi-name="recommendation-bottom" hidden="" id="recommended-content-center" class="is-hidden-desktop" aria-labelledby="recommended-content-center-title">
								<h3 id="recommended-content-center-title" class="is-size-2 has-margin-top-large has-margin-bottom-small">Related Articles</h3>
							</nav>

						<!-- end recommended content page section -->

						<!-- page rating section -->
								<div class="is-hidden-desktop has-border-top has-margin-top-large has-padding-top-small">
									
									
<div class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small" data-bi-name="rating">
    <div class="binary-rating">
        <div class="binary-rating-buttons">
            <h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
            <div>
                <button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" aria-expanded="false" data-bi-sat="1" aria-controls="rating-container-mobile">
                    <span aria-hidden="true" class="icon docon docon-like"></span>
                    <span>Yes</span>
                </button>
                <button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-controls="rating-container-mobile">
                    <span aria-hidden="true" class="icon docon docon-dislike"></span>
                    <span>No</span>
                </button>
            </div>
        </div>
        <form class="feedback-verbatim-form is-hidden" id="rating-container-mobile">
            <div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
                <label for="rating-textarea-mobile" class="visually-hidden">Any additional feedback?</label>
                <textarea id="rating-textarea-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
            </div>
            <div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
                <button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
                <button class="submit-rating button is-primary is-small" data-bi-name="rating-verbatim" disabled="" type="submit">Submit</button>
            </div>
        </form>
    </div>
    <div class="thankyou-rating is-hidden" tabindex="-1">
        <p>Thank you.</p>
    </div>
</div>								</div>
						<!-- end page rating section -->


						<!-- feedback section -->
<section class="feedback-section" data-bi-name="feedback-section">

    <h2 id="feedback">Feedback</h2>

    <div class="alert choose-feedback-type">
        <p aria-hidden="true" id="send-feedback-about">Send feedback about</p>

        <div class="choose-feedback-buttons">
                <a class="button feedback-type-product has-margin-bottom-small" aria-label="Send feedback about this product" href="https://github.com/dotnet/aspnetcore/blob/master/CONTRIBUTING.md" data-bi-name="product-feedback">
                    <span>This product</span>
                    <span aria-hidden="true" class="icon docon docon-navigate-external"></span>
                </a>

            <div class="field is-inline-flex has-margin-bottom-small">
                <div class="control has-margin-top-none has-margin-bottom-none">
                    <button class="button feedback-sign-in-button has-text-wrap" aria-label="Send feedback about this page" data-bi-name="feedback-sign-in">
                        <span aria-hidden="true" class="icon docon docon-brand-github"></span>
                        <span>This page</span>
                    </button>
                </div>
            </div>

            <div class="field is-inline-flex has-margin-bottom-small" hidden="">
                <div class="control has-margin-top-none has-margin-bottom-none">
                    <button aria-controls="feedback-form" aria-describedby="send-feedback-about" aria-expanded="false" class="button feedback-form-toggle" data-bi-name="documentation-feedback">
                        <span aria-hidden="true" class="icon docon docon-brand-github"></span>
This page                        <span aria-hidden="true" class="icon">
                            <span class="expanded-indicator docon docon-chevron-down-light"></span>
                        </span>
                    </button>
                </div>
            </div>
            <p>You may also leave feedback directly on <a data-bi-name="create-issue-on-github" class="github-link" href="https://github.com/dotnet/AspNetCore.Docs/issues/new?title=&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Document%20Details%0A%0A%E2%9A%A0%20*Do%20not%20edit%20this%20section.%20It%20is%20required%20for%20docs.microsoft.com%20%E2%9E%9F%20GitHub%20issue%20linking.*%0A%0A*%20ID%3A%200eb4d762-3910-2c57-8741-3306c15537b6%0A*%20Version%20Independent%20ID%3A%20ba2254a0-ea8e-9b28-e94b-edd0fc58c043%0A*%20Content%3A%20%5BConfiguration%20in%20ASP.NET%20Core%5D(https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Faspnet%2Fcore%2Ffundamentals%2Fconfiguration%2F%3Fview%3Daspnetcore-3.1)%0A*%20Content%20Source%3A%20%5Baspnetcore%2Ffundamentals%2Fconfiguration%2Findex.md%5D(https%3A%2F%2Fgithub.com%2Fdotnet%2FAspNetCore.Docs%2Fblob%2Fmaster%2Faspnetcore%2Ffundamentals%2Fconfiguration%2Findex.md)%0A*%20Product%3A%20**aspnet-core**%0A*%20Technology%3A%20**aspnetcore-fundamentals**%0A*%20GitHub%20Login%3A%20%40Rick-Anderson%0A*%20Microsoft%20Alias%3A%20**riande**">GitHub <span class="docon docon-navigate-external" aria-hidden="true"></span></a>.</p>
        </div>
    </div>

    <form accept-charset="UTF-8" action="javascript:" autocomplete="off" class="feedback-form" hidden="" id="feedback-form">
        <h3 class="feedback-form-heading current-user">
            <img class="avatar" alt="Avatar" width="36" height="36" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9InRyYW5zcGFyZW50IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjwvc3ZnPg==">
            <span aria-hidden="true" class="username"></span>
            <span class="visually-hidden">Send feedback about this page</span>
        </h3>

        <label>
            <span class="visually-hidden">Title</span>
            <input class="input is-radiusless has-margin-bottom-small" name="title" type="text" placeholder="Title" required="" pattern=".*[^\s]+.*">
        </label>
        <label>
            <span class="visually-hidden">Leave a comment</span>
            <textarea name="body" placeholder="Leave a comment" class="textarea is-radiusless" required=""></textarea>
        </label>

        <div class="action-container">
            <button class="button is-primary" name="submit" type="submit">Submit feedback</button>
        </div>
    </form>

    <div class="feedback-status alert is-loading">
        <p>Loading feedback...</p>
    </div>

    <div class="feedback-tab-group tabGroup" data-tab-group-independent="" hidden="" data-bi-name="tab-group">
        <ul role="tablist">
            <li role="presentation">
                <a aria-controls="tabpanel-issues-open" data-tab="issues-open" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#tabpanel-issues-open" role="tab" data-bi-name="tab" aria-selected="true" tabindex="0"></a>
            </li>
            <li role="presentation">
                <a aria-controls="tabpanel-issues-closed" data-tab="issues-closed" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#tabpanel-issues-closed" role="tab" data-bi-name="tab" aria-selected="false" tabindex="-1"></a>
            </li>
        </ul>
        <section data-tab="issues-open" id="tabpanel-issues-open" role="tabpanel">
            <div class="no-issues-placeholder">There are no open issues</div>
            <ul class="github-issues-list" aria-label="Open Issues"></ul>
        </section>
        <section data-tab="issues-closed" id="tabpanel-issues-closed" role="tabpanel" hidden="hidden" aria-hidden="true">
            <div class="no-issues-placeholder">There are no closed issues</div>
            <ul class="github-issues-list" aria-label="Closed Issues"></ul>
        </section>
    </div>
    <div class="action-container">
        <a class="view-on-github" data-bi-name="view-on-github" hidden="" href="https://github.com/dotnet/AspNetCore.Docs/issues?utf8=%E2%9C%93&amp;q=%22ba2254a0-ea8e-9b28-e94b-edd0fc58c043%22&amp;in=body">
            <span aria-hidden="true" class="docon docon-brand-github"></span>
            <span>View on GitHub</span>
            <span aria-hidden="true" class="docon docon-navigate-external"></span>
        </a>
    </div>
</section>

						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

						<div class="footerContainer is-visible-interactive has-default-focus ">
<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">

    <div class="is-flex is-full-height has-padding-right-extra-large-desktop">
		<a data-mscc-ic="false" class="locale-selector-link has-flex-shrink-none" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text">English (United States)</span></a>
		<div class="has-margin-left-medium has-margin-right-medium has-flex-shrink-none">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger" aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="light" aria-pressed="false">
					<span class="theme-light has-margin-right-small">
						<span class="theme-selector-icon css-variable-support has-border is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="dark" aria-pressed="false">
					<span class="theme-dark has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start is-selected" data-theme-to="high-contrast" aria-pressed="true">
					<span class="theme-high-contrast has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>

    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li> Microsoft 2020</li>
    </ul>
</footer>
						</div>
					</div>

					<div class="is-size-7 right-container column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">
						<div id="affixed-right-container" class="doc-outline is-fixed is-vertically-scrollable" style="width: 141.047px; top: 24px; bottom: 24px;">
								
								
<div class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small" data-bi-name="rating">
    <div class="binary-rating">
        <div class="binary-rating-buttons">
            <h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
            <div>
                <button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" aria-expanded="false" data-bi-sat="1" aria-controls="rating-container-desktop">
                    <span aria-hidden="true" class="icon docon docon-like"></span>
                    <span>Yes</span>
                </button>
                <button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-controls="rating-container-desktop">
                    <span aria-hidden="true" class="icon docon docon-dislike"></span>
                    <span>No</span>
                </button>
            </div>
        </div>
        <form class="feedback-verbatim-form is-hidden" id="rating-container-desktop">
            <div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
                <label for="rating-textarea-desktop" class="visually-hidden">Any additional feedback?</label>
                <textarea id="rating-textarea-desktop" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
            </div>
            <div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
                <button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
                <button class="submit-rating button is-primary is-small" data-bi-name="rating-verbatim" disabled="" type="submit">Submit</button>
            </div>
        </form>
    </div>
    <div class="thankyou-rating is-hidden" tabindex="-1">
        <p>Thank you.</p>
    </div>
</div>								<nav data-bi-name="recommendation-sidebar" hidden="" id="recommended-content-nav" role="navigation" aria-labelledby="recommended-content-nav-title">
									<h3 id="recommended-content-nav-title">Related Articles</h3>
								</nav>
							<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
								<h3>In this article</h3>
							<ol><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-configuration">Default configuration</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#security-and-secret-manager">Security and secret manager</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#environment-variables">Environment variables</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#command-line">Command-line</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#hierarchical-configuration-data">Hierarchical configuration data</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-keys-and-values">Configuration keys and values</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#configuration-providers">Configuration providers</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#file-configuration-provider">File configuration provider</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#key-per-file-configuration-provider">Key-per-file configuration provider</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#memory-configuration-provider">Memory configuration provider</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getvalue">GetValue</a></li><li class=""><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#getsection-getchildren-and-exists">GetSection, GetChildren, and Exists</a></li><li class="selected"><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#bind-an-array">Bind an array</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#custom-configuration-provider">Custom configuration provider</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-startup">Access configuration in Startup</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-razor-pages">Access configuration in Razor Pages</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#access-configuration-in-a-mvc-view-file">Access configuration in a MVC view file</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#host-versus-app-configuration">Host versus app configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#default-host-configuration">Default host configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#other-configuration">Other configuration</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#add-configuration-from-an-external-assembly">Add configuration from an external assembly</a></li><li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1#additional-resources">Additional resources</a></li></ol></nav>
						</div>
					</div>

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
		</div>

		<!--end of .mainContainer -->
	</div>

	<div id="openFeedbackContainer" class="openfeedback-container"></div>

	<div class="footerContainer has-default-focus is-hidden-interactive ">
<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">

    <div class="is-flex is-full-height has-padding-right-extra-large-desktop">
		<a data-mscc-ic="false" class="locale-selector-link has-flex-shrink-none" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text">English (United States)</span></a>
		<div class="has-margin-left-medium has-margin-right-medium has-flex-shrink-none">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger" aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="light" aria-pressed="false">
					<span class="theme-light has-margin-right-small">
						<span class="theme-selector-icon css-variable-support has-border is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="dark" aria-pressed="false">
					<span class="theme-dark has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start is-selected" data-theme-to="high-contrast" aria-pressed="true">
					<span class="theme-high-contrast has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>
    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li> Microsoft 2020</li>
    </ul>
</footer>
	</div>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1"></div>


<div class="usabilla_live_button_container" role="button" tabindex="0" style="position: fixed; width: 0px; height: 0px; z-index: 99999990; right: 0px; top: 50%; margin-top: 0px; display: none;" aria-label="Usabilla Feedback Button"><iframe src="./Configuration in ASP.NET Core _ Microsoft Docs_files/saved_resource(1).html" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" data-tags="right" title="Usabilla Feedback Button" style="width: 0px; height: 0px; margin: 0px; padding: 0px; border: 0px; overflow: hidden; z-index: 9998; position: absolute; left: 0px; top: 0px; box-shadow: 0px 0px 0px; background-color: transparent;"></iframe></div></body></html>