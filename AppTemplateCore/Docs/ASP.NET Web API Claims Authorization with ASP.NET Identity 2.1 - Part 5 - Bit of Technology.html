<!DOCTYPE html>
<!-- saved from url=(0096)https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/ -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/amp4ads-host-v0.js.download"></script><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/sdk.js.download" async="" crossorigin="anonymous"></script><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/osd.js.download"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology</title>

<!-- This site is optimized with the Yoast SEO plugin v13.4.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Part 5: Tutorial shows how to implement ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1">
<meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="canonical" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology">
<meta property="og:description" content="Part 5: Tutorial shows how to implement ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1">
<meta property="og:url" content="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/">
<meta property="og:site_name" content="Bit of Technology">
<meta property="article:author" content="https://www.facebook.com/taiseer.joudeh">
<meta property="article:tag" content="Autherization Server">
<meta property="article:tag" content="Claims">
<meta property="article:tag" content="JWT">
<meta property="article:tag" content="OAuth">
<meta property="article:tag" content="Token Authentication">
<meta property="article:section" content="ASP.NET">
<meta property="article:published_time" content="2015-03-30T22:57:49+00:00">
<meta property="article:modified_time" content="2016-08-24T14:05:27+00:00">
<meta property="og:updated_time" content="2016-08-24T14:05:27+00:00">
<meta property="og:image" content="https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage.jpg">
<meta property="og:image:secure_url" content="https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage.jpg">
<meta property="og:image:width" content="640">
<meta property="og:image:height" content="405">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Part 5: Tutorial shows how to implement ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1">
<meta name="twitter:title" content="ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology">
<meta name="twitter:site" content="@tjoudeh">
<meta name="twitter:image" content="https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage.jpg">
<meta name="twitter:creator" content="@tjoudeh">
<script type="text/javascript" async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/recaptcha__en.js.download"></script><script id="twitter-wjs" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/widgets.js.download"></script><script id="facebook-jssdk" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/sdk.js(1).download"></script><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(7).txt"></script><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(8).txt" id="google_shimpl"></script><script async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/analytics.js.download"></script><script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://bitoftech.net/#/schema/person/5ef3e2f1b81a43117eb8c14fc741b1e3","name":"Taiseer Joudeh","image":{"@type":"ImageObject","@id":"https://bitoftech.net/#personlogo","inLanguage":"en-US","url":"https://bitoftech.net/wp-content/uploads/2013/03/HeadShoot.jpg","width":1286,"height":1286,"caption":"Taiseer Joudeh"},"logo":{"@id":"https://bitoftech.net/#personlogo"},"description":"Taiseer Joudeh has more than 8 years of experience spent in developing and managing different software solutions for finance, transportation, logistics, and e-commerce sectors. He has been deeply involved in .NET development since early framework versions and currently he works on different technologies on the ASP.NET stack with deep passion for Web API, and Microsoft Azure.\r\nRecently Taiseer has been focusing on building Single Page Applications and Hybrid Mobile Solutions using AngularJS.\r\nTaiseer lives in Jordan with his wife and son, works as a Senior Team Leader at Aramex, also he is a regular speaker in local events and Dev user groups, he is a frequent blogger on https://bitoftech.net, and you can follow him on twitter @tjoudeh","sameAs":["https://www.facebook.com/taiseer.joudeh","https://twitter.com/tjoudeh"]},{"@type":"WebSite","@id":"https://bitoftech.net/#website","url":"https://bitoftech.net/","name":"Bit of Technology","inLanguage":"en-US","description":".NET, Web API, AngularJS, Azure, and more\u2026","publisher":{"@id":"https://bitoftech.net/#/schema/person/5ef3e2f1b81a43117eb8c14fc741b1e3"},"potentialAction":[{"@type":"SearchAction","target":"https://bitoftech.net/?s={search_term_string}","query-input":"required name=search_term_string"}]},{"@type":"ImageObject","@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#primaryimage","inLanguage":"en-US","url":"https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage.jpg","width":640,"height":405,"caption":"Claims Featured Image"},{"@type":"WebPage","@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#webpage","url":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/","name":"ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology","isPartOf":{"@id":"https://bitoftech.net/#website"},"inLanguage":"en-US","primaryImageOfPage":{"@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#primaryimage"},"datePublished":"2015-03-30T22:57:49+00:00","dateModified":"2016-08-24T14:05:27+00:00","description":"Part 5: Tutorial shows how to implement ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1","potentialAction":[{"@type":"ReadAction","target":["https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/"]}]},{"@type":"Article","@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#article","isPartOf":{"@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#webpage"},"author":{"@id":"https://bitoftech.net/#/schema/person/5ef3e2f1b81a43117eb8c14fc741b1e3"},"headline":"ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 &#8211; Part 5","datePublished":"2015-03-30T22:57:49+00:00","dateModified":"2016-08-24T14:05:27+00:00","commentCount":"323","mainEntityOfPage":{"@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#webpage"},"publisher":{"@id":"https://bitoftech.net/#/schema/person/5ef3e2f1b81a43117eb8c14fc741b1e3"},"image":{"@id":"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#primaryimage"},"keywords":"Autherization Server,Claims,JWT,OAuth,Token Authentication","articleSection":"ASP.NET,ASP.NET Identity,ASP.Net Web API,Web API Security,Web API Tutorial","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#respond"]}]}]}</script>
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="https://www.google.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Bit of Technology » Feed" href="https://bitoftech.net/feed/">
<link rel="alternate" type="application/rss+xml" title="Bit of Technology » Comments Feed" href="https://bitoftech.net/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Bit of Technology » ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5 Comments Feed" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/bitoftech.net\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4"}};
			/*! This file is auto-generated */
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="crayon-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-vs2012-black-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/vs2012-black.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-consolas-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/consolas.css" type="text/css" media="all">
<link rel="stylesheet" id="eleven40-pro-theme-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/style.min.css" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="contact-form-7-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="google-font-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/css(2)" type="text/css" media="all">
<link rel="stylesheet" id="tablepress-default-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/default.min.css" type="text/css" media="all">
<!-- `sharedaddy` is included in the concatenated jetpack.css -->
<link rel="stylesheet" id="social-logos-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/social-logos.min.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/jetpack.css" type="text/css" media="all">
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/jquery.js.download"></script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/jquery-migrate.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/bitoftech.net\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/crayon.min.js.download"></script>
<link rel="https://api.w.org/" href="https://bitoftech.net/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://bitoftech.net/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://bitoftech.net/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.4">
<link rel="shortlink" href="https://bitoftech.net/?p=987">
<link rel="alternate" type="application/json+oembed" href="https://bitoftech.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fbitoftech.net%2F2015%2F03%2F31%2Fasp-net-web-api-claims-authorization-with-asp-net-identity-2-1%2F">
<link rel="alternate" type="text/xml+oembed" href="https://bitoftech.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fbitoftech.net%2F2015%2F03%2F31%2Fasp-net-web-api-claims-authorization-with-asp-net-identity-2-1%2F&amp;format=xml">
<link rel="icon" href="https://bitoftech.net/wp-content/themes/eleven40-pro/images/favicon.ico">
<link rel="pingback" href="https://bitoftech.net/xmlrpc.php">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39917411-1', 'bitoftech.net');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script><style>
.ai-viewport-3                { display: none !important;}
.ai-viewport-2                { display: none !important;}
.ai-viewport-1                { display: inherit !important;}
.ai-viewport-0                { display: none !important;}
@media (min-width: 768px) and (max-width: 979px) {
.ai-viewport-1                { display: none !important;}
.ai-viewport-2                { display: inherit !important;}
}
@media (max-width: 767px) {
.ai-viewport-1                { display: none !important;}
.ai-viewport-3                { display: inherit !important;}
}
</style>
<script type="text/javascript" async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/bsa.js.download"></script><link rel="preload" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(9).txt" as="script"><script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(9).txt"></script><link rel="preload" href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(10).txt" as="script"><script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(10).txt"></script><script type="text/javascript" id="_bsap_js_30768b51b7a9bb130f466a2aceedc374" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/s_30768b51b7a9bb130f466a2aceedc374.js.download" async="async"></script><script charset="utf-8" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/button.93a0c25c2d2f3081c705c98c2d9dec0e.js.download"></script><script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/pro.js.download" id="_bsap_premium_pro"></script><style type="text/css">.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q{display:block!important;border:1px solid #cdcfd2!important;background-color:#fff!important;color:#373a3d!important;width:100vw!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-24GeGuJgk9LrMLp7qVvlyz{background:#6a7e89!important;color:#fff!important;padding:10px!important;font-size:18px!important;font-family:sans-serif!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-KVjdulkCFfUZps29EbgAC{background:#f3f6f8!important;border-bottom:1px solid #cdcfd2!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-KVjdulkCFfUZps29EbgAC>*{margin-right:10px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1OeZ2PQ98oAp6Vc5mMc6V5{list-style:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-vCwYmWF_l83ScZBrGnRoi,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1OeZ2PQ98oAp6Vc5mMc6V5{margin:0!important;padding:0!important;width:100%!important;display:block!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-vCwYmWF_l83ScZBrGnRoi:not(:last-child){border-bottom:1px solid #cdcfd2!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XQZkb-FlHWABUp4_uShaZ{color:inherit!important;cursor:pointer!important;width:100%!important;display:inline-block!important;margin:10px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XTzMvb2XKitWz0mFLlyyp{margin:5px!important;display:block!important;width:auto!important;white-space:pre!important;overflow-x:scroll!important;background:inherit!important;color:inherit!important;font-family:monospace}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XTzMvb2XKitWz0mFLlyyp:not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-39QUvFFn5B7GMcqMQkOXZ3){display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-295DY3nO0DbJWMsOqmjCli{background:#f5f5f5!important;color:#5a5a5a!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1aQZwu6CUzAf2zUcI7tg0Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-295DY3nO0DbJWMsOqmjCli{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-38EPFyKXMtoP12rPlmrHxs{background:#e6f7ff!important;color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3W4ZnQjhoGfT1gTNcqRXdi .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-38EPFyKXMtoP12rPlmrHxs{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-HGYnfzlmgOZ-l7eANhQe_{background:#fff3ea!important;color:#993a00!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-24e52A11B1UIErbKHtBmqc .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-HGYnfzlmgOZ-l7eANhQe_{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-jji74ZzulHScD0OAD_G7h{background:#fef2f1!important;color:#b10823!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-28jAOA7cDee-95LvwGsOP- .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-jji74ZzulHScD0OAD_G7h{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu{background-color:#0073b1!important;border:0!important;border-radius:2px!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:inline-block!important;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Fira Sans,Ubuntu,Oxygen,Oxygen Sans,Cantarell,Droid Sans,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Lucida Grande,Helvetica,Arial,sans-serif!important;font-weight:600!important;overflow:hidden!important;outline-width:2px!important;position:relative!important;text-align:center!important;text-decoration:none!important;vertical-align:middle!important;white-space:nowrap!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:disabled{cursor:not-allowed!important;opacity:.7!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:not(:disabled):not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy):hover{background-color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:not(:disabled):not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy):active{background-color:#004b7c!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy{background-color:#fff!important;color:#0073b1!important;box-shadow:inset 0 0 0 1px rgba(0,0,0,.3)!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy:not(:disabled):hover{color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy:not(:disabled):active{color:#004b7c!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon{display:inline-block!important;height:100%!important;vertical-align:top!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon>svg{pointer-events:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr{font-size:10px!important;height:16px!important;line-height:16px!important;padding:0 6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr>xdoor-icon{margin-left:-6px!important;margin-right:3px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr>xdoor-icon>svg{height:16px!important;width:16px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6{font-size:11px!important;height:20px!important;line-height:20px!important;padding:0 7px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6>xdoor-icon,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon{margin-left:-7px!important;margin-right:3.5px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6>xdoor-icon>svg,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon>svg{height:20px!important;width:20px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-7px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG{font-size:14px!important;height:24px!important;line-height:24px!important;padding:0 12px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG>xdoor-icon{margin-left:-12px!important;margin-right:6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG>xdoor-icon>svg{height:24px!important;width:24px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-12px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q{font-size:16px!important;height:32px!important;line-height:32px!important;padding:0 16px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q>xdoor-icon{margin-left:-16px!important;margin-right:8px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q>xdoor-icon>svg{height:32px!important;width:32px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-16px!important}</style><script type="text/javascript" id="_bsaPRO_js" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource" async="async"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>
<body class="post-template-default single single-post postid-987 single-format-standard content-sidebar" itemscope="" itemtype="https://schema.org/WebPage"><!-- BuySellAds Ad Code -->
<script type="text/javascript">
(function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = '//s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
</script>
<!-- End BuySellAds Ad Code --><div class="site-container" style="visibility: visible; opacity: 1;"><header class="site-header" itemscope="" itemtype="https://schema.org/WPHeader"><div class="wrap"><div class="title-area"><p class="site-title" itemprop="headline"><a href="https://bitoftech.net/">Bit of Technology</a></p></div><div class="widget-area header-widget-area"><section id="nav_menu-2" class="widget widget_nav_menu"><div class="widget-wrap"><nav class="nav-header" itemscope="" itemtype="https://schema.org/SiteNavigationElement"><ul id="menu-main" class="menu genesis-nav-menu"><li id="menu-item-494" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-494"><a href="https://bitoftech.net/archive/" itemprop="url"><span itemprop="name">Archive</span></a></li>
<li id="menu-item-295" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-295"><a href="https://bitoftech.net/taiseer-joudeh-blog/" itemprop="url"><span itemprop="name">About Me</span></a>
<ul class="sub-menu">
	<li id="menu-item-985" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-985"><a href="https://buysellads.com/buy/detail/240014" itemprop="url"><span itemprop="name">Advertise</span></a></li>
	<li id="menu-item-294" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-294"><a href="https://bitoftech.net/disclaimer/" itemprop="url"><span itemprop="name">Disclaimer</span></a></li>
</ul>
</li>
<li id="menu-item-623" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-623"><a href="https://bitoftech.net/speaking/" itemprop="url"><span itemprop="name">Speaking</span></a></li>
<li id="menu-item-293" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-293"><a href="https://bitoftech.net/contact/" itemprop="url"><span itemprop="name">Contact</span></a></li>
</ul></nav></div></section>
</div></div></header><div class="site-inner" style="visibility: visible; opacity: 1;"><div class="wrap" style="visibility: visible; opacity: 1;"><div class="content-sidebar-wrap" style="visibility: visible; opacity: 1;"><script async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(11).txt"></script>
<!-- Leaderboard -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px;margin-top:7px" data-ad-client="ca-pub-9008761019081236" data-ad-slot="8465270703" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0px;width:728px;height:90px;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><main class="content" style="visibility: visible; opacity: 1;"><article class="post-987 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-uncategorized category-web-api-security category-web-api-tutorial tag-autherization-server tag-claims tag-jwt tag-oauth tag-token-authentication entry" itemscope="" itemtype="https://schema.org/CreativeWork" style="visibility: visible; opacity: 1;"><header class="entry-header"><h1 class="entry-title" itemprop="headline">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</h1>
<p class="entry-meta"><time class="entry-time" itemprop="datePublished" datetime="2015-03-31T01:57:49+03:00">March 31, 2015</time> By <span class="entry-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="entry-author-link" itemprop="url" rel="author"><span class="entry-author-name" itemprop="name">Taiseer Joudeh</span></a></span> <span class="entry-comments-link"><a href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comments">323 Comments</a></span> </p></header><div class="entry-content" itemprop="text" style="visibility: visible; opacity: 1;"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Be Sociable, Share!</h3><div class="sd-content"><ul><li class="share-facebook"><div class="fb-share-button fb_iframe_widget" data-href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/" data-layout="button_count" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=249643311490&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2015%2F03%2F31%2Fasp-net-web-api-claims-authorization-with-asp-net-identity-2-1%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey"><span style="vertical-align: bottom; width: 77px; height: 20px;"><iframe name="fbba77f47e7db4" width="1000px" height="1000px" data-testid="fb:share_button Facebook Social Plugin" title="fb:share_button Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/share_button.html" style="border: none; visibility: visible; width: 77px; height: 20px;" class=""></iframe></span></div></li><li class="share-twitter"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 60px; height: 20px;" title="Twitter Tweet Button" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/tweet_button.6787510241df65d128e2b60207ad4c25.en.html" data-url="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/"></iframe></li><li class="share-linkedin"><div class="linkedin_button"><span class="IN-widget" data-lnkd-debug="&lt;script type=&quot;in/share+init&quot; data-url=&quot;https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/&quot; data-counter=&quot;right&quot;&gt;&lt;/script&gt;" style="display: inline-block; line-height: 1; vertical-align: bottom; padding: 0px; margin: 0px; text-indent: 0px; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: bottom !important; font-size: 1px !important;"><button class="IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu"><xdoor-icon aria-hidden="true"><svg viewBox="0 0 24 24" width="24px" height="24px" x="0" y="0" preserveAspectRatio="xMinYMin meet">
      <g style="fill: currentColor">
        <rect x="-0.003" style="fill:none;" width="24" height="24"></rect>
        <path style="" d="M20,2h-16c-1.1,0-2,0.9-2,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2zM8,19h-3v-9h3V19zM6.5,8.8C5.5,8.8,4.7,8,4.7,7s0.8-1.8,1.8-1.8S8.3,6,8.3,7S7.5,8.8,6.5,8.8zM19,19h-3v-4c0-1.4-0.6-2-1.5-2c-1.1,0-1.5,0.8-1.5,2.2V19h-3v-9h2.9v1.1c0.5-0.7,1.4-1.3,2.6-1.3c2.3,0,3.5,1.1,3.5,3.7V19z"></path>
      </g>
    </svg></xdoor-icon>Share</button></span></span></div></li><li class="share-email share-service-visible"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/?share=email&amp;nb=1" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow noopener noreferrer" data-shared="" class="share-jetpack-whatsapp sd-button" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/?share=jetpack-whatsapp&amp;nb=1" target="_blank" title="Click to share on WhatsApp"><span>WhatsApp</span></a></li><li class="share-end"></li></ul></div></div></div><div class="code-block code-block-1 ai-viewport-1" style="margin: 8px auto 8px 0px; text-align: left; display: block; clear: both; visibility: visible; opacity: 1;">
<script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fpi.js.download"></script><iframe id="sovrn_ad_unit_329996_async" margin="0" padding="0" frameborder="0" width="728" height="90" scrolling="no" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(2).html" data-zid="329996" class="sovrn_ad_unit" style="margin: 0px; padding: 0px; border: 0px none; width: 728px; height: 90px; overflow: hidden;"></iframe></div>
<p>This is the fifth&nbsp;part of Building Simple Membership system using&nbsp;ASP.NET Identity 2.1,&nbsp;ASP.NET Web API 2.2 and AngularJS. The topics we’ll cover are:</p>
<ul>
<li><a title="ASP.NET Identity 2.1 with ASP.NET Web API 2.2 (Accounts Management) – Part 1" href="https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/" target="_blank">Configure ASP.NET Identity with ASP.NET Web API (Accounts Management) – Part 1.</a></li>
<li><a title="ASP.NET Identity 2.1 Accounts Confirmation, and Password Policy Configuration – Part 2" href="https://bitoftech.net/2015/02/03/asp-net-identity-2-accounts-confirmation-password-user-policy-configuration/" target="_blank">ASP.NET Identity 2.1 Accounts Confirmation, and Password/User Policy Configuration&nbsp;– Part 2</a>.</li>
<li><a title="Implement OAuth JSON Web Tokens Authentication in ASP.NET Web API and Identity 2.1 – Part 3" href="https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/" target="_blank">Implement JSON Web Tokens Authentication in ASP.NET Web API and Identity 2.1 – Part 3.</a></li>
<li><a title="ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4" href="https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/" target="_blank">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API&nbsp;– Part 4.</a></li>
<li>ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1&nbsp;– (This Post)</li>
<li><em>AngularJS Authentication and Authorization with ASP.NET Web API and Identity 2.1&nbsp;– Part&nbsp;6</em></li>
</ul>
<h4>The&nbsp;<a href="https://github.com/tjoudeh/AspNetIdentity.WebApi" target="_blank">source code</a>&nbsp;for this tutorial is&nbsp;available&nbsp;on GitHub.</h4>
<h2>ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1</h2>
<p>In the <a title="ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4" href="https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/" target="_blank">previous post</a> we have implemented a finer grained way to control&nbsp;authorization based on the Roles assigned for the authenticated user, this was done by assigning users to a predefined Roles in our system and then attributing the protected controllers or actions by the <strong>[Authorize(Roles = “Role(s) Name”)]</strong> attribute.</p>
<p><a href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/ClaimsFeaturedImage.jpg"><img class="alignright wp-image-1006" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/ClaimsFeaturedImage.jpg" alt="Claims Featured Image" width="400" height="253" srcset="https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage.jpg 640w, https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage-300x190.jpg 300w" sizes="(max-width: 400px) 100vw, 400px"></a></p>
<p>Using Roles Based Authorization&nbsp;for&nbsp;controlling user access&nbsp;will be efficient in scenarios where your Roles do not change too much and the users permissions do not change frequently.</p>
<p>In some&nbsp;applications controlling user access on system resources&nbsp;is more complicated, and having users assigned&nbsp;to&nbsp;certain Roles is not enough for managing user access efficiently, you need more dynamic way to to control&nbsp;access based on certain information related to the authenticated user, this will lead us to control user access using <strong>Claims</strong>, or in another word using <strong>Claims Based Authorization</strong>.</p>
<p>But before we dig into the implementation of Claims Based Authorization we need to understand what Claims are!</p>
<p><strong>Note:</strong> It is not mandatory to use Claims for controlling user access, if you are happy with Roles Based Authorization and you have limited number of Roles then you can stick to this.</p>
<h4>What is a Claim?</h4>
<p>Claim is a statement about the user makes about itself, it can be user name, first name, last name, gender, phone, the roles user assigned to, etc… Yes the Roles we have been looking at are transformed to Claims at the end, and as we saw in the previous post; in ASP.NET Identity those&nbsp;Roles have their own manager (ApplicationRoleManager) and set of APIs to manage them, yet you can consider them as a Claim of type Role.</p>
<p>As we saw before, any authenticated user will receive a JSON Web Token (JWT) which contains a set of claims inside it, what we’ll do now&nbsp;is to create a helper end point which returns the claims encoded in the JWT for an&nbsp;authenticated user.</p>
<p>To do this we will create a new controller named “ClaimsController” which will contain a single method responsible to unpack the claims in the JWT&nbsp;and return them, to do this add new controller named “ClaimsController” under folder Controllers and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6cc2786086726" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">    [RoutePrefix("api/claims")]
    public class ClaimsController : BaseApiController
    {
        [Authorize]
        [Route("")]
        public IHttpActionResult GetClaims()
        {
            var identity = User.Identity as ClaimsIdentity;
            
            var claims = from c in identity.Claims
                         select new
                         {
                             subject = c.Subject.Name,
                             type = c.Type,
                             value = c.Value
                         };

            return Ok(claims);
        }

    }</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-16">16</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-18">18</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cc2786086726-20">20</div><div class="crayon-num" data-line="crayon-5e9461bec6cc2786086726-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">RoutePrefix</span><span class="crayon-sy">(</span><span class="crayon-s">"api/claims"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">ClaimsController</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">BaseApiController</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-v">Authorize</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">Route</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IHttpActionResult </span><span class="crayon-e">GetClaims</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">identity</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">User</span><span class="crayon-sy">.</span><span class="crayon-e">Identity </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">ClaimsIdentity</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">claims</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">from</span><span class="crayon-h"> </span><span class="crayon-i">c</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">identity</span><span class="crayon-sy">.</span><span class="crayon-e">Claims</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">select</span><span class="crayon-h"> </span><span class="crayon-r">new</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">subject</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Subject</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">type</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">value</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-i">Value</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">Ok</span><span class="crayon-sy">(</span><span class="crayon-v">claims</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cc2786086726-20">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6cc2786086726-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>The code we have implemented above is straight forward, we are getting the Identity of the authenticated user by calling “User.Identity” which returns “ClaimsIdentity” object, then we are iterating over the&nbsp;IEnumerable&nbsp;Claims property and return three properties which they are&nbsp;(Subject, Type, and Value).<br>
To execute this endpoint we need to issue HTTP GET request to the end point “http://localhost/api/claims” and do not forget to pass a valid JWT&nbsp;in the Authorization header, the response for this end point will contain the below JSON object:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6ce9599488646" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate crayon-minimized" data-settings=" no-popup scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Click To Expand Code</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: block;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-minimize crayon-button"><div></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">[
  {
    "subject": "Hamza",
    "type": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier",
    "value": "cd93945e-fe2c-49c1-b2bb-138a2dd52928"
  },
  {
    "subject": "Hamza",
    "type": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name",
    "value": "Hamza"
  },
  {
    "subject": "Hamza",
    "type": "http://schemas.microsoft.com/accesscontrolservice/2010/07/claims/identityprovider",
    "value": "ASP.NET Identity"
  },
  {
    "subject": "Hamza",
    "type": "AspNet.Identity.SecurityStamp",
    "value": "a77594e2-ffa0-41bd-a048-7398c01c8948"
  },
  {
    "subject": "Hamza",
    "type": "iss",
    "value": "http://localhost:59822"
  },
  {
    "subject": "Hamza",
    "type": "aud",
    "value": "414e1927a3884f68abc79f7283837fd1"
  },
  {
    "subject": "Hamza",
    "type": "exp",
    "value": "1427744352"
  },
  {
    "subject": "Hamza",
    "type": "nbf",
    "value": "1427657952"
  }
]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-16">16</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-18">18</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-20">20</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-22">22</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-24">24</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-26">26</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-28">28</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-30">30</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-32">32</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-34">34</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-36">36</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-38">38</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-40">40</div><div class="crayon-num" data-line="crayon-5e9461bec6ce9599488646-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6ce9599488646-42">42</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-1"><span class="crayon-sy">[</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"cd93945e-fe2c-49c1-b2bb-138a2dd52928"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"http://schemas.microsoft.com/accesscontrolservice/2010/07/claims/identityprovider"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"ASP.NET Identity"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"AspNet.Identity.SecurityStamp"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"a77594e2-ffa0-41bd-a048-7398c01c8948"</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"iss"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"http://localhost:59822"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"aud"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"414e1927a3884f68abc79f7283837fd1"</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"exp"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"1427744352"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"subject"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Hamza"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"nbf"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"value"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"1427657952"</span></div><div class="crayon-line" id="crayon-5e9461bec6ce9599488646-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6ce9599488646-42"><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0026 seconds] -->
<p>As you noticed from the response above, all the claims contain three properties, and those properties represents the below:</p>
<ul>
<li><strong>Subject</strong>: Represents the&nbsp;identity which those claims belongs to, usually the value for the subject&nbsp;will contain the unique identifier for the user in the system (Username or Email).</li>
<li><strong>Type</strong>: Represents the type of the information contained in the claim.</li>
<li><strong>Value</strong>: Represents the claim value (information) about this claim.</li>
</ul>
<p>Now to have better understanding of what type of those claims mean let’s take a look the table below:</p>

<div id="tablepress-5_wrapper" class="dataTables_wrapper no-footer"><table id="tablepress-5" class="tablepress tablepress-id-5 dataTable no-footer" role="grid">
<thead>
<tr class="row-1 odd" role="row"><th class="column-1 sorting_disabled" rowspan="1" colspan="1" style="width: 71px;">Subject</th><th class="column-2 sorting_disabled" rowspan="1" colspan="1" style="width: 124px;">Type</th><th class="column-3 sorting_disabled" rowspan="1" colspan="1" style="width: 258px;">Value</th><th class="column-4 sorting_disabled" rowspan="1" colspan="1" style="width: 292px;">Notes</th></tr>
</thead>
<tbody>








<tr class="row-2 even" role="row">
	<td class="column-1">Hamza</td><td class="column-2">nameidentifier</td><td class="column-3">cd93945e-fe2c-49c1-b2bb-138a2dd52928</td><td class="column-4">Unique User Id generated from Identity System</td>
</tr><tr class="row-3 odd" role="row">
	<td class="column-1">Hamza</td><td class="column-2">name</td><td class="column-3">Hamza</td><td class="column-4">Unique Username</td>
</tr><tr class="row-4 even" role="row">
	<td class="column-1">Hamza</td><td class="column-2">identityprovider</td><td class="column-3">ASP.NET Identity</td><td class="column-4">How user has been authenticated using ASP.NET Identity</td>
</tr><tr class="row-5 odd" role="row">
	<td class="column-1">Hamza</td><td class="column-2">SecurityStamp</td><td class="column-3">a77594e2-ffa0-41bd-a048-7398c01c8948</td><td class="column-4">Unique Id which stays the same until any security related attribute change, i.e. change user password</td>
</tr><tr class="row-6 even" role="row">
	<td class="column-1">Hamza</td><td class="column-2">iss</td><td class="column-3">http://localhost:59822</td><td class="column-4">Issuer of the Access Token (Authz Server)</td>
</tr><tr class="row-7 odd" role="row">
	<td class="column-1">Hamza</td><td class="column-2">aud</td><td class="column-3">414e1927a3884f68abc79f7283837fd1</td><td class="column-4">For which system this token is generated</td>
</tr><tr class="row-8 even" role="row">
	<td class="column-1">Hamza</td><td class="column-2">exp</td><td class="column-3">1427744352</td><td class="column-4">Expiry time for this access token (Epoch)</td>
</tr><tr class="row-9 odd" role="row">
	<td class="column-1">Hamza</td><td class="column-2">nbf</td><td class="column-3">1427657952</td><td class="column-4">When this token is issued (Epoch)</td>
</tr></tbody>
</table></div>
<!-- #tablepress-5 from cache -->
<p>After we have briefly described what&nbsp;claims are, we want to see how we can use them to manage user assess, in this post I will demonstrate three ways of using the claims as the below:</p>
<ol>
<li><strong>Assigning claims to the user&nbsp;on the fly based on user information.</strong></li>
<li><strong>Creating custom&nbsp;Claims Authorization attribute.</strong></li>
<li><strong>Managing user claims by using the “ApplicationUserManager” APIs.</strong></li>
</ol>
<h4>Method 1: Assigning claims to the user on the fly</h4>
<p>Let’s assume a fictional use case where our&nbsp;API will be used in an eCommerce website, where certain users have the ability&nbsp;to issue refunds for&nbsp;orders if there is&nbsp;incident happen and the customer is not happy.</p>
<p>So certain criteria should be met in order to grant&nbsp;our users the privileges to&nbsp;issue refunds,&nbsp;the users should have been working for the company for more than 90 days, and the user&nbsp;should be in “Admin”Role.</p>
<p>To implement this we need to create a new class which will be responsible to read authenticated user information, and based on the information read,&nbsp;it will create a single claim or set of claims and assign then&nbsp;to the user identity.<br>
If you recall from the <a title="ASP.NET Identity 2.1 with ASP.NET Web API 2.2 (Accounts Management) – Part 1" href="https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/" target="_blank">first post</a> of&nbsp;this series, we have extended the “ApplicationUser” entity and added a property named “JoinDate” which represent the hiring date of the employee, based on the hiring date, we need to assign a new claim named “FTE” (Full Time Employee) for any user who has worked for&nbsp;more than 90 days. To start implementing this let’s add a new class named “ExtendedClaimsProvider” under folder “Infrastructure” and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6cfb002915146" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">    public static class ExtendedClaimsProvider
    {
        public static IEnumerable&lt;Claim&gt; GetClaims(ApplicationUser user)
        {
          
            List&lt;Claim&gt; claims = new List&lt;Claim&gt;();

            var daysInWork =  (DateTime.Now.Date - user.JoinDate).TotalDays;

            if (daysInWork &gt; 90)
            {
                claims.Add(CreateClaim("FTE", "1"));
               
            }
            else {
                claims.Add(CreateClaim("FTE", "0"));
            }

            return claims;
        }

        public static Claim CreateClaim(string type, string value)
        {
            return new Claim(type, value, ClaimValueTypes.String);
        }

    }</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-16">16</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-18">18</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-20">20</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-22">22</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-24">24</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6cfb002915146-26">26</div><div class="crayon-num" data-line="crayon-5e9461bec6cfb002915146-27">27</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">ExtendedClaimsProvider</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">IEnumerable</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">GetClaims</span><span class="crayon-sy">(</span><span class="crayon-e">ApplicationUser </span><span class="crayon-v">user</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">claims</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">daysInWork</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">DateTime</span><span class="crayon-sy">.</span><span class="crayon-v">Now</span><span class="crayon-sy">.</span><span class="crayon-v">Date</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">JoinDate</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">TotalDays</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">daysInWork</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">90</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">claims</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-s">"FTE"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">claims</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-s">"FTE"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-18">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">claims</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-e">Claim </span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Claim</span><span class="crayon-sy">(</span><span class="crayon-v">type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ClaimValueTypes</span><span class="crayon-sy">.</span><span class="crayon-t">String</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6cfb002915146-26">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6cfb002915146-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->
<p>The implementation is simple, the “GetClaims” method will take ApplicationUser object and returns a list of claims. Based on the “JoinDate” field it will add new claim named “FTE” and will assign a value of “1” if the user has been working for than 90 days, and a value of “0” if the user worked for less than this period. Notice how I’m using the method “CreateClaim” which returns a new instance of the claim.</p>
<p>This class can be used to enforce creating custom claims for the user based on the information related to her, you can add as many claims as you want here, but in our case we will add only a single claim.</p>
<p>Now we need to call the method “GetClaims” so the “FTE” claim will be associated with the authenticated user identity, to do this open class “CustomOAuthProvider” and in method “GrantResourceOwnerCredentials” add the highlighted line (line 7) as the code snippet below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d05887743949" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">public override async Task GrantResourceOwnerCredentials(OAuthGrantResourceOwnerCredentialsContext context)
{
	//Code removed for brevity

	ClaimsIdentity oAuthIdentity = await user.GenerateUserIdentityAsync(userManager, "JWT");
	
	oAuthIdentity.AddClaims(ExtendedClaimsProvider.GetClaims(user));
	
	var ticket = new AuthenticationTicket(oAuthIdentity, null);
	
	context.Validated(ticket);
   
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-6">6</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-5e9461bec6d05887743949-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d05887743949-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6d05887743949-13">13</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d05887743949-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-m">async</span><span class="crayon-h"> </span><span class="crayon-e">Task </span><span class="crayon-e">GrantResourceOwnerCredentials</span><span class="crayon-sy">(</span><span class="crayon-e">OAuthGrantResourceOwnerCredentialsContext </span><span class="crayon-v">context</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d05887743949-3"><span class="crayon-h">	</span><span class="crayon-c">//Code removed for brevity</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-4">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d05887743949-5"><span class="crayon-h">	</span><span class="crayon-e">ClaimsIdentity </span><span class="crayon-v">oAuthIdentity</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-e">GenerateUserIdentityAsync</span><span class="crayon-sy">(</span><span class="crayon-v">userManager</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"JWT"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-6"><span class="crayon-h">	</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-5e9461bec6d05887743949-7"><span class="crayon-h">	</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">.</span><span class="crayon-e">AddClaims</span><span class="crayon-sy">(</span><span class="crayon-v">ExtendedClaimsProvider</span><span class="crayon-sy">.</span><span class="crayon-e">GetClaims</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-8"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5e9461bec6d05887743949-9"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ticket</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">AuthenticationTicket</span><span class="crayon-sy">(</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-10"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5e9461bec6d05887743949-11"><span class="crayon-h">	</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">Validated</span><span class="crayon-sy">(</span><span class="crayon-v">ticket</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d05887743949-12"><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5e9461bec6d05887743949-13"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>Notice how the established claims identity object “oAuthIdentity” has a method named “AddClaims” which accepts IEnumerable object&nbsp;of claims, now the new “FTE” claim is assigned to the authenticated user, but this is not enough to satisfy the criteria needed to issue the&nbsp;fictitious refund on orders, we need to make sure that the user is in “Admin” Role too.</p>
<p>To implement this we’ll create a new Role&nbsp;on the fly based on the claims assigned for the user, in other words we’ll create Roles from the Claims user assigned to, this Role will be named “IncidentResolvers”. And as we stated in the beginning of this post, the Roles eventually&nbsp;are considered as a Claim of type Role.</p>
<p>To do this add new class named “RolesFromClaims” under folder “Infrastructure” and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d0c956488319" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">    public class RolesFromClaims
    {
        public static IEnumerable&lt;Claim&gt; CreateRolesBasedOnClaims(ClaimsIdentity identity)
        {
            List&lt;Claim&gt; claims = new List&lt;Claim&gt;();

            if (identity.HasClaim(c =&gt; c.Type == "FTE" &amp;&amp; c.Value == "1") &amp;&amp;
                identity.HasClaim(ClaimTypes.Role, "Admin"))
            {
                claims.Add(new Claim(ClaimTypes.Role, "IncidentResolvers"));
            }

            return claims;
        }
    }</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d0c956488319-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6d0c956488319-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">RolesFromClaims</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-v">IEnumerable</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">CreateRolesBasedOnClaims</span><span class="crayon-sy">(</span><span class="crayon-e">ClaimsIdentity </span><span class="crayon-v">identity</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">claims</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">Claim</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-6">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">identity</span><span class="crayon-sy">.</span><span class="crayon-e">HasClaim</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"FTE"</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Value</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"1"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">identity</span><span class="crayon-sy">.</span><span class="crayon-e">HasClaim</span><span class="crayon-sy">(</span><span class="crayon-v">ClaimTypes</span><span class="crayon-sy">.</span><span class="crayon-v">Role</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"Admin"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">claims</span><span class="crayon-sy">.</span><span class="crayon-e">Add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Claim</span><span class="crayon-sy">(</span><span class="crayon-v">ClaimTypes</span><span class="crayon-sy">.</span><span class="crayon-v">Role</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"IncidentResolvers"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-12">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">claims</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d0c956488319-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d0c956488319-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>The implementation is self explanatory, we have created a method named “CreateRolesBasedOnClaims” which accepts the established identity object and returns a list of claims.</p>
<p>Inside this method we will check that the established identity for the authenticated user has a claim of type “FTE” with value “1”, as well that the identity&nbsp;contains a claim of type “Role” with value “Admin”, if those 2 conditions are met then; we will create a new claim of Type “Role” and give it a value of “IncidentResolvers”.<br>
Last thing we need to do here is to assign this new set of claims to the established identity, so to do this&nbsp;open class “CustomOAuthProvider” again and in method “GrantResourceOwnerCredentials” add the highlighted line (line 9) as the code snippet below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d10792320552" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">public override async Task GrantResourceOwnerCredentials(OAuthGrantResourceOwnerCredentialsContext context)
{
	//Code removed for brevity

	ClaimsIdentity oAuthIdentity = await user.GenerateUserIdentityAsync(userManager, "JWT");
	
	oAuthIdentity.AddClaims(ExtendedClaimsProvider.GetClaims(user));
	
	oAuthIdentity.AddClaims(RolesFromClaims.CreateRolesBasedOnClaims(oAuthIdentity));
	
	var ticket = new AuthenticationTicket(oAuthIdentity, null);
	
	context.Validated(ticket);
   
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-8">8</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="crayon-5e9461bec6d10792320552-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d10792320552-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6d10792320552-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d10792320552-1"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-m">async</span><span class="crayon-h"> </span><span class="crayon-e">Task </span><span class="crayon-e">GrantResourceOwnerCredentials</span><span class="crayon-sy">(</span><span class="crayon-e">OAuthGrantResourceOwnerCredentialsContext </span><span class="crayon-v">context</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-3"><span class="crayon-h">	</span><span class="crayon-c">//Code removed for brevity</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-4">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-5"><span class="crayon-h">	</span><span class="crayon-e">ClaimsIdentity </span><span class="crayon-v">oAuthIdentity</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-e">GenerateUserIdentityAsync</span><span class="crayon-sy">(</span><span class="crayon-v">userManager</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"JWT"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-6"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-7"><span class="crayon-h">	</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">.</span><span class="crayon-e">AddClaims</span><span class="crayon-sy">(</span><span class="crayon-v">ExtendedClaimsProvider</span><span class="crayon-sy">.</span><span class="crayon-e">GetClaims</span><span class="crayon-sy">(</span><span class="crayon-v">user</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-8"><span class="crayon-h">	</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="crayon-5e9461bec6d10792320552-9"><span class="crayon-h">	</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">.</span><span class="crayon-e">AddClaims</span><span class="crayon-sy">(</span><span class="crayon-v">RolesFromClaims</span><span class="crayon-sy">.</span><span class="crayon-e">CreateRolesBasedOnClaims</span><span class="crayon-sy">(</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-10"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-11"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ticket</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">AuthenticationTicket</span><span class="crayon-sy">(</span><span class="crayon-v">oAuthIdentity</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-12"><span class="crayon-h">	</span></div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-13"><span class="crayon-h">	</span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-e">Validated</span><span class="crayon-sy">(</span><span class="crayon-v">ticket</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d10792320552-14"><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5e9461bec6d10792320552-15"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Now&nbsp;all the new claims which created on the fly are assigned to the established identity and once we call the method “context.Validated(ticket)”, all claims will get encoded in the JWT token, so to test this out let’s add fictitious controller named “OrdersController” under folder “Controllers” as the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d14095127597" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">[RoutePrefix("api/orders")]
public class OrdersController : ApiController
{
	[Authorize(Roles = "IncidentResolvers")]
	[HttpPut]
	[Route("refund/{orderId}")]
	public IHttpActionResult RefundOrder([FromUri]string orderId)
	{
		return Ok();
	}
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d14095127597-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d14095127597-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d14095127597-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d14095127597-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d14095127597-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d14095127597-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d14095127597-1"><span class="crayon-sy">[</span><span class="crayon-e">RoutePrefix</span><span class="crayon-sy">(</span><span class="crayon-s">"api/orders"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d14095127597-2"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">OrdersController</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">ApiController</span></div><div class="crayon-line" id="crayon-5e9461bec6d14095127597-3"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d14095127597-4"><span class="crayon-h">	</span><span class="crayon-sy">[</span><span class="crayon-e">Authorize</span><span class="crayon-sy">(</span><span class="crayon-v">Roles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IncidentResolvers"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d14095127597-5"><span class="crayon-h">	</span><span class="crayon-sy">[</span><span class="crayon-v">HttpPut</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d14095127597-6"><span class="crayon-h">	</span><span class="crayon-sy">[</span><span class="crayon-e">Route</span><span class="crayon-sy">(</span><span class="crayon-s">"refund/{orderId}"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d14095127597-7"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IHttpActionResult </span><span class="crayon-e">RefundOrder</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">FromUri</span><span class="crayon-sy">]</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">orderId</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d14095127597-8"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d14095127597-9"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">Ok</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d14095127597-10"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d14095127597-11"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>Notice how we attribute the action “RefundOrder” with &nbsp;[Authorize(Roles = “IncidentResolvers”)] so only authenticated users with claim of type “Role” and has the value of “IncidentResolvers” can access this end point. To test this out you can issue HTTP PUT request to the URI “http://localhost/api/orders/refund/cxy-4456393” with an empty body.</p>
<p>As you noticed from the first method, we have depended on user information to create claims and&nbsp;kept the authorization more dynamic and flexible.<br>
Keep in mind that&nbsp;you can add your access control business logic, and have finer grained control on authorization by implementing this logic&nbsp;into classes “ExtendedClaimsProvider” and “RolesFromClaims”.</p>
<h4>Method 2:&nbsp;Creating custom Claims Authorization attribute</h4>
<p>Another way to implement Claims Based Authorization is to create a custom authorization attribute which inherits from “AuthorizationFilterAttribute”, this authorize attribute will check directly the claims value and type for the established identity.</p>
<p>To do this let’s add new class named “ClaimsAuthorizationAttribute” under folder “Infrastructure” and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d1b671352088" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">    public class ClaimsAuthorizationAttribute : AuthorizationFilterAttribute
    {
        public string ClaimType { get; set; }
        public string ClaimValue { get; set; }

        public override Task OnAuthorizationAsync(HttpActionContext actionContext, System.Threading.CancellationToken cancellationToken)
        {

            var principal = actionContext.RequestContext.Principal as ClaimsPrincipal;

            if (!principal.Identity.IsAuthenticated)
            {
                actionContext.Response = actionContext.Request.CreateResponse(HttpStatusCode.Unauthorized);
                return Task.FromResult&lt;object&gt;(null);
            }

            if (!(principal.HasClaim(x =&gt; x.Type == ClaimType &amp;&amp; x.Value == ClaimValue)))
            {
                actionContext.Response = actionContext.Request.CreateResponse(HttpStatusCode.Unauthorized);
                return Task.FromResult&lt;object&gt;(null);
            }

            //User is Authorized, complete execution
            return Task.FromResult&lt;object&gt;(null);

        }
    }</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-16">16</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-18">18</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-20">20</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-22">22</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-24">24</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d1b671352088-26">26</div><div class="crayon-num" data-line="crayon-5e9461bec6d1b671352088-27">27</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">ClaimsAuthorizationAttribute</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">AuthorizationFilterAttribute</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-e">ClaimType</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-st">get</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">set</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-e">ClaimValue</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-st">get</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">set</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-e">Task </span><span class="crayon-e">OnAuthorizationAsync</span><span class="crayon-sy">(</span><span class="crayon-e">HttpActionContext </span><span class="crayon-v">actionContext</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Threading</span><span class="crayon-sy">.</span><span class="crayon-e">CancellationToken </span><span class="crayon-v">cancellationToken</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-8">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">principal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">actionContext</span><span class="crayon-sy">.</span><span class="crayon-v">RequestContext</span><span class="crayon-sy">.</span><span class="crayon-e">Principal </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">ClaimsPrincipal</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-10">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">principal</span><span class="crayon-sy">.</span><span class="crayon-v">Identity</span><span class="crayon-sy">.</span><span class="crayon-v">IsAuthenticated</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">actionContext</span><span class="crayon-sy">.</span><span class="crayon-v">Response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">actionContext</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">.</span><span class="crayon-e">CreateResponse</span><span class="crayon-sy">(</span><span class="crayon-v">HttpStatusCode</span><span class="crayon-sy">.</span><span class="crayon-v">Unauthorized</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-sy">.</span><span class="crayon-v">FromResult</span><span class="crayon-o">&lt;</span><span class="crayon-t">object</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-16">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-sy">(</span><span class="crayon-v">principal</span><span class="crayon-sy">.</span><span class="crayon-e">HasClaim</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">ClaimType</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-v">Value</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">ClaimValue</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">actionContext</span><span class="crayon-sy">.</span><span class="crayon-v">Response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">actionContext</span><span class="crayon-sy">.</span><span class="crayon-v">Request</span><span class="crayon-sy">.</span><span class="crayon-e">CreateResponse</span><span class="crayon-sy">(</span><span class="crayon-v">HttpStatusCode</span><span class="crayon-sy">.</span><span class="crayon-v">Unauthorized</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-sy">.</span><span class="crayon-v">FromResult</span><span class="crayon-o">&lt;</span><span class="crayon-t">object</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-22">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//User is Authorized, complete execution</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-sy">.</span><span class="crayon-v">FromResult</span><span class="crayon-o">&lt;</span><span class="crayon-t">object</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d1b671352088-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d1b671352088-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0030 seconds] -->
<p>What we’ve implemented here is the following:</p>
<ul>
<li>Created a new class named “ClaimsAuthorizationAttribute” which inherits from “AuthorizationFilterAttribute” and then override method “OnAuthorizationAsync”.</li>
<li>Defined 2 properties “ClaimType” &amp; “ClaimValue” which will be used&nbsp;as a setters when we use this custom authorize attribute.</li>
<li>Inside method “OnAuthorizationAsync” we are casting the object “actionContext.RequestContext.Principal” to “ClaimsPrincipal” object and check if the user is authenticated.</li>
<li>If the user is authenticated we’ll look into the claims established for this identity if it has the claim type and claim value.</li>
<li>If the identity contains the same claim type and value; then we’ll consider the request authentic and complete the execution, other wist we’ll return 401 unauthorized status.</li>
</ul>
<p>To test the new custom authorization attribute, we’ll add new method to the “OrdersController” as the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d20528222399" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">[ClaimsAuthorization(ClaimType="FTE", ClaimValue="1")]
[Route("")]
public IHttpActionResult Get()
{
	return Ok();
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d20528222399-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d20528222399-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d20528222399-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d20528222399-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d20528222399-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d20528222399-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d20528222399-1"><span class="crayon-sy">[</span><span class="crayon-e">ClaimsAuthorization</span><span class="crayon-sy">(</span><span class="crayon-v">ClaimType</span><span class="crayon-o">=</span><span class="crayon-s">"FTE"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ClaimValue</span><span class="crayon-o">=</span><span class="crayon-s">"1"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d20528222399-2"><span class="crayon-sy">[</span><span class="crayon-e">Route</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d20528222399-3"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">IHttpActionResult </span><span class="crayon-st">Get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d20528222399-4"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d20528222399-5"><span class="crayon-h">	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">Ok</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d20528222399-6"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>Notice how we decorated the “Get()” method&nbsp;with the “[ClaimsAuthorization(ClaimType=”FTE”, ClaimValue=”1″)]” attribute, so any user has the claim “FTE” with value “1” can access this protected end point.</p>
<h4>Method 3:&nbsp;Managing user claims by using the “ApplicationUserManager” APIs</h4>
<p>The last method we want to explore here is to use the “ApplicationUserManager” claims related API to manage user claims and store them in ASP.NET Identity related tables “AspNetUserClaims”.</p>
<p>In the previous two methods we’ve created claims for the user on the fly, but in method 3&nbsp;we will see how we can add/remove claims for a certain user.</p>
<p>The “ApplicationUserManager” class&nbsp;comes with a set of predefined APIs which makes dealing and managing claims simple, the APIs that we’ll use in this post&nbsp;are listed in the table below:</p>

<div id="tablepress-6_wrapper" class="dataTables_wrapper no-footer"><table id="tablepress-6" class="tablepress tablepress-id-6 dataTable no-footer" role="grid">
<thead>
<tr class="row-1 odd" role="row"><th class="column-1 sorting_disabled" rowspan="1" colspan="1" style="width: 245px;">Method Name</th><th class="column-2 sorting_disabled" rowspan="1" colspan="1" style="width: 532px;">Usage</th></tr>
</thead>
<tbody>



<tr class="row-2 even" role="row">
	<td class="column-1">AddClaimAsync(id, claim)</td><td class="column-2">Create a new claim for specified user id</td>
</tr><tr class="row-3 odd" role="row">
	<td class="column-1">RemoveClaimAsync(id, claim)</td><td class="column-2">Remove claim from specified user if claim type and value match</td>
</tr><tr class="row-4 even" role="row">
	<td class="column-1">GetClaimsAsync(id)</td><td class="column-2">Return IEnumerable of claims based on specified user id</td>
</tr></tbody>
</table></div>
<!-- #tablepress-6 from cache -->
<p>To use those APIs let’s add 2 new methods to the “AccountsController”, the first method “AssignClaimsToUser” will be responsible to add new claims for specified&nbsp;user, and the second method “RemoveClaimsFromUser” will remove claims from a&nbsp;specified&nbsp;user as the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d25207399381" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">[Authorize(Roles = "Admin")]
[Route("user/{id:guid}/assignclaims")]
[HttpPut]
public async Task&lt;IHttpActionResult&gt; AssignClaimsToUser([FromUri] string id, [FromBody] List&lt;ClaimBindingModel&gt; claimsToAssign) {

	if (!ModelState.IsValid)
	{
		return BadRequest(ModelState);
	}

	 var appUser = await this.AppUserManager.FindByIdAsync(id);

	if (appUser == null)
	{
		return NotFound();
	}

	foreach (ClaimBindingModel claimModel in claimsToAssign)
	{
		if (appUser.Claims.Any(c =&gt; c.ClaimType == claimModel.Type)) {
		   
			await this.AppUserManager.RemoveClaimAsync(id, ExtendedClaimsProvider.CreateClaim(claimModel.Type, claimModel.Value));
		}

		await this.AppUserManager.AddClaimAsync(id, ExtendedClaimsProvider.CreateClaim(claimModel.Type, claimModel.Value));
	}
	
	return Ok();
}

[Authorize(Roles = "Admin")]
[Route("user/{id:guid}/removeclaims")]
[HttpPut]
public async Task&lt;IHttpActionResult&gt; RemoveClaimsFromUser([FromUri] string id, [FromBody] List&lt;ClaimBindingModel&gt; claimsToRemove)
{

	if (!ModelState.IsValid)
	{
		return BadRequest(ModelState);
	}

	var appUser = await this.AppUserManager.FindByIdAsync(id);

	if (appUser == null)
	{
		return NotFound();
	}

	foreach (ClaimBindingModel claimModel in claimsToRemove)
	{
		if (appUser.Claims.Any(c =&gt; c.ClaimType == claimModel.Type))
		{
			await this.AppUserManager.RemoveClaimAsync(id, ExtendedClaimsProvider.CreateClaim(claimModel.Type, claimModel.Value));
		}
	}

	return Ok();
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-10">10</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-12">12</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-14">14</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-16">16</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-18">18</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-20">20</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-22">22</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-24">24</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-26">26</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-28">28</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-30">30</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-32">32</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-34">34</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-36">36</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-38">38</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-40">40</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-42">42</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-44">44</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-46">46</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-48">48</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-50">50</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-52">52</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-54">54</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-56">56</div><div class="crayon-num" data-line="crayon-5e9461bec6d25207399381-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d25207399381-58">58</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d25207399381-1"><span class="crayon-sy">[</span><span class="crayon-e">Authorize</span><span class="crayon-sy">(</span><span class="crayon-v">Roles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Admin"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-2"><span class="crayon-sy">[</span><span class="crayon-e">Route</span><span class="crayon-sy">(</span><span class="crayon-s">"user/{id:guid}/assignclaims"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-3"><span class="crayon-sy">[</span><span class="crayon-v">HttpPut</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-4"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">async</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-o">&lt;</span><span class="crayon-v">IHttpActionResult</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">AssignClaimsToUser</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">FromUri</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">FromBody</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">ClaimBindingModel</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">claimsToAssign</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-6"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">ModelState</span><span class="crayon-sy">.</span><span class="crayon-v">IsValid</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-7"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-8"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">BadRequest</span><span class="crayon-sy">(</span><span class="crayon-v">ModelState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-9"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-10">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-11"><span class="crayon-h">	 </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">appUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">AppUserManager</span><span class="crayon-sy">.</span><span class="crayon-e">FindByIdAsync</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-12">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-13"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">appUser</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-14"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-15"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">NotFound</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-16"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-18"><span class="crayon-h">	</span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">ClaimBindingModel </span><span class="crayon-e">claimModel </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">claimsToAssign</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-19"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-20"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">appUser</span><span class="crayon-sy">.</span><span class="crayon-v">Claims</span><span class="crayon-sy">.</span><span class="crayon-e">Any</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">ClaimType</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-21"><span class="crayon-h">		&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-22"><span class="crayon-h">			</span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">AppUserManager</span><span class="crayon-sy">.</span><span class="crayon-e">RemoveClaimAsync</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ExtendedClaimsProvider</span><span class="crayon-sy">.</span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Value</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-23"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-24">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-25"><span class="crayon-h">		</span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">AppUserManager</span><span class="crayon-sy">.</span><span class="crayon-e">AddClaimAsync</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ExtendedClaimsProvider</span><span class="crayon-sy">.</span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Value</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-26"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-27"><span class="crayon-h">	</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-28"><span class="crayon-h">	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">Ok</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-29"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-30">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-31"><span class="crayon-sy">[</span><span class="crayon-e">Authorize</span><span class="crayon-sy">(</span><span class="crayon-v">Roles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Admin"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-32"><span class="crayon-sy">[</span><span class="crayon-e">Route</span><span class="crayon-sy">(</span><span class="crayon-s">"user/{id:guid}/removeclaims"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-33"><span class="crayon-sy">[</span><span class="crayon-v">HttpPut</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-34"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">async</span><span class="crayon-h"> </span><span class="crayon-v">Task</span><span class="crayon-o">&lt;</span><span class="crayon-v">IHttpActionResult</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">RemoveClaimsFromUser</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">FromUri</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">FromBody</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">List</span><span class="crayon-o">&lt;</span><span class="crayon-v">ClaimBindingModel</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">claimsToRemove</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-35"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-36">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-37"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">ModelState</span><span class="crayon-sy">.</span><span class="crayon-v">IsValid</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-38"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-39"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">BadRequest</span><span class="crayon-sy">(</span><span class="crayon-v">ModelState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-40"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-42"><span class="crayon-h">	</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">appUser</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">AppUserManager</span><span class="crayon-sy">.</span><span class="crayon-e">FindByIdAsync</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-44"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">appUser</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-45"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-46"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">NotFound</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-47"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-48">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-49"><span class="crayon-h">	</span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">ClaimBindingModel </span><span class="crayon-e">claimModel </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">claimsToRemove</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-50"><span class="crayon-h">	</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-51"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">appUser</span><span class="crayon-sy">.</span><span class="crayon-v">Claims</span><span class="crayon-sy">.</span><span class="crayon-e">Any</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">ClaimType</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-52"><span class="crayon-h">		</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-53"><span class="crayon-h">			</span><span class="crayon-r">await</span><span class="crayon-h"> </span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">AppUserManager</span><span class="crayon-sy">.</span><span class="crayon-e">RemoveClaimAsync</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ExtendedClaimsProvider</span><span class="crayon-sy">.</span><span class="crayon-e">CreateClaim</span><span class="crayon-sy">(</span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">claimModel</span><span class="crayon-sy">.</span><span class="crayon-v">Value</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-54"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-55"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-56">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d25207399381-57"><span class="crayon-h">	</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">Ok</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d25207399381-58"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0054 seconds] -->
<p>The implementation for both methods is very identical, as you noticed we are&nbsp;only allowing users in “Admin” role to access those endpoints, then we are specifying the UserId and a list of the claims that will be add or removed for this user.</p>
<p>Then we are making sure that user specified exists in our system before trying to do any operation on the user.</p>
<p>In case we are adding a new claim for the user, we will check if the user has the same claim type before trying to add it, add if it exists before we’ll remove this claim and add it again with the new claim value.</p>
<p>The same applies when we try to remove a claim from the user, notice that methods “AddClaimAsync” and “RemoveClaimAsync” will save the claims permanently in our SQL data-store in table “AspNetUserClaims”.</p>
<p>Do not forget to add the “ClaimBindingModel” under folder “Models” which acts as our POCO class when we are sending the claims from our front-end application, the class will contain the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e9461bec6d2e084041282" class="crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style="margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">    public class ClaimBindingModel
    {
        [Required]
        [Display(Name = "Claim Type")]
        public string Type { get; set; }

        [Required]
        [Display(Name = "Claim Value")]
        public string Value { get; set; }
    }</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e9461bec6d2e084041282-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d2e084041282-2">2</div><div class="crayon-num" data-line="crayon-5e9461bec6d2e084041282-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d2e084041282-4">4</div><div class="crayon-num" data-line="crayon-5e9461bec6d2e084041282-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d2e084041282-6">6</div><div class="crayon-num" data-line="crayon-5e9461bec6d2e084041282-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d2e084041282-8">8</div><div class="crayon-num" data-line="crayon-5e9461bec6d2e084041282-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5e9461bec6d2e084041282-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e9461bec6d2e084041282-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">ClaimBindingModel</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d2e084041282-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e9461bec6d2e084041282-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-v">Required</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d2e084041282-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">Display</span><span class="crayon-sy">(</span><span class="crayon-v">Name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Claim Type"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d2e084041282-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-e">Type</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-st">get</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">set</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d2e084041282-6">&nbsp;</div><div class="crayon-line" id="crayon-5e9461bec6d2e084041282-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-v">Required</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d2e084041282-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">Display</span><span class="crayon-sy">(</span><span class="crayon-v">Name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Claim Value"</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e9461bec6d2e084041282-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-e">Value</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-st">get</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">set</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5e9461bec6d2e084041282-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>There is no extra steps needed in order to pull those claims from the SQL data-store when establishing the user identity, thanks for the method “CreateIdentityAsync” which is responsible to pull all the claims for the user. We have already implemented this and it can be checked by visiting the&nbsp;<a href="https://github.com/tjoudeh/AspNetIdentity.WebApi/blob/master/AspNetIdentity.WebApi/Infrastructure/ApplicationUser.cs#l31" target="_blank">highlighted LOC</a>.</p>
<p>To test those methods all you need to do is to issue HTTP PUT request to the URI: “http://localhost:59822/api/accounts/user/{UserId}/assignclaims” and “http://localhost:59822/api/accounts/user/{UserId}/removeclaims” as the request images below:</p>
<div id="attachment_1001" style="width: 510px" class="wp-caption alignnone"><a href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/AssignClaims.jpg"><img aria-describedby="caption-attachment-1001" class="wp-image-1001" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/AssignClaims.jpg" alt="Assign Claims" width="500" height="300" srcset="https://bitoftech.net/wp-content/uploads/2015/03/AssignClaims.jpg 660w, https://bitoftech.net/wp-content/uploads/2015/03/AssignClaims-300x180.jpg 300w" sizes="(max-width: 500px) 100vw, 500px"></a><p id="caption-attachment-1001" class="wp-caption-text">Assign Claims</p></div>
<div id="attachment_1002" style="width: 510px" class="wp-caption alignnone"><a href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/RemoveClaims.jpg"><img aria-describedby="caption-attachment-1002" class="wp-image-1002" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/RemoveClaims.jpg" alt="Remove Claims" width="500" height="312" srcset="https://bitoftech.net/wp-content/uploads/2015/03/RemoveClaims.jpg 641w, https://bitoftech.net/wp-content/uploads/2015/03/RemoveClaims-300x187.jpg 300w" sizes="(max-width: 500px) 100vw, 500px"></a><p id="caption-attachment-1002" class="wp-caption-text">Remove Claims</p></div>
<p>That’s it for now folks about implementing Authorization using Claims.</p>
<p>In the next post we’ll build a simple AngularJS application which connects all those posts together, this post should be interesting <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
<h4>The&nbsp;<a href="https://github.com/tjoudeh/AspNetIdentity.WebApi" target="_blank">source code</a>&nbsp;for this tutorial is&nbsp;available&nbsp;on GitHub.</h4>
<h3>Follow me on Twitter&nbsp;<a style="color: #ed702b;" title="Taiseer Joudeh Twitter" href="http://twitter.com/tjoudeh" target="_blank">@tjoudeh</a></h3>
<h3>References</h3>
<ul>
<li><a href="https://msdn.microsoft.com/en-us/library/ff359101.aspx" target="_blank">An Introduction to Claims – MSDN Article</a></li>
<li><a href="http://www.apress.com/9781430265290" target="_blank">Pro ASP.NET MVC 5 book by Adam Freeman – Chapter 15</a></li>
<li><a href="http://typecastexception.com/post/2014/10/26/ASPNET-Web-Api-and-Identity-20-Customizing-Identity-Models-and-Implementing-Role-Based-Authorization.aspx#Role-Based-Authorization-Versus-Claims-Based-Authorization" target="_blank">ASP.NET Web Api and Identity 2.0 – Customizing Identity Models by John Atten</a></li>
<li><a href="https://flic.kr/p/rEwCxH" target="_blank">Featured Image Credit</a></li>
</ul>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Be Sociable, Share!</h3><div class="sd-content"><ul><li class="share-facebook"><div class="fb-share-button fb_iframe_widget" data-href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/" data-layout="button_count" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=249643311490&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2015%2F03%2F31%2Fasp-net-web-api-claims-authorization-with-asp-net-identity-2-1%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey"><span style="vertical-align: bottom; width: 77px; height: 20px;"><iframe name="f15feda6ff4f23" width="1000px" height="1000px" data-testid="fb:share_button Facebook Social Plugin" title="fb:share_button Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/share_button(1).html" style="border: none; visibility: visible; width: 77px; height: 20px;" class=""></iframe></span></div></li><li class="share-twitter"><iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 60px; height: 20px;" title="Twitter Tweet Button" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/tweet_button.6787510241df65d128e2b60207ad4c25.en(1).html" data-url="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/"></iframe></li><li class="share-linkedin"><div class="linkedin_button"><span class="IN-widget" data-lnkd-debug="&lt;script type=&quot;in/share+init&quot; data-url=&quot;https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/&quot; data-counter=&quot;right&quot;&gt;&lt;/script&gt;" style="display: inline-block; line-height: 1; vertical-align: bottom; padding: 0px; margin: 0px; text-indent: 0px; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: bottom !important; font-size: 1px !important;"><button class="IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu"><xdoor-icon aria-hidden="true"><svg viewBox="0 0 24 24" width="24px" height="24px" x="0" y="0" preserveAspectRatio="xMinYMin meet">
      <g style="fill: currentColor">
        <rect x="-0.003" style="fill:none;" width="24" height="24"></rect>
        <path style="" d="M20,2h-16c-1.1,0-2,0.9-2,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2zM8,19h-3v-9h3V19zM6.5,8.8C5.5,8.8,4.7,8,4.7,7s0.8-1.8,1.8-1.8S8.3,6,8.3,7S7.5,8.8,6.5,8.8zM19,19h-3v-4c0-1.4-0.6-2-1.5-2c-1.1,0-1.5,0.8-1.5,2.2V19h-3v-9h2.9v1.1c0.5-0.7,1.4-1.3,2.6-1.3c2.3,0,3.5,1.1,3.5,3.7V19z"></path>
      </g>
    </svg></xdoor-icon>Share</button></span></span></div></li><li class="share-email share-service-visible"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/?share=email&amp;nb=1" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-jetpack-whatsapp"><a rel="nofollow noopener noreferrer" data-shared="" class="share-jetpack-whatsapp sd-button" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/?share=jetpack-whatsapp&amp;nb=1" target="_blank" title="Click to share on WhatsApp"><span>WhatsApp</span></a></li><li class="share-end"></li></ul></div></div></div><!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/"
    dc:identifier="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/"
    dc:title="ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 &#8211; Part 5"
    trackback:ping="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/trackback/" />
</rdf:RDF>-->
</div><div><h3>Related Posts</h3><ul><li><a href="https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/" rel="bookmark" title="Permanent Link toIntegrate Azure AD B2C with ASP.NET MVC Web App – Part 3">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a></li><li><a href="https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/" rel="bookmark" title="Permanent Link toSecure ASP.NET Web API 2 using Azure AD B2C – Part 2">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a></li><li><a href="https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/" rel="bookmark" title="Permanent Link toAzure Active Directory B2C Overview and Policies Management – Part 1">Azure Active Directory B2C Overview and Policies Management – Part 1</a></li><li><a href="https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/" rel="bookmark" title="Permanent Link toASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a></li><li><a href="https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/" rel="bookmark" title="Permanent Link toImplement OAuth JSON Web Tokens Authentication in ASP.NET Web API and Identity 2.1 – Part 3">Implement OAuth JSON Web Tokens Authentication in ASP.NET Web API and Identity 2.1 – Part 3</a></li></ul></div><footer class="entry-footer"><p class="entry-meta"><span class="entry-categories">Filed Under: <a href="https://bitoftech.net/category/asp-net/" rel="category tag">ASP.NET</a>, <a href="https://bitoftech.net/category/asp-net-identity/" rel="category tag">ASP.NET Identity</a>, <a href="https://bitoftech.net/category/asp-net-web-api/" rel="category tag">ASP.Net Web API</a>, <a href="https://bitoftech.net/category/uncategorized/" rel="category tag">Uncategorized</a>, <a href="https://bitoftech.net/category/web-api-security/" rel="category tag">Web API Security</a>, <a href="https://bitoftech.net/category/web-api-tutorial/" rel="category tag">Web API Tutorial</a></span> <span class="entry-tags">Tagged With: <a href="https://bitoftech.net/tag/autherization-server/" rel="tag">Autherization Server</a>, <a href="https://bitoftech.net/tag/claims/" rel="tag">Claims</a>, <a href="https://bitoftech.net/tag/jwt/" rel="tag">JWT</a>, <a href="https://bitoftech.net/tag/oauth/" rel="tag">OAuth</a>, <a href="https://bitoftech.net/tag/token-authentication/" rel="tag">Token Authentication</a></span></p></footer></article><div class="entry-comments" id="comments"><h3>Comments</h3><ol class="comment-list">
	<li class="comment even thread-even depth-1" id="comment-72573">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f73bde9adb1a67cdb94be4d2e89fc94c.jpg" srcset="https://secure.gravatar.com/avatar/f73bde9adb1a67cdb94be4d2e89fc94c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">j hen</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-06T16:40:52+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-72573" itemprop="url">January 6, 2016 at 4:40 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thank you for your tutorials.  They’re like crack to me.  I’m jones-ing for part 6.  I need a fix!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-72573" data-commentid="72573" data-postid="987" data-belowelement="comment-72573" data-respondelement="respond" aria-label="Reply to j hen">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-72782">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-10T01:26:27+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-72782" itemprop="url">January 10, 2016 at 1:26 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-72782" data-commentid="72782" data-postid="987" data-belowelement="comment-72782" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-73114">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/d49abce759eccecd6358577854d813ce.jpg" srcset="https://secure.gravatar.com/avatar/d49abce759eccecd6358577854d813ce?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Julakiss</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-15T17:16:39+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73114" itemprop="url">January 15, 2016 at 5:16 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Joudeh. I have a question. Instead of using ModelFactory it would not be easier to create a generic repository?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73114" data-commentid="73114" data-postid="987" data-belowelement="comment-73114" data-respondelement="respond" aria-label="Reply to Julakiss">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-73167">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-17T11:15:17+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73167" itemprop="url">January 17, 2016 at 11:15 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You can do this, but do not expose your EF entities to consumers, it is always better to create your own business domain models and send them back to the front end. You can use AutoMapper as well.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73167" data-commentid="73167" data-postid="987" data-belowelement="comment-73167" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-73133">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/75c99f637a8383d01fcff21fffedb0d2.jpg" srcset="https://secure.gravatar.com/avatar/75c99f637a8383d01fcff21fffedb0d2?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">kian</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-16T08:08:59+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73133" itemprop="url">January 16, 2016 at 8:08 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer<br>
Great useful and valuable post .</p>
<p>I have created my application using all the steps.<br>
I have published the application in one server with different subdomains(one for web api, one for angularjs app).</p>
<p>Here comes my issue as after login when i click to different pages via link to view it gives me 401 error! (ex: to view order page and then manage page and then again order page it gives error)</p>
<p>I’ve tried and but couldn’t get idea to resolve it !</p>
<p>Can you please help me.</p>
<p>Thank you.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73133" data-commentid="73133" data-postid="987" data-belowelement="comment-73133" data-respondelement="respond" aria-label="Reply to kian">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-73166">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-17T11:13:14+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73166" itemprop="url">January 17, 2016 at 11:13 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Kian,</p>
<p>Did you make sure that the token is being sent with each request? You need to start developer tools and watch the requests sent from UI to the API. As well make sure tat you configured CORS correctly.</p>
<p>Let me know if this helps.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73166" data-commentid="73166" data-postid="987" data-belowelement="comment-73166" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment even depth-3" id="comment-73231">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/75c99f637a8383d01fcff21fffedb0d2.jpg" srcset="https://secure.gravatar.com/avatar/75c99f637a8383d01fcff21fffedb0d2?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">kian</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-18T14:23:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73231" itemprop="url">January 18, 2016 at 2:23 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>Thank you for your valuable reply.</p>
<p>I have check for each request the token is sent properly.<br>
Do i need to configure CORS for each api controller class ?</p>
<p>I have set the application in single domain but the problem is the same of 401 error.<br>
And also could;t make the call from android app !</p>
<p>any spl changes need to make on server ?</p>
<p>m just clueless why this giving me error of 401 which is not in my local iis publish app</p>
<p>Please help me out.</p>
<p>Thank you.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73231" data-commentid="73231" data-postid="987" data-belowelement="comment-73231" data-respondelement="respond" aria-label="Reply to kian">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-73406">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/64a7dbdd414bdc3eae882d7e521cda21.jpg" srcset="https://secure.gravatar.com/avatar/64a7dbdd414bdc3eae882d7e521cda21?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Dew</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-23T22:38:08+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73406" itemprop="url">January 23, 2016 at 10:38 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer</p>
<p>Great useful and valuable post.</p>
<p>How can I add OrderController with CRUD pattern or Repository pattern?<br>
I try to merge this post with <a href="https://bitoftech.net/2013/11/25/applying-repository-pattern-data-access-layer" rel="nofollow ugc">https://bitoftech.net/2013/11/25/applying-repository-pattern-data-access-layer</a><br>
but it not success.</p>
<p>Could you give me some advise?</p>
<p>Thank you,</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73406" data-commentid="73406" data-postid="987" data-belowelement="comment-73406" data-respondelement="respond" aria-label="Reply to Dew">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-73738">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/3efbeb1a1be76f665411c36427af9703.jpg" srcset="https://secure.gravatar.com/avatar/3efbeb1a1be76f665411c36427af9703?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Mostafa</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-31T00:29:22+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73738" itemprop="url">January 31, 2016 at 12:29 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi thanks for the tutorial , did you make the angular part?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73738" data-commentid="73738" data-postid="987" data-belowelement="comment-73738" data-respondelement="respond" aria-label="Reply to Mostafa">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-73758">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/08999aaa24ba623a82546ce6890c8fbc.jpg" srcset="https://secure.gravatar.com/avatar/08999aaa24ba623a82546ce6890c8fbc?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://twitter.com/LoneTruckerG" class="comment-author-link" rel="external nofollow" itemprop="url">Daniel Gunnarsson (@LoneTruckerG)</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-01-31T16:24:29+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73758" itemprop="url">January 31, 2016 at 4:24 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great stuff these articles! Looking forward to more like this!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73758" data-commentid="73758" data-postid="987" data-belowelement="comment-73758" data-respondelement="respond" aria-label="Reply to Daniel Gunnarsson (@LoneTruckerG)">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-73836">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-03T02:03:53+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-73836" itemprop="url">February 3, 2016 at 2:03 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome, happy to hear this!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-73836" data-commentid="73836" data-postid="987" data-belowelement="comment-73836" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-74029">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/81d681ba21a861affbe5554ddb6b70d4.jpg" srcset="https://secure.gravatar.com/avatar/81d681ba21a861affbe5554ddb6b70d4?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Steven Carleton</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-10T00:07:30+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74029" itemprop="url">February 10, 2016 at 12:07 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>When will your Angular example be available?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74029" data-commentid="74029" data-postid="987" data-belowelement="comment-74029" data-respondelement="respond" aria-label="Reply to Steven Carleton">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-74065">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/0fac6708acf405f172ed4a7bb077b3cf.jpg" srcset="https://secure.gravatar.com/avatar/0fac6708acf405f172ed4a7bb077b3cf?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Quarenta</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-11T00:13:57+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74065" itemprop="url">February 11, 2016 at 12:13 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer. I’ve been following your tutorials and i must say i feel like i went back in time to found my favourite teacher… you explain very well.</p>
<p>I leave this reply because i’ve followed all your steps and everything worked well for me, until i moved the project to another directory. Now seems like my valid JWT token is not being recognized by the Identity middleware.</p>
<p>I tried several times and couldn’t get the token to work, so i rolled back the project to the PART 4 version, where only Roles Based is implemented, but still getting the response Unauthorized with content {“message”:”Authorization has been denied for this request.”} when i try to consume “http://localhost/api/claims”.</p>
<p>When i get another token it works fine consuming “http://localhost/api/accounts/users”, but at the moment i try to consume “http://localhost/api/claims” and get as response Unauthorized  {“message”:”Authorization has been denied for this request.”}, all following calls to other endpoints get Unauthorized.</p>
<p>Do you know if this is a bug?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74065" data-commentid="74065" data-postid="987" data-belowelement="comment-74065" data-respondelement="respond" aria-label="Reply to Quarenta">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-2" id="comment-74066">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/0fac6708acf405f172ed4a7bb077b3cf.jpg" srcset="https://secure.gravatar.com/avatar/0fac6708acf405f172ed4a7bb077b3cf?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Quarenta</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-11T00:16:30+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74066" itemprop="url">February 11, 2016 at 12:16 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I would like to append that i implemented the ClaimsController, as the beginning of this tutorial.<br>
Thanks.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74066" data-commentid="74066" data-postid="987" data-belowelement="comment-74066" data-respondelement="respond" aria-label="Reply to Quarenta">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-74095">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-11T18:57:06+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74095" itemprop="url">February 11, 2016 at 6:57 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, happy to hear that posts were clear to implement.<br>
I do not think there is a bug, but I guess the issuer property is not matching the URL for your issuer after you moved it, try to decode the JWT token using jwt.io and check the claims inside it.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74095" data-commentid="74095" data-postid="987" data-belowelement="comment-74095" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-3" id="comment-74102">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/0fac6708acf405f172ed4a7bb077b3cf.jpg" srcset="https://secure.gravatar.com/avatar/0fac6708acf405f172ed4a7bb077b3cf?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Quarenta</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-11T22:35:28+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74102" itemprop="url">February 11, 2016 at 10:35 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Sorry, i forgot to tell that i indeed used JWT.io and iss was ok. By the way i am running the project using inside Visual Studio IIS Express.<br>
Any thoughts why AccountsController accept the JWT and ClaimsController rejects?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74102" data-commentid="74102" data-postid="987" data-belowelement="comment-74102" data-respondelement="respond" aria-label="Reply to Quarenta">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-74188">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/08d8cc454d6096ac6f4bf26ce82d4b89.png" srcset="https://secure.gravatar.com/avatar/08d8cc454d6096ac6f4bf26ce82d4b89?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://gravatar.com/mvasilchenko" class="comment-author-link" rel="external nofollow" itemprop="url">mvasilchenko</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-15T09:41:13+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74188" itemprop="url">February 15, 2016 at 9:41 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Taiseer, Thank you for your work, it really helped me to understand how Authentication works with WebApi. And I believe not only me waiting for the last post ;).</p>
<p>Wish you inspiration for new articles.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74188" data-commentid="74188" data-postid="987" data-belowelement="comment-74188" data-respondelement="respond" aria-label="Reply to mvasilchenko">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-74220">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-16T06:34:26+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74220" itemprop="url">February 16, 2016 at 6:34 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thank you for your sweet comment, happy to help <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74220" data-commentid="74220" data-postid="987" data-belowelement="comment-74220" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-74235">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/312b8c5d9c485d1f7bbb88fe42dfde6a.jpg" srcset="https://secure.gravatar.com/avatar/312b8c5d9c485d1f7bbb88fe42dfde6a?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Ian</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-16T17:35:17+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74235" itemprop="url">February 16, 2016 at 5:35 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer, </p>
<p>thanks very much for this superb series that shows how to build the API for Claims Authorization with ASP.NET Identity. Everything works fine via PostMan, but now I want to be able to create an Asp.Net web solution that will be able to interface with this AspNetIdentity project to enable users to login (and change password etc.) and for me to then be able to control what is displayed in the aspx pages based on the user’s roles. </p>
<p>I’m unsure as to how I can interact with the API (such as /oauth/token for example) via the code-behind an aspx login page, and how to get the User object as such, and the user’s Roles. </p>
<p>Any help you can provide with this would be much appreciated. </p>
<p>With regards, Ian</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74235" data-commentid="74235" data-postid="987" data-belowelement="comment-74235" data-respondelement="respond" aria-label="Reply to Ian">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-74277">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-17T15:32:51+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74277" itemprop="url">February 17, 2016 at 3:32 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Ian,<br>
Happy to hear that posts are useful, you need to use an Http Client so start building http requests and communicate with the Api, <a href="https://wesleycabus.be/2014/06/adding-an-mvc-layer-on-top-of-a-web-api-backend/" rel="nofollow">this post</a> is really useful and shows how you can authenticate, get data, etc..<br>
Hope this will help!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74277" data-commentid="74277" data-postid="987" data-belowelement="comment-74277" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-74290">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/a003144f76c4edbe33d2bf544106fe66.jpg" srcset="https://secure.gravatar.com/avatar/a003144f76c4edbe33d2bf544106fe66?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Stefano</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-17T18:29:06+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74290" itemprop="url">February 17, 2016 at 6:29 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, compliments for all 5 posts, very very interesting. but….the last (part. 6)? I don’t find it.. <img draggable="false" role="img" class="emoji" alt="🙁" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f641.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74290" data-commentid="74290" data-postid="987" data-belowelement="comment-74290" data-respondelement="respond" aria-label="Reply to Stefano">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-74431">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-22T12:40:39+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74431" itemprop="url">February 22, 2016 at 12:40 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Sorry about this <img draggable="false" role="img" class="emoji" alt="🙁" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f641.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74431" data-commentid="74431" data-postid="987" data-belowelement="comment-74431" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-74309">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/e88f0f8f30818a7445004e2bb1133225.jpg" srcset="https://secure.gravatar.com/avatar/e88f0f8f30818a7445004e2bb1133225?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">RP</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-18T15:09:18+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74309" itemprop="url">February 18, 2016 at 3:09 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, </p>
<p>The tutorial was brilliant, I’m experiencing an issue where the claims aren’t being written to the DB.</p>
<p>await this.AppUserManager.AddClaimAsync(id, ExtendedClaimsProvider.CreateClaim(claimModel.Type, claimModel.Value));</p>
<p>It passes this line but doesn’t to anything, I’m not sure why it’s not working.</p>
<p>Thanks in advance</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74309" data-commentid="74309" data-postid="987" data-belowelement="comment-74309" data-respondelement="respond" aria-label="Reply to RP">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-2" id="comment-74310">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/e88f0f8f30818a7445004e2bb1133225.jpg" srcset="https://secure.gravatar.com/avatar/e88f0f8f30818a7445004e2bb1133225?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">RP</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-18T15:18:55+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74310" itemprop="url">February 18, 2016 at 3:18 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I’ve just run the source code and it’s working, I’ll find out whats wrong.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74310" data-commentid="74310" data-postid="987" data-belowelement="comment-74310" data-respondelement="respond" aria-label="Reply to RP">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-74313">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/568f38283b6639a3c6c14c628a356b51.jpg" srcset="https://secure.gravatar.com/avatar/568f38283b6639a3c6c14c628a356b51?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Ashwin Kumar H</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-18T16:21:33+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74313" itemprop="url">February 18, 2016 at 4:21 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>All the five parts are well explained with the required screenshots.  It would be great if you could also show us how to implement the Angular application to consume the API.</p>
<p>Thanks,<br>
Ashwin</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74313" data-commentid="74313" data-postid="987" data-belowelement="comment-74313" data-respondelement="respond" aria-label="Reply to Ashwin Kumar H">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-74430">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-22T12:39:48+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74430" itemprop="url">February 22, 2016 at 12:39 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thank you, I’m working on newest tutorial now to use the new ASP.Net Core 1.0</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74430" data-commentid="74430" data-postid="987" data-belowelement="comment-74430" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-74314">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/e70bc07cc9acdfe510fec328a98879c8.jpg" srcset="https://secure.gravatar.com/avatar/e70bc07cc9acdfe510fec328a98879c8?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Daniel Ellis</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-18T16:49:37+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74314" itemprop="url">February 18, 2016 at 4:49 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Awesome series of posts on Authentication! Your blog will be a first stop source for me from now on. I’ve followed along and learned a huge amount about WebApi and Authentication that I did not know. I’m trying to put what you’ve so graciously taught into practice, but I have a difficult scenario which isn’t quite covered in your series (at least not that I understood), and I can’t find an example like it anywhere else. </p>
<p>I have a scenario where two totally separate web sites (different machines, domains, etc) have basically a parent – child relationship. Visitors will not be coming to my site, the child in the relationship, directly as there is no public content. If they do come directly, I’ll have to redirect them to the parent immediately. In my scenario, Visitors will visit the parent site, log in, and then get a link to my site. They should then be able to click that link and use my site without having to authenticate. Does that make sense?</p>
<p>I don’t want my site (the child) to have any knowledge about the user except what comes to it in the token. I don’t want to collect credentials and call the other server from my site. I want to get the token that has already been placed there by the parent. Is that even possible, and if so, can you point me in the right direction to do this? </p>
<p>Thanks very, very much for any help you can provide, and again thank you for this series.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74314" data-commentid="74314" data-postid="987" data-belowelement="comment-74314" data-respondelement="respond" aria-label="Reply to Daniel Ellis">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-74388">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/741407235c0ecba9c8a739df2b7080ff.jpg" srcset="https://secure.gravatar.com/avatar/741407235c0ecba9c8a739df2b7080ff?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://gravatar.com/momanyijeff" class="comment-author-link" rel="external nofollow" itemprop="url">Jeff</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-21T00:10:41+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74388" itemprop="url">February 21, 2016 at 12:10 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,<br>
Truly this is a great series. I have been able to follow it step by step and indeed learnt a lot. Where I had challenges your responses on the comments came in handy. I have basic idea of how to create a client to communicate wit the API but for a better understanding am hoping to see your final post on this.<br>
Thanks a lot.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74388" data-commentid="74388" data-postid="987" data-belowelement="comment-74388" data-respondelement="respond" aria-label="Reply to Jeff">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-74420">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-02-22T11:42:38+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74420" itemprop="url">February 22, 2016 at 11:42 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Jeff, you are most welcome. Happy to hear that posts were useful and easy to understand.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74420" data-commentid="74420" data-postid="987" data-belowelement="comment-74420" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-74872">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/b0dfbd33af4858f270e9abf778525a0b.jpg" srcset="https://secure.gravatar.com/avatar/b0dfbd33af4858f270e9abf778525a0b?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Willem Luijk</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-03T01:56:48+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74872" itemprop="url">March 3, 2016 at 1:56 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>Is there a chance we will see the AngularJS front end in action tih this backend?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74872" data-commentid="74872" data-postid="987" data-belowelement="comment-74872" data-respondelement="respond" aria-label="Reply to Willem Luijk">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-74888">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-03T13:19:29+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-74888" itemprop="url">March 3, 2016 at 1:19 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p><img draggable="false" role="img" class="emoji" alt="🙁" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f641.svg"> I apologise for not posting this post yet, I will try my best to finalize it soon.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-74888" data-commentid="74888" data-postid="987" data-belowelement="comment-74888" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-3" id="comment-75039">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f93259a700b5ec6268383ae70ae10d72.jpg" srcset="https://secure.gravatar.com/avatar/f93259a700b5ec6268383ae70ae10d72?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Ron</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-08T20:33:36+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75039" itemprop="url">March 8, 2016 at 8:33 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hey  Tarsier, thx for all the work in this very good tutorial. Looking forward to part 6! (can’t wait… <img draggable="false" role="img" class="emoji" alt="😉" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f609.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75039" data-commentid="75039" data-postid="987" data-belowelement="comment-75039" data-respondelement="respond" aria-label="Reply to Ron">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-4" id="comment-75103">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-10T12:02:59+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75103" itemprop="url">March 10, 2016 at 12:02 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Ron, you are most welcome. Thanks for your message.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75103" data-commentid="75103" data-postid="987" data-belowelement="comment-75103" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-75128">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fff3ae482896677f65d9087a2a7ddb4b.png" srcset="https://secure.gravatar.com/avatar/fff3ae482896677f65d9087a2a7ddb4b?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://plus.google.com/114857114480055333946" class="comment-author-link" rel="external nofollow" itemprop="url">Tomasz Jagusz</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-11T12:48:14+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75128" itemprop="url">March 11, 2016 at 12:48 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,<br>
I’m reading Your parts of this tutorial and I must say it is amazing. It is complex, but You write about is in such way I can follow easily.<br>
I’ve noticed that last part is missing, I’d really would like to see how You integrate with Angular.<br>
Hopefully You’ll be able to publish it soon <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75128" data-commentid="75128" data-postid="987" data-belowelement="comment-75128" data-respondelement="respond" aria-label="Reply to Tomasz Jagusz">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-75336">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-15T13:05:25+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75336" itemprop="url">March 15, 2016 at 1:05 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Tom, thanks for your message I will do my best to publish it soon. Thank you</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75336" data-commentid="75336" data-postid="987" data-belowelement="comment-75336" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-75131">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/5199a8a24240189d16f4b6cbc919c467.jpeg" srcset="https://secure.gravatar.com/avatar/5199a8a24240189d16f4b6cbc919c467?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Roj</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-11T14:18:06+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75131" itemprop="url">March 11, 2016 at 2:18 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>This tutorial is so great! I am so happy you decided to use ASP.NET core for part 6 since I am building a project using ASP.NET core too.<br>
Are you going to use Angular2 too?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75131" data-commentid="75131" data-postid="987" data-belowelement="comment-75131" data-respondelement="respond" aria-label="Reply to Roj">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-75335">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-15T13:04:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75335" itemprop="url">March 15, 2016 at 1:04 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Roj, I will be working on another series posts cover asp.net core 1.0 and Angular 2 soon.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75335" data-commentid="75335" data-postid="987" data-belowelement="comment-75335" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-3" id="comment-87755">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9bcc032686b05244e77871d066f22aa6.jpeg" srcset="https://secure.gravatar.com/avatar/9bcc032686b05244e77871d066f22aa6?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Malcolm</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-10-21T12:20:39+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-87755" itemprop="url">October 21, 2016 at 12:20 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer – is the Core series still in the pipeline?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-87755" data-commentid="87755" data-postid="987" data-belowelement="comment-87755" data-respondelement="respond" aria-label="Reply to Malcolm">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-75370">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/db1c706c088dd7b2902d66af795bf745.jpg" srcset="https://secure.gravatar.com/avatar/db1c706c088dd7b2902d66af795bf745?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Brent</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-15T23:20:00+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75370" itemprop="url">March 15, 2016 at 11:20 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>This was an amazing tutorial. I enjoyed it from part 1 to now. Very clear explanations. Keep up the great work!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75370" data-commentid="75370" data-postid="987" data-belowelement="comment-75370" data-respondelement="respond" aria-label="Reply to Brent">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-75704">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-20T22:56:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75704" itemprop="url">March 20, 2016 at 10:56 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome Brent, thanks for your message!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75704" data-commentid="75704" data-postid="987" data-belowelement="comment-75704" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-75674">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/99a4fc5ba7eacd8aeca421bcd1523dbd.jpeg" srcset="https://secure.gravatar.com/avatar/99a4fc5ba7eacd8aeca421bcd1523dbd?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">hisham</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-20T08:27:57+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75674" itemprop="url">March 20, 2016 at 8:27 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>thank you,</p>
<p>i followed your post and when deployed webapi to azure i get issue that the webapi not grant the jwt token send in the request header and always give me “Authorization has been denied for this request”<br>
i coded exp = 120 minutes and then i checked login by postman i always get new toke for every post<br>
i don’t know the reason for that , any help appreciated.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75674" data-commentid="75674" data-postid="987" data-belowelement="comment-75674" data-respondelement="respond" aria-label="Reply to hisham">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-75710">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-21T00:02:49+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75710" itemprop="url">March 21, 2016 at 12:02 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Check that client id, issuer, and secrets are matching. That is the only reason I can think of.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75710" data-commentid="75710" data-postid="987" data-belowelement="comment-75710" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-75820">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fd0c6fa9ace39b5a2ab6db31dd43d33a.png" srcset="https://secure.gravatar.com/avatar/fd0c6fa9ace39b5a2ab6db31dd43d33a?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/" class="comment-author-link" rel="external nofollow" itemprop="url">entilzha</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-23T04:14:28+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75820" itemprop="url">March 23, 2016 at 4:14 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Is it possible to peak in on the magic?  What I mean is I want to find out what happens between the time the http request arrives and when my claims attribute gets a crack at it. In the very first line of OnAuthorizationAsync immediately casts “actionContext.RequestContext.Principal” to a ClaimsPrincipal where we find out whether the user “IsAuthorized” and what the claims in the token are.  So obviously the token has already been unpacked and the identity of the user has already been confirmed or denied.  If the user was denied there is no way for us to learn why.  The principal is mostly an empty object with IsAuthorized set to false.  So, again, I ask…is there any way to see what happens to the token and why it may have resulted in a failure?</p>
<p>I should add I did find out once that this could happen because I had an audience_id mismatch.  You can’t expect the token be decrypted with a different audience_id than was used to encrypt it.  That is not what is happening to me now and I have no idea how to _discover_ more information.  Any tips would be greatly appreciated!  Marcus</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75820" data-commentid="75820" data-postid="987" data-belowelement="comment-75820" data-respondelement="respond" aria-label="Reply to entilzha">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-2" id="comment-75865">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fd0c6fa9ace39b5a2ab6db31dd43d33a.png" srcset="https://secure.gravatar.com/avatar/fd0c6fa9ace39b5a2ab6db31dd43d33a?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://surf2ashe.wordpress.com/" class="comment-author-link" rel="external nofollow" itemprop="url">entilzha</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-03-24T00:21:17+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-75865" itemprop="url">March 24, 2016 at 12:21 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Would you say it is not important to be able to see “behind the curtain” to reveal the code that decrypts the token and populates the identity principal?  The only way this would not be necessary is if all the problems are traceable to inconsistent “client id, issuer, and secrets”?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-75865" data-commentid="75865" data-postid="987" data-belowelement="comment-75865" data-respondelement="respond" aria-label="Reply to entilzha">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-76397">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/72ba8ef998992a40e9f23163aa4b65c1.png" srcset="https://secure.gravatar.com/avatar/72ba8ef998992a40e9f23163aa4b65c1?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://www.androidcanavari.net/" class="comment-author-link" rel="external nofollow" itemprop="url">Mustafa Çağatay Tulun</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-02T15:48:00+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76397" itemprop="url">April 2, 2016 at 3:48 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>Great tutorial series, I think this is simply the best ASP.NET Identity tutorial on the web.</p>
<p>Will part 6 come any time soon? <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76397" data-commentid="76397" data-postid="987" data-belowelement="comment-76397" data-respondelement="respond" aria-label="Reply to Mustafa Çağatay Tulun">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-76421">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-03T01:25:05+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76421" itemprop="url">April 3, 2016 at 1:25 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome. This had been pending for one year <img draggable="false" role="img" class="emoji" alt="🙁" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f641.svg"> better to write it using Angular 2 maybe!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76421" data-commentid="76421" data-postid="987" data-belowelement="comment-76421" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment even depth-3" id="comment-76453">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/72ba8ef998992a40e9f23163aa4b65c1.png" srcset="https://secure.gravatar.com/avatar/72ba8ef998992a40e9f23163aa4b65c1?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://www.androidcanavari.net/" class="comment-author-link" rel="external nofollow" itemprop="url">Mustafa Çağatay Tulun</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-03T12:43:49+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76453" itemprop="url">April 3, 2016 at 12:43 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>The life keeps us really busy sometimes, I totally understand. I’m eager to see your next tutorial. Take care!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76453" data-commentid="76453" data-postid="987" data-belowelement="comment-76453" data-respondelement="respond" aria-label="Reply to Mustafa Çağatay Tulun">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt depth-3" id="comment-76494">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fff3ae482896677f65d9087a2a7ddb4b.png" srcset="https://secure.gravatar.com/avatar/fff3ae482896677f65d9087a2a7ddb4b?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://plus.google.com/114857114480055333946" class="comment-author-link" rel="external nofollow" itemprop="url">Tomasz Jagusz</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-04T11:24:02+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76494" itemprop="url">April 4, 2016 at 11:24 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You may post Angular 1 version. Not everyone is moving to Angular 2 already <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76494" data-commentid="76494" data-postid="987" data-belowelement="comment-76494" data-respondelement="respond" aria-label="Reply to Tomasz Jagusz">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-76442">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/bc6ba3759198cb0441e3dc9acaf3c620.jpg" srcset="https://secure.gravatar.com/avatar/bc6ba3759198cb0441e3dc9acaf3c620?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">tedwardc</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-03T06:52:33+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76442" itemprop="url">April 3, 2016 at 6:52 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>What about the requirement to use Windows authentication (but with custom authorization algorithm)?  I’d still like to create all services in RESTful way utilizing best practices and avoid using windows/basic authentication in Web API.  </p>
<p>Any advice/examples on how to pull this off? </p>
<p>I also vote for a AngularJS 1.5X version for part 6 in this series… partially because my project is currently using this version and partially because I’m more intrigued by Aureila than Angular 2 right now <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
<p>Great work – please keep it coming!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76442" data-commentid="76442" data-postid="987" data-belowelement="comment-76442" data-respondelement="respond" aria-label="Reply to tedwardc">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-76520">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/61d088784f83a1b9d4ba6bebe56832aa.jpeg" srcset="https://secure.gravatar.com/avatar/61d088784f83a1b9d4ba6bebe56832aa?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Jim</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-05T00:22:04+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-76520" itemprop="url">April 5, 2016 at 12:22 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great series. Learned a lot. Any idea when you will post part 6 – AngularJS Authentication and Authorization with ASP.NET Web API and Identity 2.1 ?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-76520" data-commentid="76520" data-postid="987" data-belowelement="comment-76520" data-respondelement="respond" aria-label="Reply to Jim">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-77135">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/8f567247facf1d30f0ce4f80e32b4966.jpg" srcset="https://secure.gravatar.com/avatar/8f567247facf1d30f0ce4f80e32b4966?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">test test</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-14T12:33:08+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-77135" itemprop="url">April 14, 2016 at 12:33 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great tutorials – thank you.</p>
<p>I have a question regarding the ClaimsAuthorization Action Filter.</p>
<p>What if I need a controller to allow users with multiple claims rather than only one?</p>
<p>For instance if I do this, the user needs to have both Claims to be allowed to use the cotroller, when I only need the user to have one them:</p>
<p>[ClaimsAuthorization(ClaimType=”Role”, ClaimValue=”edit”)]<br>
[ClaimsAuthorization(ClaimType=”Role”, ClaimValue=”view”)]<br>
public class MyController()<br>
{<br>
}</p>
<p>Is there any way around this?</p>
<p>Thanks</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-77135" data-commentid="77135" data-postid="987" data-belowelement="comment-77135" data-respondelement="respond" aria-label="Reply to test test">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-77403">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-19T20:59:14+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-77403" itemprop="url">April 19, 2016 at 8:59 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You can sent the claim value to and claim type to accept comma separated value and you do the implementation there.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-77403" data-commentid="77403" data-postid="987" data-belowelement="comment-77403" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-77453">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/29b897ad15f4293c4f8b0aac52e19fa3.jpg" srcset="https://secure.gravatar.com/avatar/29b897ad15f4293c4f8b0aac52e19fa3?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://gravatar.com/moet1016" class="comment-author-link" rel="external nofollow" itemprop="url">moet1016</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-21T01:27:15+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-77453" itemprop="url">April 21, 2016 at 1:27 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great tutorials. I have been following your tutorials for a little while now. I have a quick question. I have an asp web api backend with angular front end app from your previous tutorial. Everything works great. I have one specific situation where I need to be able to direct a user from the front end app to a server side mvc view page. Since it is not possible to pass authentication headers on a redirect from javascript, I was wondering how I can configure the customoauthprovider to accept the token from the url. This way I can append the users token <a href="http://www.example.com/?token=" rel="nofollow ugc">http://www.example.com/?token=</a>** to the url and can be authorized to access the one mvc view. It wouldn’t be the end of the world if I allowed anonymous on this mvc view, however I need the user logged in to store data in the user claim. Any thoughts on how I can configure the Custom provider to accept the token from the url for this one request? Thank you in advance, I need help.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-77453" data-commentid="77453" data-postid="987" data-belowelement="comment-77453" data-respondelement="respond" aria-label="Reply to moet1016">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-77477">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/98c81164fe5934f23ed5723e261d05a2.jpg" srcset="https://secure.gravatar.com/avatar/98c81164fe5934f23ed5723e261d05a2?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Raj</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-04-21T12:44:35+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-77477" itemprop="url">April 21, 2016 at 12:44 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, Nice article thanks for that. Is is possible to convert a Form[“Auth”] value to ClaimPrincipal? I have a some scenarios where i can’t set headers in the request. In this case i need to override the claims from HttpContextBase.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-77477" data-commentid="77477" data-postid="987" data-belowelement="comment-77477" data-respondelement="respond" aria-label="Reply to Raj">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-78489">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/be9668d7670cfb071457ce7fd4602131.jpg" srcset="https://secure.gravatar.com/avatar/be9668d7670cfb071457ce7fd4602131?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Megha</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-05-17T08:04:44+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-78489" itemprop="url">May 17, 2016 at 8:04 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello, Nice article. I am unable to view the last post of the series. Am I missing something, can anyone forward link please.Thanks!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-78489" data-commentid="78489" data-postid="987" data-belowelement="comment-78489" data-respondelement="respond" aria-label="Reply to Megha">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-79762">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/c85c2adf92fb4eebe6ba7043575b4813.jpg" srcset="https://secure.gravatar.com/avatar/c85c2adf92fb4eebe6ba7043575b4813?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Lee</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-06-11T17:14:15+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-79762" itemprop="url">June 11, 2016 at 5:14 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>I have a question about the claims.Dose these claims will be encrypted into a token and send to client?<br>
If so,How to deal with claims update? Cause some time user’s email or role would change.</p>
<p>Thanks</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-79762" data-commentid="79762" data-postid="987" data-belowelement="comment-79762" data-respondelement="respond" aria-label="Reply to Lee">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-80019">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-06-18T18:38:37+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-80019" itemprop="url">June 18, 2016 at 6:38 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Lee,<br>
The claims inside the token, and change on the value of any claim means you need to generate new token, You can’t update a token. Unless you are using something called <strong>reference tokens</strong> not self contained tokens.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-80019" data-commentid="80019" data-postid="987" data-belowelement="comment-80019" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-80631">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/da41639f6faf4a7be029a0ad2862b76b.jpg" srcset="https://secure.gravatar.com/avatar/da41639f6faf4a7be029a0ad2862b76b?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">MG</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-06-28T19:26:08+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-80631" itemprop="url">June 28, 2016 at 7:26 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great post, helped a lot but this works great for a small number of claims, what if the claims become too many to include in a token? </p>
<p>For example, if you implement a permission based security, like an Admin role that can do so and so, how would you go about breaking apart your claims?</p>
<p>If you let the api manage that through different permission based endpoints, wouldn’t that defeat the purpose of claims?</p>
<p>Thanks for the reply,</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-80631" data-commentid="80631" data-postid="987" data-belowelement="comment-80631" data-respondelement="respond" aria-label="Reply to MG">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-81121">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/d82eed292fddb305a162ea1a98a45703.jpg" srcset="https://secure.gravatar.com/avatar/d82eed292fddb305a162ea1a98a45703?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Raul Marquez3</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-07-07T00:36:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-81121" itemprop="url">July 7, 2016 at 12:36 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, great article!</p>
<p>I have a question about some of the methods in this project, the ones that receive data like this:</p>
<p>public async Task AssignRolesToUser([FromUri]string id, [FromBody]string[] rolesToAssign)</p>
<p>I can’t for the life of me make rolesToAssign catch and bind the roles, it’s either null or string{0}, I’m using ExtJs ajax calls to test this out but like I mentioned, no luck -_-. The id does catch the value.</p>
<p>Got any ideas?</p>
<p>Here’s how I’m testing it:</p>
<p>var arrayRoles = [‘Admin’, ‘SuperAdmin’];<br>
var val = {<br>
  rolesToAssign: arrayRoles<br>
};<br>
Ext.Ajax.request({<br>
  method: ‘PUT’,<br>
  url: url,<br>
  headers: {<br>
    ‘Content-Type’: ‘application/json’,<br>
    ‘Accept’: ‘application/json’<br>
  },<br>
  jsonData: val,<br>
  success: function (response) {<br>
  },<br>
  failure: function (form, result) {<br>
  }<br>
});</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-81121" data-commentid="81121" data-postid="987" data-belowelement="comment-81121" data-respondelement="respond" aria-label="Reply to Raul Marquez3">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-81317">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-07-10T10:56:02+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-81317" itemprop="url">July 10, 2016 at 10:56 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Raul,<br>
Can you try to use a REST client (POSTMan) at the beginning to shape your request and make sure you are building the desired JSON request which binds to the method. It seems your issue in the ExtJs library. If it didn’t work please drop a question on StackOverflow.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-81317" data-commentid="81317" data-postid="987" data-belowelement="comment-81317" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-82315">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/8c0a6404fae370c269d585c4f5536542.jpg" srcset="https://secure.gravatar.com/avatar/8c0a6404fae370c269d585c4f5536542?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Salma</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-08-02T23:54:49+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-82315" itemprop="url">August 2, 2016 at 11:54 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Great post!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-82315" data-commentid="82315" data-postid="987" data-belowelement="comment-82315" data-respondelement="respond" aria-label="Reply to Salma">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-83508">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/a971613b5d4480e7751d950de6d09efd.png" srcset="https://secure.gravatar.com/avatar/a971613b5d4480e7751d950de6d09efd?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Axel</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-08-18T16:11:33+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-83508" itemprop="url">August 18, 2016 at 4:11 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I have been following this site since February 11, 2015 –all for this post “AngularJS Authentication and Authorization with ASP.NET Web API and Identity 2.1 – Part 6” –I’ve been waiting for that post for more than 1 year but it seems like the author forgot about it… T_T</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-83508" data-commentid="83508" data-postid="987" data-belowelement="comment-83508" data-respondelement="respond" aria-label="Reply to Axel">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-83653">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-08-21T12:02:58+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-83653" itemprop="url">August 21, 2016 at 12:02 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Sorry Alex about this. things drafter since the last year. But I’m working now on couple of posts about Azure AD B2C, the new way that Microsoft is using for authentication in modern apps <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-83653" data-commentid="83653" data-postid="987" data-belowelement="comment-83653" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-84782">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/8e9e6313f5fa257465e91510b4cc227f.png" srcset="https://secure.gravatar.com/avatar/8e9e6313f5fa257465e91510b4cc227f?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Brian</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-08T13:46:04+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-84782" itemprop="url">September 8, 2016 at 1:46 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Amazing article. I’ve learned so much. Thank you. We’re all eagerly awaiting that final post. </p>
<p>I’m already trying to consume the web Api using MVC 5, which is a new technology to me. I know that the AngularJS project will clarify a lot of things to me and I’m checking everyday if you’ve posted the article.<br>
 Can you give us a clue as to when that will be?  .. Again, an absolutely brilliant series of articles that you’ve put together.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-84782" data-commentid="84782" data-postid="987" data-belowelement="comment-84782" data-respondelement="respond" aria-label="Reply to Brian">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-84994">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/e9c3073acc101012d20faa473e7bbe2c.jpg" srcset="https://secure.gravatar.com/avatar/e9c3073acc101012d20faa473e7bbe2c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Artsiom</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-11T18:40:35+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-84994" itemprop="url">September 11, 2016 at 6:40 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Another fabulous tutorial from Taiseer. You’re awesome! Thanks for the great work!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-84994" data-commentid="84994" data-postid="987" data-belowelement="comment-84994" data-respondelement="respond" aria-label="Reply to Artsiom">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-85143">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-13T21:35:13+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-85143" itemprop="url">September 13, 2016 at 9:35 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome, thanks for your message <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-85143" data-commentid="85143" data-postid="987" data-belowelement="comment-85143" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-86003">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/13e09eb66f24918a69b1d3f4ee0b972e.jpg" srcset="https://secure.gravatar.com/avatar/13e09eb66f24918a69b1d3f4ee0b972e?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://www.forumstudentitrento.it/" class="comment-author-link" rel="external nofollow" itemprop="url">Lorenzo</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-27T16:58:04+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-86003" itemprop="url">September 27, 2016 at 4:58 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thanks to this project. I am trying unsuccessfully to convert Angular 2, now that it was officially released.<br>
You’re going to update the application?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-86003" data-commentid="86003" data-postid="987" data-belowelement="comment-86003" data-respondelement="respond" aria-label="Reply to Lorenzo">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-86373">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-10-02T13:51:50+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-86373" itemprop="url">October 2, 2016 at 1:51 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Lorenzo,<br>
I didn’t play with Angular 2, so it is hard for me to convert it. Sorry about this.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-86373" data-commentid="86373" data-postid="987" data-belowelement="comment-86373" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-86016">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/8fae1f04a907281efdd6282675f10b2a.jpg" srcset="https://secure.gravatar.com/avatar/8fae1f04a907281efdd6282675f10b2a?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Clint</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-27T20:21:01+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-86016" itemprop="url">September 27, 2016 at 8:21 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I tried your first part, word for word, but I am getting a 404 File not Found error when I try to use your testing links. I am sure I am using the correct localhost port.</p>
<p>I put break points thought out the project and NONE of them get hit when I attempt to call the API though Chrome app Postman.</p>
<p>So what have you missed? Do we need a global.asax file to kick off the API?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-86016" data-commentid="86016" data-postid="987" data-belowelement="comment-86016" data-respondelement="respond" aria-label="Reply to Clint">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-2" id="comment-86019">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/8fae1f04a907281efdd6282675f10b2a.jpg" srcset="https://secure.gravatar.com/avatar/8fae1f04a907281efdd6282675f10b2a?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Clint</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-27T20:54:20+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-86019" itemprop="url">September 27, 2016 at 8:54 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Found the problem. Since I added the project to an existing solution, the solutions properties did not have the multiple startup projects set. This is odd since IIS Express showed the port number active from the systray icon, but the project was not starting at all.</p>
<p>Set the Action to start and my breakpoints are getting hit. ARGH!! Noob mistake.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-86019" data-commentid="86019" data-postid="987" data-belowelement="comment-86019" data-respondelement="respond" aria-label="Reply to Clint">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-86100">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/114495a78f88d46d6f619e1b10aa07ab.jpg" srcset="https://secure.gravatar.com/avatar/114495a78f88d46d6f619e1b10aa07ab?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">nel</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-09-28T22:11:05+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-86100" itemprop="url">September 28, 2016 at 10:11 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>just wondering why this article<br>
AngularJS Authentication and Authorization with ASP.NET Web API and Identity 2.1 – Part 6 never came up as its past<br>
6 months?? not good at all leaving your readers hangup.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-86100" data-commentid="86100" data-postid="987" data-belowelement="comment-86100" data-respondelement="respond" aria-label="Reply to nel">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-88607">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/2544d4bcc41c5833363509c116ddfa15.png" srcset="https://secure.gravatar.com/avatar/2544d4bcc41c5833363509c116ddfa15?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://salemalbadawi.wordpress.com/" class="comment-author-link" rel="external nofollow" itemprop="url">salem salah</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-11-01T14:37:52+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-88607" itemprop="url">November 1, 2016 at 2:37 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>from where i can create AudienceSecret value</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-88607" data-commentid="88607" data-postid="987" data-belowelement="comment-88607" data-respondelement="respond" aria-label="Reply to salem salah">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-88761">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-11-03T19:17:12+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-88761" itemprop="url">November 3, 2016 at 7:17 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Salem,<br>
As far as I remember this exists in the Seed Method of the entity framework.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-88761" data-commentid="88761" data-postid="987" data-belowelement="comment-88761" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-88657">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/403f3b03cbe550a561213962d45eb0ae.jpg" srcset="https://secure.gravatar.com/avatar/403f3b03cbe550a561213962d45eb0ae?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">sepehr</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-11-02T09:14:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-88657" itemprop="url">November 2, 2016 at 9:14 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thanks sir ,<br>
Eagerly  waiting for the 6th part . These series are the most popular among developers I saw many stackoverflow developers are referencing your blog. thank you so much again Tai<br>
seer</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-88657" data-commentid="88657" data-postid="987" data-belowelement="comment-88657" data-respondelement="respond" aria-label="Reply to sepehr">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-91569">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/d114d46a100f0b80a0d6c6123abc16c6.jpg" srcset="https://secure.gravatar.com/avatar/d114d46a100f0b80a0d6c6123abc16c6?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Mohtshm</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2016-12-09T00:18:59+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-91569" itemprop="url">December 9, 2016 at 12:18 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi, </p>
<p>It really amazing to see such a great stuff revealed, but I am still unable to find where obtained token are being scanned in resource server. Plz mentioned the name of method/action.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-91569" data-commentid="91569" data-postid="987" data-belowelement="comment-91569" data-respondelement="respond" aria-label="Reply to Mohtshm">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-94065">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/40ad07eac9b2dbf727a356e26583e4a2.jpg" srcset="https://secure.gravatar.com/avatar/40ad07eac9b2dbf727a356e26583e4a2?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Markus Herkommer</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-03T15:02:11+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94065" itemprop="url">January 3, 2017 at 3:02 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello,</p>
<p>thanks for this great tutorial…<br>
For the first time I get a better understanding of the identity system!</p>
<p>But I have some questions about the claims thing…<br>
Clear for me is that these claims are dynamic and I can store any userinformation there.<br>
But why you store a phone number and the gender there? (postman example)<br>
This would be make more sense for saving it in the user table?<br>
And why creating claims for roles, when I can create and assign roles for the specific user?</p>
<p>I know at least these roles and infos are saved in claims to, but why use it directly?<br>
It not more clear to save these things directly?</p>
<p>bye<br>
Markus</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94065" data-commentid="94065" data-postid="987" data-belowelement="comment-94065" data-respondelement="respond" aria-label="Reply to Markus Herkommer">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-94456">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-08T21:33:13+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94456" itemprop="url">January 8, 2017 at 9:33 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Markus, thanks for your comment.<br>
Regarding storing the phone number and gender, this was for demo purposes, you will for sure store those claims in the DB too. I remember in a previous project I worked on that I stored the phone number in the claims as I needed this information in all the requests I sent, so instead of reaching the DB on each request to get the phone number by user id I get the mobile number from the token.</p>
<p>Can you elaborate more on the claims for roles question? I didn’t get that.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94456" data-commentid="94456" data-postid="987" data-belowelement="comment-94456" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-94719">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/76dd21a5c66bc2334028e460c7cb12b4.jpeg" srcset="https://secure.gravatar.com/avatar/76dd21a5c66bc2334028e460c7cb12b4?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Kushal Kamra</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-12T13:58:45+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94719" itemprop="url">January 12, 2017 at 1:58 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Excellent tutorials mate…<br>
Not only they helped me crack some issues but also grab a few new concepts as well.<br>
Looking forward to future ones.<br>
Cheers !!!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94719" data-commentid="94719" data-postid="987" data-belowelement="comment-94719" data-respondelement="respond" aria-label="Reply to Kushal Kamra">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-94918">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-15T15:34:15+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94918" itemprop="url">January 15, 2017 at 3:34 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are most welcome Kushal, happy to hear it was that good <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94918" data-commentid="94918" data-postid="987" data-belowelement="comment-94918" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-94741">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/b4e1a2970b586dfedae758fb7459474d.jpg" srcset="https://secure.gravatar.com/avatar/b4e1a2970b586dfedae758fb7459474d?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Alain Garcia</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-12T20:08:07+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94741" itemprop="url">January 12, 2017 at 8:08 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Tayseer Joudeh,</p>
<p>I hope you are doing great!!!</p>
<p>All your posts are awesome, but there are some readers (including me), that are still waiting about the 6th part of this post, it would be really helpfull if you finish it. Again, thanks for all your work, it’s the best!!!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94741" data-commentid="94741" data-postid="987" data-belowelement="comment-94741" data-respondelement="respond" aria-label="Reply to Alain Garcia">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-2" id="comment-94915">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-15T15:32:22+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-94915" itemprop="url">January 15, 2017 at 3:32 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thank you Alian, I know this has been for a while <img draggable="false" role="img" class="emoji" alt="🙁" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f641.svg"> but if you an urgent need for this, there is Plural Sight course which covers this 6 part deeply, I recommend you watching it.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-94915" data-commentid="94915" data-postid="987" data-belowelement="comment-94915" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-3" id="comment-95025">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/b86b3f327420c11542dcf6a097da5581.jpeg" srcset="https://secure.gravatar.com/avatar/b86b3f327420c11542dcf6a097da5581?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Kamsu</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-17T06:10:02+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-95025" itemprop="url">January 17, 2017 at 6:10 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Many thank for your help!</p>
<p>Please can we have the Plural Sight link for this course?</p>
<p>Thank!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-95025" data-commentid="95025" data-postid="987" data-belowelement="comment-95025" data-respondelement="respond" aria-label="Reply to Kamsu">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor even depth-4" id="comment-95416">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-22T22:41:08+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-95416" itemprop="url">January 22, 2017 at 10:41 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello Kamsu,<br>
This <a href="https://www.pluralsight.com/courses/oauth2-openid-connect-angular-aspdotnet" target="_blank" rel="nofollow">course </a>and <a href="https://www.pluralsight.com/courses/building-securing-restful-api-aspdotnet" target="_blank" rel="nofollow">this course</a> will be very useful.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-95416" data-commentid="95416" data-postid="987" data-belowelement="comment-95416" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-95872">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/0aa6fedab6ce0ca0ddcfa20aeaa9ab53.png" srcset="https://secure.gravatar.com/avatar/0aa6fedab6ce0ca0ddcfa20aeaa9ab53?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://www.ducklingdata.com/" class="comment-author-link" rel="external nofollow" itemprop="url">Rob</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-30T03:00:10+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-95872" itemprop="url">January 30, 2017 at 3:00 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I followed the tutorial to decouple the api and ran into an issue with the custom jwt format.  in the resource api I need to be able to implement the unprotect method I believe in order for it to understand the token.  Am I right?  How can I implement this?  I’m at a total road block with this lol</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-95872" data-commentid="95872" data-postid="987" data-belowelement="comment-95872" data-respondelement="respond" aria-label="Reply to Rob">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment even depth-2" id="comment-95928">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/0aa6fedab6ce0ca0ddcfa20aeaa9ab53.png" srcset="https://secure.gravatar.com/avatar/0aa6fedab6ce0ca0ddcfa20aeaa9ab53?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://www.ducklingdata.com/" class="comment-author-link" rel="external nofollow" itemprop="url">Rob</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-01-31T04:45:29+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-95928" itemprop="url">January 31, 2017 at 4:45 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Please disregard.  I found a hint that I was on the wrong path and instead moved the ConfigureOAuthTokenConsumption method over to my resource api and boom!  happy dances all around.  Thank you for the hard work on this.  It has taught me well.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-95928" data-commentid="95928" data-postid="987" data-belowelement="comment-95928" data-respondelement="respond" aria-label="Reply to Rob">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-3" id="comment-96074">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-02-02T02:04:26+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-96074" itemprop="url">February 2, 2017 at 2:04 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome, happy to hear is its working successfully <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-96074" data-commentid="96074" data-postid="987" data-belowelement="comment-96074" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-96998">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/c08ee0fbc43ce87840e2759ef0d6973c.jpg" srcset="https://secure.gravatar.com/avatar/c08ee0fbc43ce87840e2759ef0d6973c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">peter</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-02-14T16:01:56+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-96998" itemprop="url">February 14, 2017 at 4:01 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>I’ve been following through all 5 parts and they have been very helpful, so many many thanks.  This is starting to make sense now. <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
<p>I encountered an issue with assigning claims to a user.  I can create custom claims for a user that are stored in the Claims table.  However when I assign a new set of claims, the claims are not removed from the table and added once again.</p>
<p>Upon debugging I noticed that the call to UserManager.FindByIsAsync(id) does not return any values within the Claims property.  So the check to remove existing claims is by-passed.</p>
<p>Any ideas here?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-96998" data-commentid="96998" data-postid="987" data-belowelement="comment-96998" data-respondelement="respond" aria-label="Reply to peter">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-98480">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-03-05T03:02:16+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-98480" itemprop="url">March 5, 2017 at 3:02 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi peter,<br>
That is strange, currently, I do not have any ideas on this, but this is related to EF and UserManager, are you sure the claims are not deleted before trying to retrieve them?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-98480" data-commentid="98480" data-postid="987" data-belowelement="comment-98480" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment even depth-3" id="comment-99541">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1ec6867ec1f0ecc69afeb532d129f011.jpg" srcset="https://secure.gravatar.com/avatar/1ec6867ec1f0ecc69afeb532d129f011?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Paul</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-03-15T23:58:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-99541" itemprop="url">March 15, 2017 at 11:58 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>Awesome posts! Helps alot!<br>
But i’m stuck with exactly the same problem as Peter. No claims are retrieved from the database by EF…</p>
<p>Any ideas?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-99541" data-commentid="99541" data-postid="987" data-belowelement="comment-99541" data-respondelement="respond" aria-label="Reply to Paul">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-97169">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/403f3b03cbe550a561213962d45eb0ae.jpg" srcset="https://secure.gravatar.com/avatar/403f3b03cbe550a561213962d45eb0ae?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">sepehr</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-02-16T23:36:12+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-97169" itemprop="url">February 16, 2017 at 11:36 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Again thanks you so much sir ,still eagerly waiting for the sixth part Taiseer …<br>
How is it possible to store JWT in cookie?</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-97169" data-commentid="97169" data-postid="987" data-belowelement="comment-97169" data-respondelement="respond" aria-label="Reply to sepehr">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-97734">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/eb3574758c7cd43ca5277750fcea553e.jpg" srcset="https://secure.gravatar.com/avatar/eb3574758c7cd43ca5277750fcea553e?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Clarkio</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-02-24T20:39:30+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-97734" itemprop="url">February 24, 2017 at 8:39 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Excellent set of articles, thank you very much for taking the time to author them.  Had no problem following them with the odd reference to the source code project for the correct using statements where there was a namespace ambiguity.</p>
<p>Feel I know a lot more about JWT and OAuth now and looking forward to Part 6</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-97734" data-commentid="97734" data-postid="987" data-belowelement="comment-97734" data-respondelement="respond" aria-label="Reply to Clarkio">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-98481">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-03-05T03:03:10+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-98481" itemprop="url">March 5, 2017 at 3:03 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome Clarkio, happy to hear this was easy to follow with.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-98481" data-commentid="98481" data-postid="987" data-belowelement="comment-98481" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-100111">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1b9a126871f4f45dfcd482e0772e6cda.jpg" srcset="https://secure.gravatar.com/avatar/1b9a126871f4f45dfcd482e0772e6cda?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">alfq</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-03-22T21:18:06+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-100111" itemprop="url">March 22, 2017 at 9:18 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Wonderful series. Thank you for putting these all together.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-100111" data-commentid="100111" data-postid="987" data-belowelement="comment-100111" data-respondelement="respond" aria-label="Reply to alfq">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-100318">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-03-26T01:20:38+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-100318" itemprop="url">March 26, 2017 at 1:20 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>You are welcome, happy to hear this <img draggable="false" role="img" class="emoji" alt="🙂" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1f642.svg"></p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-100318" data-commentid="100318" data-postid="987" data-belowelement="comment-100318" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-101079">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/2e4eed3390dfbb8a68f3322ded8bf4c8.jpg" srcset="https://secure.gravatar.com/avatar/2e4eed3390dfbb8a68f3322ded8bf4c8?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">John</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-04-03T13:13:40+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-101079" itemprop="url">April 3, 2017 at 1:13 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer. Thanks for all these really good guides. They are all very helpful for a rookie webdev as me.<br>
In your last part, cant you add some extra model classes (db tables) with one-to-many and many-to-many relationship with the ApplicationUser class.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-101079" data-commentid="101079" data-postid="987" data-belowelement="comment-101079" data-respondelement="respond" aria-label="Reply to John">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment byuser comment-author-tayseer_joudehhotmail-com bypostauthor odd alt depth-2" id="comment-101546">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c.png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="https://bitoftech.net/taiseer-joudeh-blog/" class="comment-author-link" rel="external nofollow" itemprop="url">Taiseer Joudeh</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-04-08T18:17:11+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-101546" itemprop="url">April 8, 2017 at 6:17 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi John, this is purely related to EF configuration, maybe this <a href="http://www.entityframeworktutorial.net/code-first/configure-many-to-many-relationship-in-code-first.aspx" target="_blank" rel="nofollow">post</a> will be useful for your case.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-101546" data-commentid="101546" data-postid="987" data-belowelement="comment-101546" data-respondelement="respond" aria-label="Reply to Taiseer Joudeh">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-107514">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/b4e03045f8e3b890f57228dc16fac60c.jpg" srcset="https://secure.gravatar.com/avatar/b4e03045f8e3b890f57228dc16fac60c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">siva</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-07-04T18:54:33+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-107514" itemprop="url">July 4, 2017 at 6:54 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>actionContext.Request.CreateResponse(HttpStatusCode.Unauthorized);</p>
<p>System.Net.Http.HttpRequestMessage downs not contains  CreateResponse</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-107514" data-commentid="107514" data-postid="987" data-belowelement="comment-107514" data-respondelement="respond" aria-label="Reply to siva">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment odd alt depth-2" id="comment-107515">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/b4e03045f8e3b890f57228dc16fac60c.jpg" srcset="https://secure.gravatar.com/avatar/b4e03045f8e3b890f57228dc16fac60c?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">siva</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-07-04T19:00:26+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-107515" itemprop="url">July 4, 2017 at 7:00 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>i forget to include using System.Net.Http; now its resolved.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-107515" data-commentid="107515" data-postid="987" data-belowelement="comment-107515" data-respondelement="respond" aria-label="Reply to siva">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-108459">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/da4892c57709c376f0901e72a11685c9.png" srcset="https://secure.gravatar.com/avatar/da4892c57709c376f0901e72a11685c9?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Kunbi</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-07-17T17:28:30+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-108459" itemprop="url">July 17, 2017 at 5:28 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi Taiseer,</p>
<p>Thanks for the great write up. I have been following your write up because I find it difficult to understand this identity server thing as a whole. I am tasked to build a custom identity server that can be used to serve multiple applications ( it will identify users and grant them access to applications to have access to).</p>
<p>My idea is to use your implementation with the Claims Authorization bit of it – don’t know if that is a good strategy. Also been looking forward to the part 6 of your tutorial. As I would like to create clients (mvc applications) that will be served by my idneity server implementation (SOMETHING like what your tutorial has taught me)</p>
<p>Thanks and looking forward to your reply.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-108459" data-commentid="108459" data-postid="987" data-belowelement="comment-108459" data-respondelement="respond" aria-label="Reply to Kunbi">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-110545">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/c65b14f6a385410f3cb9ae61af5fd0ae.png" srcset="https://secure.gravatar.com/avatar/c65b14f6a385410f3cb9ae61af5fd0ae?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">btduoc71</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-08-09T07:31:03+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-110545" itemprop="url">August 9, 2017 at 7:31 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thanks very much. Waiting for Part 6!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-110545" data-commentid="110545" data-postid="987" data-belowelement="comment-110545" data-respondelement="respond" aria-label="Reply to btduoc71">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-111896">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/7e6a4769a6e42f8ff93ace3e01bfb508.jpg" srcset="https://secure.gravatar.com/avatar/7e6a4769a6e42f8ff93ace3e01bfb508?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Eduardo Sanfiorenzo</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-08-23T04:45:39+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-111896" itemprop="url">August 23, 2017 at 4:45 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>HI, wao thank you for an amazing guide into leveraging Identity. Tried a couple before finding your awesome tutorial. I just have one question. Hos I could add angular 2 support to it. I know how to manage the frontend part I just need help setting up the api to host the angular 2 app inside an specific folder Ej: Resources/*Angular2AppFolders* </p>
<p>THANKS IN ADVANCED</p>
<p>Btw: Also looking forward to part 6.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-111896" data-commentid="111896" data-postid="987" data-belowelement="comment-111896" data-respondelement="respond" aria-label="Reply to Eduardo Sanfiorenzo">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-114629">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/1d03c020c30f276dc93fd0d8e5846c12.jpeg" srcset="https://secure.gravatar.com/avatar/1d03c020c30f276dc93fd0d8e5846c12?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Ric Castagna</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-09-28T22:44:00+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-114629" itemprop="url">September 28, 2017 at 10:44 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Taiseer, whatever happened to the promised Part 6 in this series? I was looking forward to seeing it all tied together, especially since I’m being tasked with the exact same requirements. Biggest thing for me is setting up a claim manager using Angular as we have a decoupled UI.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-114629" data-commentid="114629" data-postid="987" data-belowelement="comment-114629" data-respondelement="respond" aria-label="Reply to Ric Castagna">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-114663">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fca35a6737a18f74a5b078f8c6461cb0.jpg" srcset="https://secure.gravatar.com/avatar/fca35a6737a18f74a5b078f8c6461cb0?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">nicholas</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-09-29T14:48:23+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-114663" itemprop="url">September 29, 2017 at 2:48 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>This tutorial was so unbelievably clear, with no error whatsoever. I have searched the web time and time again and this is by far the best tutorial I have encountered. Smooth implementation and if anything went wrong the answer was either in the comments or I could just have a look at the source code on GitHub for clarification. I just want to thank you very much for the time you took and I appreciate the time you have put into this to get this done so clear and easy to follow.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-114663" data-commentid="114663" data-postid="987" data-belowelement="comment-114663" data-respondelement="respond" aria-label="Reply to nicholas">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-114935">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/4e0987b5a9544fba19e7889d51d856e0.jpg" srcset="https://secure.gravatar.com/avatar/4e0987b5a9544fba19e7889d51d856e0?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Tarun Ohri</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-10-03T18:09:23+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-114935" itemprop="url">October 3, 2017 at 6:09 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Thanks Taiseer for such enlightening articles. How can we apply claims in our Resource Server (separate API from Authorization server) ? I am not able to use ClaimsAuthorizationAttribute in my Resource Server’s. Please suggest how to do it.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-114935" data-commentid="114935" data-postid="987" data-belowelement="comment-114935" data-respondelement="respond" aria-label="Reply to Tarun Ohri">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-odd thread-alt depth-1" id="comment-115194">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/4e0987b5a9544fba19e7889d51d856e0.jpg" srcset="https://secure.gravatar.com/avatar/4e0987b5a9544fba19e7889d51d856e0?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Tarun Ohri</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-10-07T14:44:22+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-115194" itemprop="url">October 7, 2017 at 2:44 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Also, how can we communicate from one resource server to another without involving client ?<br>
Thanks!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-115194" data-commentid="115194" data-postid="987" data-belowelement="comment-115194" data-respondelement="respond" aria-label="Reply to Tarun Ohri">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-even depth-1" id="comment-118921">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/184ddce4073156f7f48cf9e28cef2385.jpg" srcset="https://secure.gravatar.com/avatar/184ddce4073156f7f48cf9e28cef2385?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Guilherme Camarotto</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-12-20T21:51:44+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-118921" itemprop="url">December 20, 2017 at 9:51 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello and thanks. Your posts is the most complete that I found on internet, with asp.net identity, jwt and all explanations around roles, claims and etc. Very helpful.<br>
You will make the part 6?<br>
I want to make a mvc project to consumes this api, do you have any example for this?<br>
Thanks again</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-118921" data-commentid="118921" data-postid="987" data-belowelement="comment-118921" data-respondelement="respond" aria-label="Reply to Guilherme Camarotto">Reply</a></div>
		
	</article>
	<ul class="children">

	<li class="comment even depth-2" id="comment-118922">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/184ddce4073156f7f48cf9e28cef2385.jpg" srcset="https://secure.gravatar.com/avatar/184ddce4073156f7f48cf9e28cef2385?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Guilherme Camarotto</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2017-12-20T21:55:28+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-118922" itemprop="url">December 20, 2017 at 9:55 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>your posts are*, im sorry, english is not my native language.<br>
when I said that I want to make a mvc project, I means that I want to create view for the api, don’t need to be a whole mvc project, just the views inside the api its fits.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-118922" data-commentid="118922" data-postid="987" data-belowelement="comment-118922" data-respondelement="respond" aria-label="Reply to Guilherme Camarotto">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-119511">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/84e4abf32d7ca81a58c5564be1427bae.jpg" srcset="https://secure.gravatar.com/avatar/84e4abf32d7ca81a58c5564be1427bae?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Md. Masud</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2018-01-04T08:02:08+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-119511" itemprop="url">January 4, 2018 at 8:02 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Your all tutorials are great to me. Please write something on ASP.NET Core with JWT.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-119511" data-commentid="119511" data-postid="987" data-belowelement="comment-119511" data-respondelement="respond" aria-label="Reply to Md. Masud">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-120045">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/eb98495a6ec5b6443dae39c21c913174.jpg" srcset="https://secure.gravatar.com/avatar/eb98495a6ec5b6443dae39c21c913174?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Ronak Thakkar</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2018-01-18T17:57:59+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-120045" itemprop="url">January 18, 2018 at 5:57 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Taiseer, what a wonderful &amp; detailed explanation. I thoroughly enjoyed reading all articles of this series. Eagerly waiting for the last one to see how have you used token in Angular client.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-120045" data-commentid="120045" data-postid="987" data-belowelement="comment-120045" data-respondelement="respond" aria-label="Reply to Ronak Thakkar">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-120477">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/c97b3a131f024d23b3bd72b60c90d7a4.jpg" srcset="https://secure.gravatar.com/avatar/c97b3a131f024d23b3bd72b60c90d7a4?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Sam</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2018-01-26T10:13:45+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-120477" itemprop="url">January 26, 2018 at 10:13 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hi  @tjoudeh,</p>
<p>Greaat posts! Any chance you can let us know when part 6 is coming?</p>
<p>very insightful and educational, please keep up the good work.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-120477" data-commentid="120477" data-postid="987" data-belowelement="comment-120477" data-respondelement="respond" aria-label="Reply to Sam">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment even thread-even depth-1" id="comment-125410">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/3acab8a718c26c4f4fac0ba29194d315.jpeg" srcset="https://secure.gravatar.com/avatar/3acab8a718c26c4f4fac0ba29194d315?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name">Francis</span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2018-05-16T06:37:12+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-125410" itemprop="url">May 16, 2018 at 6:37 am</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Hello,</p>
<p>Any news regarding the part 6???</p>
<p>Great job!</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-125410" data-commentid="125410" data-postid="987" data-belowelement="comment-125410" data-respondelement="respond" aria-label="Reply to Francis">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->

	<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-146798">
	<article itemprop="comment" itemscope="" itemtype="https://schema.org/Comment">

		
		<header class="comment-header">
			<p class="comment-author" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
				<img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/cada4b177da627bf6d675557086977e4.jpg" srcset="https://secure.gravatar.com/avatar/cada4b177da627bf6d675557086977e4?s=96&amp;r=g 2x" class="avatar avatar-48 photo" height="48" width="48"><span class="comment-author-name" itemprop="name"><a href="http://sicogb.com.pk/" class="comment-author-link" rel="external nofollow" itemprop="url">ejaz</a></span> <span class="says">says</span>			</p>

			<p class="comment-meta"><time class="comment-time" datetime="2020-01-17T17:06:07+03:00" itemprop="datePublished"><a class="comment-time-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-2/#comment-146798" itemprop="url">January 17, 2020 at 5:06 pm</a></time></p>		</header>

		<div class="comment-content" itemprop="text">
			
			<p>Taiseer, what a wonderful &amp; detailed explanation. I thoroughly enjoyed reading all articles of this series. Eagerly waiting for the last one to see how have you used token in Angular client.</p>
		</div>

		<div class="comment-reply"><a rel="nofollow" class="comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comment-146798" data-commentid="146798" data-postid="987" data-belowelement="comment-146798" data-respondelement="respond" aria-label="Reply to ejaz">Reply</a></div>
		
	</article>
	</li><!-- #comment-## -->
</ol><div class="comments-pagination pagination"><div class="pagination-previous alignleft"><a href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/comment-page-1/#comments">« Older Comments</a></div><div class="pagination-next alignright"></div></div></div>	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://bitoftech.net/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="987" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="36090d2cd8"></p><p style="display: none;"></p><input type="hidden" id="ak_js" name="ak_js" value="1586782666610"></form>	</div><!-- #respond -->
	<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p></main><aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar" style="visibility: visible; opacity: 1;"><section id="user-profile-2" class="widget user-profile"><div class="widget-wrap"><h4 class="widget-title widgettitle">About Taiseer</h4>
<p><span class="alignleft"><img alt="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/9eb6f781385423defcafb5d1077f2c9c(1).png" srcset="https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=170&amp;r=g 2x" class="avatar avatar-85 photo" height="85" width="85"></span>Husband, Father, Consultant @ MSFT, Life Time Learner... <a class="pagelink" href="https://bitoftech.net/taiseer-joudeh-blog/">Read More…</a></p>
</div></section>
<section id="custom_html-8" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><style>.bmc-button img{width: 27px !important;margin-bottom: 3px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 41px !important;height:41px !important;text-decoration: none !important;display:inline-block !important;color:#ffffff !important;background-color:#FF813F !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 0px 9.5px !important;font-size: 24px !important;letter-spacing: 0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;-o-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;margin: 0 auto !important;font-family:"Cookie",sans-serif !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0 4px 16px 0 rgba(190, 190, 190,.45) !important;text-decoration: none !important;box-shadow: 0 4px 16px 0 rgba(190, 190, 190,.45) !important;opacity: 0.85 !important;color:#ffffff !important;}</style><link href="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/css(3)" rel="stylesheet"><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/bitoftech" rel="noopener noreferrer"><img src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/BMC-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:5px">Buy me a coffee</span></a></div></div></section>
<section id="custom_html-2" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><script async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(11).txt"></script>
<!-- Medium Image 1 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9008761019081236" data-ad-slot="8604871501" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0px;width:300px;height:250px;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(3).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></section>
<section id="custom_html-3" class="widget_text widget widget_custom_html" style="visibility: visible; opacity: 1;"><div class="widget_text widget-wrap" style="visibility: visible; opacity: 1;"><div class="textwidget custom-html-widget" style="visibility: visible; opacity: 1;"><script src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/fpi.js(1).download"></script><iframe id="sovrn_ad_unit_329848_async" margin="0" padding="0" frameborder="0" width="300" height="250" scrolling="no" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(4).html" data-zid="329848" class="sovrn_ad_unit" style="margin: 0px; padding: 0px; border: 0px none; width: 300px; height: 250px; overflow: hidden;"></iframe></div></div></section>
<section id="custom_html-4" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><!-- BuySellAds Zone Code -->
<div id="bsap_1296521" class="bsap bsap_1296521" data-serve="CABI5KT">
<style type="text/css">
div.bsap_1296521{width:300px;display:block;}div.bsap_1296521 a{width:300px;}div.bsap_1296521 a img{padding:0;}div.bsap_1296521 a em{font-style:normal;}div.bsap_1296521 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;}
div.bsap_1296521 img{border:0;clear:right;}
div.bsap_1296521 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}
div.bsap_1296521 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}
div.bsap_1296521 iframe{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;}div.bsap_1296521 a{line-height:100%;}div.bsap_1296521 a.adhere{width:300px;height:250px;line-height:2000%;}html>body div.bsap_1296521 a.adhere{width:298px;height:248px;}div.bsap_1296521 img.s{height:0;width:0;}div.bsap_1296521{line-height:9px;}div.bsap_1296521 .bsap_adhere a{height:19px !important;width:298px !important;font-size:10px;background:#f1f1f1;border:1px solid #e1e1e1;border-top:none;border-radius: 0 0 2px 2px;line-height:16px;}.bsap_backfillframe{border:0;}
</style>
<!-- no ad -->

<div class="bsap_adhere">

<a href="http://www.buysellads.com/buy/detail/240014/zone/1296521?utm_source=site_240014&amp;utm_medium=website&amp;utm_campaign=imagetext&amp;utm_content=zone_1296521" class="">Advertise Here</a>

</div>


<script type="text/javascript" id="auto_1" class="ignoreme"> if (typeof(BSACallback) !== 'undefined') BSACallback(); </script></div>
<!-- End BuySellAds Zone Code --></div></div></section>
<section id="custom_html-5" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div style="width:300px;">
<!-- BuySellAds Zone Code -->
<div id="bsap_1296793" class="bsap bsap_1296793" data-serve="CABI5KY">
<style type="text/css">
div.bsap_1296793{width:100%;display:block;}div.bsap_1296793 a{width:125px;}div.bsap_1296793 a img{padding:0;}div.bsap_1296793 a em{font-style:normal;}div.bsap_1296793 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:10px 10px 10px 10px;text-align:center;text-decoration:none;overflow:hidden;float:left;height:125px !important;}
div.bsap_1296793 img{border:0;clear:right;}
div.bsap_1296793 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}
div.bsap_1296793 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}
div.bsap_1296793 iframe{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:10px 10px 10px 10px;text-align:center;text-decoration:none;overflow:hidden;float:left;height:125px !important;}div.bsap_1296793 a{line-height:100%;}div.bsap_1296793 a.adhere{width:125px;height:125px;line-height:1000%;}html>body div.bsap_1296793 a.adhere{width:123px;height:123px;}div.bsap_1296793 img.s{height:0;width:0;}
</style>
<!-- no ad --><!-- no ad --><!-- no ad --><a href="https://srv.buysellads.com/ads/click/x/GTND42QYCYSI52JMCK7LYKQMFTSDE2QLC6BIKZ3JCWADK5QECESI623KC6BIE2JUCAAI6K3EHJNCLSIZ" class="ad3 odd " title="Programming Homework Help" id="bsa_7692691" target="_blank" rel="nofollow noopener">
<img src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/5527409-1457367585.gif" width="125" height="125" alt=""></a>

<a href="http://www.buysellads.com/buy/detail/240014/zone/1296793?utm_source=site_240014&amp;utm_medium=website&amp;utm_campaign=imagetext&amp;utm_content=zone_1296793" class="adhere">Advertise Here</a>


<script type="text/javascript" id="auto_2" class="ignoreme"> if (typeof(BSACallback) !== 'undefined') BSACallback(); </script></div>
<!-- End BuySellAds Zone Code -->
</div></div></div></section>
<section id="custom_html-6" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><!-- BuySellAds Zone Code -->
<div id="bsap_1300503" class="bsap bsap_1300503" data-serve="CAAI5KT">
<style type="text/css">
div.bsap_1300503{width:100%;display:block;}div.bsap_1300503 a{width:300px;}div.bsap_1300503 a img{padding:0;}div.bsap_1300503 a em{font-style:normal;}div.bsap_1300503 a{display:block;font-size:11px;color:#888;font-family:verdana,sans-serif;margin:0;text-align:center;text-decoration:none;overflow:hidden;}
div.bsap_1300503 img{border:0;clear:right;}
div.bsap_1300503 a.adhere{color:#666;font-weight:bold;font-size:12px;border:1px solid #ccc;background:#e7e7e7;text-align:center;}
div.bsap_1300503 a.adhere:hover{border:1px solid #999;background:#ddd;color:#333;}div.bsap_1300503 a{line-height:100%;}div.bsap_1300503 a.adhere{width:300px;height:250px;line-height:2000%;}html>body div.bsap_1300503 a.adhere{width:298px;height:248px;}div.bsap_1300503 img.s{height:0;width:0;}div.bsap_1300503{line-height:9px;}div.bsap_1300503 .bsap_adhere a{height:19px !important;width:298px !important;font-size:10px;background:#f1f1f1;border:1px solid #e1e1e1;border-top:none;border-radius: 0 0 2px 2px;line-height:16px;}.bsap_backfillframe{border:0;}
</style>
<!-- no ad -->

<div class="bsap_adhere">

<a href="http://www.buysellads.com/buy/detail/240014/zone/1300503?utm_source=site_240014&amp;utm_medium=website&amp;utm_campaign=imagetext&amp;utm_content=zone_1300503" class="">Advertise Here</a>

</div>


<script type="text/javascript" id="auto_3" class="ignoreme"> if (typeof(BSACallback) !== 'undefined') BSACallback(); </script></div>
<!-- End BuySellAds Zone Code --></div></div></section>
<section id="custom_html-7" class="widget_text widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><script async="" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/f(11).txt"></script>
<!-- Medium Image 2 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-9008761019081236" data-ad-slot="8649753901" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0px;width:300px;height:250px;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(5).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div></section>
		<section id="recent-posts-4" class="widget widget_recent_entries"><div class="widget-wrap">		<h4 class="widget-title widgettitle">Recent Posts</h4>
		<ul>
											<li>
					<a href="https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/">Azure Active Directory B2C Overview and Policies Management – Part 1</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/" aria-current="page">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a>
									</li>
					</ul>
		</div></section>
<section id="archives-3" class="widget widget_archive"><div class="widget-wrap"><h4 class="widget-title widgettitle">Blog Archives</h4>
		<label class="screen-reader-text" for="archives-dropdown-3">Blog Archives</label>
		<select id="archives-dropdown-3" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value="https://bitoftech.net/2016/08/"> August 2016 &nbsp;(3)</option>
	<option value="https://bitoftech.net/2015/03/"> March 2015 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2015/02/"> February 2015 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2015/01/"> January 2015 &nbsp;(3)</option>
	<option value="https://bitoftech.net/2014/12/"> December 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/11/"> November 2014 &nbsp;(1)</option>
	<option value="https://bitoftech.net/2014/10/"> October 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/09/"> September 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/08/"> August 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/07/"> July 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/06/"> June 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/05/"> May 2014 &nbsp;(1)</option>
	<option value="https://bitoftech.net/2014/04/"> April 2014 &nbsp;(3)</option>
	<option value="https://bitoftech.net/2014/03/"> March 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/02/"> February 2014 &nbsp;(2)</option>
	<option value="https://bitoftech.net/2014/01/"> January 2014 &nbsp;(4)</option>
	<option value="https://bitoftech.net/2013/12/"> December 2013 &nbsp;(3)</option>
	<option value="https://bitoftech.net/2013/11/"> November 2013 &nbsp;(9)</option>
	<option value="https://bitoftech.net/2013/04/"> April 2013 &nbsp;(2)</option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-3" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>

		</div></section>
</aside></div></div></div><div class="footer-widgets"><div class="wrap"><div class="widget-area footer-widgets-1 footer-widget-area">		<section id="recent-posts-3" class="widget widget_recent_entries"><div class="widget-wrap">		<h4 class="widget-title widgettitle">Recent Posts</h4>
		<ul>
											<li>
					<a href="https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/">Azure Active Directory B2C Overview and Policies Management – Part 1</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/" aria-current="page">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</a>
									</li>
											<li>
					<a href="https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a>
									</li>
					</ul>
		</div></section>
</div><div class="widget-area footer-widgets-2 footer-widget-area"><section id="tag_cloud-2" class="widget widget_tag_cloud"><div class="widget-wrap"><h4 class="widget-title widgettitle">Tags</h4>
<div class="tagcloud"><a href="https://bitoftech.net/tag/ajax/" class="tag-cloud-link tag-link-95 tag-link-position-1" style="font-size: 10.135593220339pt;" aria-label="AJAX (2 items)">AJAX</a>
<a href="https://bitoftech.net/tag/angularjs/" class="tag-cloud-link tag-link-96 tag-link-position-2" style="font-size: 17.610169491525pt;" aria-label="AngularJS (12 items)">AngularJS</a>
<a href="https://bitoftech.net/tag/api/" class="tag-cloud-link tag-link-17 tag-link-position-3" style="font-size: 19.389830508475pt;" aria-label="API (17 items)">API</a>
<a href="https://bitoftech.net/tag/api-versioning/" class="tag-cloud-link tag-link-18 tag-link-position-4" style="font-size: 10.135593220339pt;" aria-label="API Versioning (2 items)">API Versioning</a>
<a href="https://bitoftech.net/tag/asp-net/" class="tag-cloud-link tag-link-97 tag-link-position-5" style="font-size: 21.169491525424pt;" aria-label="ASP.NET (25 items)">ASP.NET</a>
<a href="https://bitoftech.net/tag/authentication/" class="tag-cloud-link tag-link-60 tag-link-position-6" style="font-size: 11.559322033898pt;" aria-label="Authentication (3 items)">Authentication</a>
<a href="https://bitoftech.net/tag/autherization-server/" class="tag-cloud-link tag-link-73 tag-link-position-7" style="font-size: 12.745762711864pt;" aria-label="Autherization Server (4 items)">Autherization Server</a>
<a href="https://bitoftech.net/tag/azure-active-directory-b2c/" class="tag-cloud-link tag-link-109 tag-link-position-8" style="font-size: 11.559322033898pt;" aria-label="Azure Active Directory B2C (3 items)">Azure Active Directory B2C</a>
<a href="https://bitoftech.net/tag/azure-ad-b2c/" class="tag-cloud-link tag-link-110 tag-link-position-9" style="font-size: 11.559322033898pt;" aria-label="Azure AD B2C (3 items)">Azure AD B2C</a>
<a href="https://bitoftech.net/tag/basic-authentication/" class="tag-cloud-link tag-link-19 tag-link-position-10" style="font-size: 8pt;" aria-label="basic authentication (1 item)">basic authentication</a>
<a href="https://bitoftech.net/tag/c/" class="tag-cloud-link tag-link-20 tag-link-position-11" style="font-size: 8pt;" aria-label="C# (1 item)">C#</a>
<a href="https://bitoftech.net/tag/cachecow/" class="tag-cloud-link tag-link-21 tag-link-position-12" style="font-size: 8pt;" aria-label="CacheCow (1 item)">CacheCow</a>
<a href="https://bitoftech.net/tag/client-side-templating/" class="tag-cloud-link tag-link-98 tag-link-position-13" style="font-size: 8pt;" aria-label="Client Side Templating (1 item)">Client Side Templating</a>
<a href="https://bitoftech.net/tag/code-first/" class="tag-cloud-link tag-link-22 tag-link-position-14" style="font-size: 12.745762711864pt;" aria-label="Code First (4 items)">Code First</a>
<a href="https://bitoftech.net/tag/dependency-injection/" class="tag-cloud-link tag-link-99 tag-link-position-15" style="font-size: 10.135593220339pt;" aria-label="Dependency Injection (2 items)">Dependency Injection</a>
<a href="https://bitoftech.net/tag/entity-framework/" class="tag-cloud-link tag-link-100 tag-link-position-16" style="font-size: 17.610169491525pt;" aria-label="Entity Framework (12 items)">Entity Framework</a>
<a href="https://bitoftech.net/tag/etag/" class="tag-cloud-link tag-link-24 tag-link-position-17" style="font-size: 8pt;" aria-label="ETag (1 item)">ETag</a>
<a href="https://bitoftech.net/tag/foursquare-api/" class="tag-cloud-link tag-link-25 tag-link-position-18" style="font-size: 12.745762711864pt;" aria-label="Foursquare API (4 items)">Foursquare API</a>
<a href="https://bitoftech.net/tag/http-caching/" class="tag-cloud-link tag-link-26 tag-link-position-19" style="font-size: 8pt;" aria-label="HTTP Caching (1 item)">HTTP Caching</a>
<a href="https://bitoftech.net/tag/http-verbs/" class="tag-cloud-link tag-link-27 tag-link-position-20" style="font-size: 8pt;" aria-label="HTTP Verbs (1 item)">HTTP Verbs</a>
<a href="https://bitoftech.net/tag/imdb-api/" class="tag-cloud-link tag-link-28 tag-link-position-21" style="font-size: 8pt;" aria-label="IMDB API (1 item)">IMDB API</a>
<a href="https://bitoftech.net/tag/ioc/" class="tag-cloud-link tag-link-29 tag-link-position-22" style="font-size: 8pt;" aria-label="IoC (1 item)">IoC</a>
<a href="https://bitoftech.net/tag/javascript/" class="tag-cloud-link tag-link-101 tag-link-position-23" style="font-size: 8pt;" aria-label="Javascript (1 item)">Javascript</a>
<a href="https://bitoftech.net/tag/jquery/" class="tag-cloud-link tag-link-102 tag-link-position-24" style="font-size: 10.135593220339pt;" aria-label="jQuery (2 items)">jQuery</a>
<a href="https://bitoftech.net/tag/json/" class="tag-cloud-link tag-link-30 tag-link-position-25" style="font-size: 10.135593220339pt;" aria-label="JSON (2 items)">JSON</a>
<a href="https://bitoftech.net/tag/json-web-tokens/" class="tag-cloud-link tag-link-79 tag-link-position-26" style="font-size: 10.135593220339pt;" aria-label="JSON Web Tokens (2 items)">JSON Web Tokens</a>
<a href="https://bitoftech.net/tag/jwt/" class="tag-cloud-link tag-link-59 tag-link-position-27" style="font-size: 12.745762711864pt;" aria-label="JWT (4 items)">JWT</a>
<a href="https://bitoftech.net/tag/model-factory/" class="tag-cloud-link tag-link-31 tag-link-position-28" style="font-size: 8pt;" aria-label="Model Factory (1 item)">Model Factory</a>
<a href="https://bitoftech.net/tag/ninject/" class="tag-cloud-link tag-link-103 tag-link-position-29" style="font-size: 11.559322033898pt;" aria-label="Ninject (3 items)">Ninject</a>
<a href="https://bitoftech.net/tag/oauth/" class="tag-cloud-link tag-link-62 tag-link-position-30" style="font-size: 15.71186440678pt;" aria-label="OAuth (8 items)">OAuth</a>
<a href="https://bitoftech.net/tag/odata/" class="tag-cloud-link tag-link-106 tag-link-position-31" style="font-size: 11.559322033898pt;" aria-label="OData (3 items)">OData</a>
<a href="https://bitoftech.net/tag/pagination/" class="tag-cloud-link tag-link-32 tag-link-position-32" style="font-size: 8pt;" aria-label="Pagination (1 item)">Pagination</a>
<a href="https://bitoftech.net/tag/resources-association/" class="tag-cloud-link tag-link-33 tag-link-position-33" style="font-size: 8pt;" aria-label="Resources Association (1 item)">Resources Association</a>
<a href="https://bitoftech.net/tag/resource-server/" class="tag-cloud-link tag-link-74 tag-link-position-34" style="font-size: 10.135593220339pt;" aria-label="Resource Server (2 items)">Resource Server</a>
<a href="https://bitoftech.net/tag/rest/" class="tag-cloud-link tag-link-34 tag-link-position-35" style="font-size: 19.389830508475pt;" aria-label="REST (17 items)">REST</a>
<a href="https://bitoftech.net/tag/restful/" class="tag-cloud-link tag-link-35 tag-link-position-36" style="font-size: 20.101694915254pt;" aria-label="RESTful (20 items)">RESTful</a>
<a href="https://bitoftech.net/tag/single-page-applications/" class="tag-cloud-link tag-link-104 tag-link-position-37" style="font-size: 12.745762711864pt;" aria-label="Single Page Applications (4 items)">Single Page Applications</a>
<a href="https://bitoftech.net/tag/spa/" class="tag-cloud-link tag-link-36 tag-link-position-38" style="font-size: 16.305084745763pt;" aria-label="SPA (9 items)">SPA</a>
<a href="https://bitoftech.net/tag/token-authentication/" class="tag-cloud-link tag-link-57 tag-link-position-39" style="font-size: 17.254237288136pt;" aria-label="Token Authentication (11 items)">Token Authentication</a>
<a href="https://bitoftech.net/tag/tutorial/" class="tag-cloud-link tag-link-37 tag-link-position-40" style="font-size: 21.64406779661pt;" aria-label="Tutorial (27 items)">Tutorial</a>
<a href="https://bitoftech.net/tag/web-api/" class="tag-cloud-link tag-link-38 tag-link-position-41" style="font-size: 22pt;" aria-label="Web API (29 items)">Web API</a>
<a href="https://bitoftech.net/tag/web-api-2/" class="tag-cloud-link tag-link-45 tag-link-position-42" style="font-size: 15.71186440678pt;" aria-label="Web API 2 (8 items)">Web API 2</a>
<a href="https://bitoftech.net/tag/web-api-security/" class="tag-cloud-link tag-link-105 tag-link-position-43" style="font-size: 16.305084745763pt;" aria-label="Web API Security (9 items)">Web API Security</a>
<a href="https://bitoftech.net/tag/web-service/" class="tag-cloud-link tag-link-40 tag-link-position-44" style="font-size: 19.033898305085pt;" aria-label="Web Service (16 items)">Web Service</a>
<a href="https://bitoftech.net/tag/wordpress-com/" class="tag-cloud-link tag-link-43 tag-link-position-45" style="font-size: 8pt;" aria-label="wordpress.com (1 item)">wordpress.com</a></div>
</div></section>
</div><div class="widget-area footer-widgets-3 footer-widget-area"><section id="search-3" class="widget widget_search"><div class="widget-wrap"><h4 class="widget-title widgettitle">Search</h4>
<form class="search-form" itemprop="potentialAction" itemscope="" itemtype="https://schema.org/SearchAction" method="get" action="https://bitoftech.net/" role="search"><input class="search-form-input" type="search" itemprop="query-input" name="s" id="searchform-1" placeholder="Search this website"><input class="search-form-submit" type="submit" value="Search"><meta itemprop="target" content="https://bitoftech.net/?s={s}"></form></div></section>
</div></div></div><footer class="site-footer" itemscope="" itemtype="https://schema.org/WPFooter"><div class="wrap"><p>Copyright ©&nbsp;2020 · <a href="http://my.studiopress.com/themes/eleven40/">eleven40 Pro Theme</a> on <a href="https://www.studiopress.com/">Genesis Framework</a> · <a href="https://wordpress.org/">WordPress</a> · <a rel="nofollow" href="https://bitoftech.net/wp-login.php">Log in</a></p></div></footer></div>
	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/bitoftech.net\/2015\/03\/31\/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1\/":987};
	</script>
				<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div>
			<script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=249643311490&version=v2.3'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>
			<script>
			jQuery( document.body ).on( 'post-load', function() {
				if ( 'undefined' !== typeof FB ) {
					FB.XFBML.parse();
				}
			} );
			</script>
						<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
			<script type="text/javascript">
			jQuery( document ).ready( function() {
				jQuery.getScript( 'https://platform.linkedin.com/in.js?async=true', function success() {
					IN.init();
				});
			});
			jQuery( document.body ).on( 'post-load', function() {
				if ( typeof IN != 'undefined' )
					IN.parse();
			});
			</script>	
<script type="text/javascript">
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"https:\/\/bitoftech.net\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/scripts.js.download"></script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/api.js.download"></script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/comment-reply.min.js.download"></script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/wp-embed.min.js.download"></script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/jquery.datatables.min.js.download"></script>
<script async="async" type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/form.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/sharing.min.js.download"></script>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
</script>
<script type="text/javascript">
jQuery(document).ready(function($){
$('#tablepress-5').dataTable({"stripeClasses":["even","odd"],"ordering":false,"paging":false,"searching":false,"info":false});
$('#tablepress-6').dataTable({"stripeClasses":["even","odd"],"ordering":false,"paging":false,"searching":false,"info":false});
});
</script><script type="text/javascript">
( function( grecaptcha, sitekey, actions ) {

	var wpcf7recaptcha = {

		execute: function( action ) {
			grecaptcha.execute(
				sitekey,
				{ action: action }
			).then( function( token ) {
				var forms = document.getElementsByTagName( 'form' );

				for ( var i = 0; i < forms.length; i++ ) {
					var fields = forms[ i ].getElementsByTagName( 'input' );

					for ( var j = 0; j < fields.length; j++ ) {
						var field = fields[ j ];

						if ( 'g-recaptcha-response' === field.getAttribute( 'name' ) ) {
							field.setAttribute( 'value', token );
							break;
						}
					}
				}
			} );
		},

		executeOnHomepage: function() {
			wpcf7recaptcha.execute( actions[ 'homepage' ] );
		},

		executeOnContactform: function() {
			wpcf7recaptcha.execute( actions[ 'contactform' ] );
		},

	};

	grecaptcha.ready(
		wpcf7recaptcha.executeOnHomepage
	);

	document.addEventListener( 'change',
		wpcf7recaptcha.executeOnContactform, false
	);

	document.addEventListener( 'wpcf7submit',
		wpcf7recaptcha.executeOnHomepage, false
	);

} )(
	grecaptcha,
	'6Lc4apsUAAAAAMPc1mCaVbjNJGFgiu0KKYhxpck8',
	{"homepage":"homepage","contactform":"contactform"}
);
</script>
<script type="text/javascript" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/e-202016.js.download" async="async" defer="defer"></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.3',blog:'64786678',post:'987',tz:'3',srv:'bitoftech.net'} ]);
	_stq.push([ 'clickTrackerInit', '64786678', '987' ]);
</script>

<div id="sharing_email" style="display: none;">
		<form action="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="">

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="">

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="">

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" title="This field is for validation and should not be changed">
			
			<img style="float: right; display: none" class="loading" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/loading.gif" alt="loading" width="16" height="16">
			<input type="submit" value="Send Email" class="sharing_send">
			<a rel="nofollow" href="https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#cancel" class="sharing_cancel" role="button">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><ins id="aswift_3_anchor" style="display:block;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;border:0px;width:0px;height:0px;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(6).html"></iframe></ins></ins></ins><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/widget_iframe.6787510241df65d128e2b60207ad4c25.html" title="Twitter settings iframe" style="display: none;"></iframe><div><div class="grecaptcha-badge" data-style="bottomright" style="width: 256px; height: 60px; display: block; transition: right 0.3s ease 0s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;"><div class="grecaptcha-logo"><iframe src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/anchor.html" width="256" height="60" role="presentation" name="a-lbc3j2xad9l9" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response-100000" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(7).html"></iframe></div><iframe id="google_osd_static_frame_4758186279007" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(8).html"></iframe><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/saved_resource(9).html"></iframe><img src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/g.gif" alt=":)" width="6" height="5" id="wpstats"></body><iframe id="google_esf" name="google_esf" src="./ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 - Part 5 - Bit of Technology_files/zrt_lookup.html" data-ad-client="ca-pub-9008761019081236" style="display: none;"></iframe></html>